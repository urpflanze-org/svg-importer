/*! For license information please see urpflanze-svg-importer.min.js.LICENSE.txt */
var t={725:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.rgbToHsl=e.hslToRgb=e.rgbToHex=void 0,e.rgbToHex=function(t,e,r){return`#${((1<<24)+(t<<16)+(e<<8)+r).toString(16).slice(1)}`},e.hslToRgb=function(t,e,r){let n,i,s;if(t/=360,r/=100,0==(e/=100))n=i=s=r;else{const o=(t,e,r)=>(r+=r<0?1:r>1?-1:0)<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t,a=r<.5?r*(1+e):r+e-r*e,h=2*r-a;n=o(h,a,t+1/3),i=o(h,a,t),s=o(h,a,t-1/3)}return[.5+255*n<<0,.5+255*i<<0,.5+255*s<<0]},e.rgbToHsl=function(t,e,r){t/=255,e/=255,r/=255;const n=Math.max(t,e,r),i=Math.min(t,e,r),s=(n+i)/2;let o,a;if(n===i)o=a=0;else{const h=n-i;switch(a=s>.5?h/(2-n-i):h/(n+i),n){case t:o=(e-r)/h+(e<r?6:0);break;case e:o=(r-t)/h+2;break;case r:o=(t-e)/h+4}o/=6}return[.5+360*o<<0,.5+100*a<<0,.5+100*s<<0]}},202:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},688:function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(785),e),i(r(725),e),i(r(951),e)},951:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseColor=e.parseColorAndConvert=void 0;const n=r(202),i=r(725);function s(t){if("number"==typeof t)return t>16777215?{type:"rgb",a:t>>24&255,b:t>>16&255,c:t>>8&255,alpha:(255&t)/255}:{type:"rgb",a:t>>16&255,b:t>>8&255,c:255&t,alpha:1};t=t.replace(/\s/g,""),n.default[t]&&(t=n.default[t]);let e=/^#([0-9a-f]{3,8})$/i.exec(t);if(e){const t=e[1];return 3===t.length?{type:"rgb",a:parseInt(t[0]+t[0],16),b:parseInt(t[1]+t[1],16),c:parseInt(t[2]+t[2],16),alpha:1}:{type:"rgb",a:parseInt(t[0]+t[1],16),b:parseInt(t[2]+t[3],16),c:parseInt(t[4]+t[5],16),alpha:t.length>6?parseInt(t.substring(6),16)/255:1}}if(e=/^((hsl|rgb)a?)\((\d+),(\d+)%?,(\d+)%?,?(.+)?\)$/i.exec(t),e){const[,,t,r,n,i,s]=e;return{type:t,a:+r,b:+n,c:+i,alpha:s?+s:1}}}e.parseColorAndConvert=function(t){const e=s(t);if(e){if("hsl"===e.type){const[t,r,n]=i.hslToRgb(e.a,e.b,e.c);return{r:t,g:r,b:n,h:e.a,s:e.b,l:e.c,alpha:e.alpha}}{const[t,r,n]=i.rgbToHsl(e.a,e.b,e.c);return{h:t,s:r,l:n,r:e.a,g:e.b,b:e.c,alpha:e.alpha}}}},e.parseColor=s},785:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},926:t=>{var e;window,e=function(){return(()=>{var t=[function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.mod=e.log=e.PI2=e.PHI=e.Vec2=e.distributePointsInBuffer=e.prepareBufferForInterpolation=e.interpolate=e.distanceFromRepetition=e.angle2FromRepetition=e.angleFromRepetition=e.random=e.noise=e.now=e.toRadians=e.toDegrees=e.relativeClamp=e.clamp=e.lerp=void 0,i(r(1),e),r(10).glMatrix.setMatrixArrayType(Array),i(r(21),e),i(r(22),e),i(r(23),e),i(r(24),e),i(r(33),e),i(r(34),e),i(r(35),e),i(r(32),e),i(r(36),e),i(r(37),e),i(r(38),e),i(r(39),e),i(r(40),e),i(r(41),e),i(r(42),e),i(r(43),e),i(r(44),e),i(r(45),e),i(r(46),e),i(r(47),e),i(r(29),e),i(r(48),e);var s=r(30);Object.defineProperty(e,"lerp",{enumerable:!0,get:function(){return s.lerp}}),Object.defineProperty(e,"clamp",{enumerable:!0,get:function(){return s.clamp}}),Object.defineProperty(e,"relativeClamp",{enumerable:!0,get:function(){return s.relativeClamp}}),Object.defineProperty(e,"toDegrees",{enumerable:!0,get:function(){return s.toDegrees}}),Object.defineProperty(e,"toRadians",{enumerable:!0,get:function(){return s.toRadians}}),Object.defineProperty(e,"now",{enumerable:!0,get:function(){return s.now}}),Object.defineProperty(e,"noise",{enumerable:!0,get:function(){return s.noise}}),Object.defineProperty(e,"random",{enumerable:!0,get:function(){return s.random}}),Object.defineProperty(e,"angleFromRepetition",{enumerable:!0,get:function(){return s.angleFromRepetition}}),Object.defineProperty(e,"angle2FromRepetition",{enumerable:!0,get:function(){return s.angle2FromRepetition}}),Object.defineProperty(e,"distanceFromRepetition",{enumerable:!0,get:function(){return s.distanceFromRepetition}}),Object.defineProperty(e,"interpolate",{enumerable:!0,get:function(){return s.interpolate}}),Object.defineProperty(e,"prepareBufferForInterpolation",{enumerable:!0,get:function(){return s.prepareBufferForInterpolation}}),Object.defineProperty(e,"distributePointsInBuffer",{enumerable:!0,get:function(){return s.distributePointsInBuffer}});var o=r(26);Object.defineProperty(e,"Vec2",{enumerable:!0,get:function(){return o.default}});var a=r(27);Object.defineProperty(e,"PHI",{enumerable:!0,get:function(){return a.PHI}}),Object.defineProperty(e,"PI2",{enumerable:!0,get:function(){return a.PI2}}),Object.defineProperty(e,"log",{enumerable:!0,get:function(){return a.log}}),Object.defineProperty(e,"mod",{enumerable:!0,get:function(){return a.mod}})},function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(2),e),i(r(3),e),i(r(4),e),i(r(5),e),i(r(6),e),i(r(7),e),i(r(8),e),i(r(9),e)},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},(t,e)=>{var r;Object.defineProperty(e,"__esModule",{value:!0}),e.ERepetitionType=void 0,(r=e.ERepetitionType||(e.ERepetitionType={}))[r.Ring=1]="Ring",r[r.Matrix=2]="Matrix"},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},(t,e)=>{var r;Object.defineProperty(e,"__esModule",{value:!0}),e.EBoundingType=void 0,(r=e.EBoundingType||(e.EBoundingType={}))[r.Relative=1]="Relative",r[r.Fixed=2]="Fixed"},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},(t,e,r)=>{r.r(e),r.d(e,{glMatrix:()=>n,mat2:()=>i,mat2d:()=>s,mat3:()=>o,mat4:()=>a,quat:()=>h,quat2:()=>u,vec2:()=>c,vec3:()=>l,vec4:()=>f});var n=r(11),i=r(12),s=r(13),o=r(14),a=r(15),h=r(16),u=r(19),c=r(20),l=r(18),f=r(17)},(t,e,r)=>{r.r(e),r.d(e,{EPSILON:()=>n,ARRAY_TYPE:()=>i,RANDOM:()=>s,setMatrixArrayType:()=>o,toRadian:()=>h,equals:()=>u});var n=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array,s=Math.random;function o(t){i=t}var a=Math.PI/180;function h(t){return t*a}function u(t,e){return Math.abs(t-e)<=n*Math.max(1,Math.abs(t),Math.abs(e))}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},(t,e,r)=>{r.r(e),r.d(e,{create:()=>i,clone:()=>s,copy:()=>o,identity:()=>a,fromValues:()=>h,set:()=>u,transpose:()=>c,invert:()=>l,adjoint:()=>f,determinant:()=>d,multiply:()=>p,rotate:()=>m,scale:()=>g,fromRotation:()=>y,fromScaling:()=>v,str:()=>b,frob:()=>x,LDU:()=>M,add:()=>w,subtract:()=>_,exactEquals:()=>S,equals:()=>A,multiplyScalar:()=>P,multiplyScalarAndAdd:()=>E,mul:()=>O,sub:()=>I});var n=r(11);function i(){var t=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function s(t){var e=new n.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function a(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function h(t,e,r,i){var s=new n.ARRAY_TYPE(4);return s[0]=t,s[1]=e,s[2]=r,s[3]=i,s}function u(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function c(t,e){if(t===e){var r=e[1];t[1]=e[2],t[2]=r}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function l(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],o=r*s-i*n;return o?(o=1/o,t[0]=s*o,t[1]=-n*o,t[2]=-i*o,t[3]=r*o,t):null}function f(t,e){var r=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=r,t}function d(t){return t[0]*t[3]-t[2]*t[1]}function p(t,e,r){var n=e[0],i=e[1],s=e[2],o=e[3],a=r[0],h=r[1],u=r[2],c=r[3];return t[0]=n*a+s*h,t[1]=i*a+o*h,t[2]=n*u+s*c,t[3]=i*u+o*c,t}function m(t,e,r){var n=e[0],i=e[1],s=e[2],o=e[3],a=Math.sin(r),h=Math.cos(r);return t[0]=n*h+s*a,t[1]=i*h+o*a,t[2]=n*-a+s*h,t[3]=i*-a+o*h,t}function g(t,e,r){var n=e[0],i=e[1],s=e[2],o=e[3],a=r[0],h=r[1];return t[0]=n*a,t[1]=i*a,t[2]=s*h,t[3]=o*h,t}function y(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t}function v(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function b(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function x(t){return Math.hypot(t[0],t[1],t[2],t[3])}function M(t,e,r,n){return t[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-t[2]*r[1],[t,e,r]}function w(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function _(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function S(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function A(t,e){var r=t[0],i=t[1],s=t[2],o=t[3],a=e[0],h=e[1],u=e[2],c=e[3];return Math.abs(r-a)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-h)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(s-u)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(u))&&Math.abs(o-c)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))}function P(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function E(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t}var O=p,I=_},(t,e,r)=>{r.r(e),r.d(e,{create:()=>i,clone:()=>s,copy:()=>o,identity:()=>a,fromValues:()=>h,set:()=>u,invert:()=>c,determinant:()=>l,multiply:()=>f,rotate:()=>d,scale:()=>p,translate:()=>m,fromRotation:()=>g,fromScaling:()=>y,fromTranslation:()=>v,str:()=>b,frob:()=>x,add:()=>M,subtract:()=>w,multiplyScalar:()=>_,multiplyScalarAndAdd:()=>S,exactEquals:()=>A,equals:()=>P,mul:()=>E,sub:()=>O});var n=r(11);function i(){var t=new n.ARRAY_TYPE(6);return n.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function s(t){var e=new n.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function a(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function h(t,e,r,i,s,o){var a=new n.ARRAY_TYPE(6);return a[0]=t,a[1]=e,a[2]=r,a[3]=i,a[4]=s,a[5]=o,a}function u(t,e,r,n,i,s,o){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=s,t[5]=o,t}function c(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],h=r*s-n*i;return h?(h=1/h,t[0]=s*h,t[1]=-n*h,t[2]=-i*h,t[3]=r*h,t[4]=(i*a-s*o)*h,t[5]=(n*o-r*a)*h,t):null}function l(t){return t[0]*t[3]-t[1]*t[2]}function f(t,e,r){var n=e[0],i=e[1],s=e[2],o=e[3],a=e[4],h=e[5],u=r[0],c=r[1],l=r[2],f=r[3],d=r[4],p=r[5];return t[0]=n*u+s*c,t[1]=i*u+o*c,t[2]=n*l+s*f,t[3]=i*l+o*f,t[4]=n*d+s*p+a,t[5]=i*d+o*p+h,t}function d(t,e,r){var n=e[0],i=e[1],s=e[2],o=e[3],a=e[4],h=e[5],u=Math.sin(r),c=Math.cos(r);return t[0]=n*c+s*u,t[1]=i*c+o*u,t[2]=n*-u+s*c,t[3]=i*-u+o*c,t[4]=a,t[5]=h,t}function p(t,e,r){var n=e[0],i=e[1],s=e[2],o=e[3],a=e[4],h=e[5],u=r[0],c=r[1];return t[0]=n*u,t[1]=i*u,t[2]=s*c,t[3]=o*c,t[4]=a,t[5]=h,t}function m(t,e,r){var n=e[0],i=e[1],s=e[2],o=e[3],a=e[4],h=e[5],u=r[0],c=r[1];return t[0]=n,t[1]=i,t[2]=s,t[3]=o,t[4]=n*u+s*c+a,t[5]=i*u+o*c+h,t}function g(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t[4]=0,t[5]=0,t}function y(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function v(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function b(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function x(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)}function M(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t}function w(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t}function _(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t}function S(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t}function A(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function P(t,e){var r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],h=t[5],u=e[0],c=e[1],l=e[2],f=e[3],d=e[4],p=e[5];return Math.abs(r-u)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-c)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(s-l)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(o-f)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(a-d)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(h-p)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(p))}var E=f,O=w},(t,e,r)=>{r.r(e),r.d(e,{create:()=>i,fromMat4:()=>s,clone:()=>o,copy:()=>a,fromValues:()=>h,set:()=>u,identity:()=>c,transpose:()=>l,invert:()=>f,adjoint:()=>d,determinant:()=>p,multiply:()=>m,translate:()=>g,rotate:()=>y,scale:()=>v,fromTranslation:()=>b,fromRotation:()=>x,fromScaling:()=>M,fromMat2d:()=>w,fromQuat:()=>_,normalFromMat4:()=>S,projection:()=>A,str:()=>P,frob:()=>E,add:()=>O,subtract:()=>I,multiplyScalar:()=>R,multiplyScalarAndAdd:()=>C,exactEquals:()=>L,equals:()=>T,mul:()=>k,sub:()=>B});var n=r(11);function i(){var t=new n.ARRAY_TYPE(9);return n.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function o(t){var e=new n.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function h(t,e,r,i,s,o,a,h,u){var c=new n.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=r,c[3]=i,c[4]=s,c[5]=o,c[6]=a,c[7]=h,c[8]=u,c}function u(t,e,r,n,i,s,o,a,h,u){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=s,t[5]=o,t[6]=a,t[7]=h,t[8]=u,t}function c(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function l(t,e){if(t===e){var r=e[1],n=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function f(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],h=e[6],u=e[7],c=e[8],l=c*o-a*u,f=-c*s+a*h,d=u*s-o*h,p=r*l+n*f+i*d;return p?(p=1/p,t[0]=l*p,t[1]=(-c*n+i*u)*p,t[2]=(a*n-i*o)*p,t[3]=f*p,t[4]=(c*r-i*h)*p,t[5]=(-a*r+i*s)*p,t[6]=d*p,t[7]=(-u*r+n*h)*p,t[8]=(o*r-n*s)*p,t):null}function d(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],h=e[6],u=e[7],c=e[8];return t[0]=o*c-a*u,t[1]=i*u-n*c,t[2]=n*a-i*o,t[3]=a*h-s*c,t[4]=r*c-i*h,t[5]=i*s-r*a,t[6]=s*u-o*h,t[7]=n*h-r*u,t[8]=r*o-n*s,t}function p(t){var e=t[0],r=t[1],n=t[2],i=t[3],s=t[4],o=t[5],a=t[6],h=t[7],u=t[8];return e*(u*s-o*h)+r*(-u*i+o*a)+n*(h*i-s*a)}function m(t,e,r){var n=e[0],i=e[1],s=e[2],o=e[3],a=e[4],h=e[5],u=e[6],c=e[7],l=e[8],f=r[0],d=r[1],p=r[2],m=r[3],g=r[4],y=r[5],v=r[6],b=r[7],x=r[8];return t[0]=f*n+d*o+p*u,t[1]=f*i+d*a+p*c,t[2]=f*s+d*h+p*l,t[3]=m*n+g*o+y*u,t[4]=m*i+g*a+y*c,t[5]=m*s+g*h+y*l,t[6]=v*n+b*o+x*u,t[7]=v*i+b*a+x*c,t[8]=v*s+b*h+x*l,t}function g(t,e,r){var n=e[0],i=e[1],s=e[2],o=e[3],a=e[4],h=e[5],u=e[6],c=e[7],l=e[8],f=r[0],d=r[1];return t[0]=n,t[1]=i,t[2]=s,t[3]=o,t[4]=a,t[5]=h,t[6]=f*n+d*o+u,t[7]=f*i+d*a+c,t[8]=f*s+d*h+l,t}function y(t,e,r){var n=e[0],i=e[1],s=e[2],o=e[3],a=e[4],h=e[5],u=e[6],c=e[7],l=e[8],f=Math.sin(r),d=Math.cos(r);return t[0]=d*n+f*o,t[1]=d*i+f*a,t[2]=d*s+f*h,t[3]=d*o-f*n,t[4]=d*a-f*i,t[5]=d*h-f*s,t[6]=u,t[7]=c,t[8]=l,t}function v(t,e,r){var n=r[0],i=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function b(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function x(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function M(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function w(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function _(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],o=r+r,a=n+n,h=i+i,u=r*o,c=n*o,l=n*a,f=i*o,d=i*a,p=i*h,m=s*o,g=s*a,y=s*h;return t[0]=1-l-p,t[3]=c-y,t[6]=f+g,t[1]=c+y,t[4]=1-u-p,t[7]=d-m,t[2]=f-g,t[5]=d+m,t[8]=1-u-l,t}function S(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],h=e[6],u=e[7],c=e[8],l=e[9],f=e[10],d=e[11],p=e[12],m=e[13],g=e[14],y=e[15],v=r*a-n*o,b=r*h-i*o,x=r*u-s*o,M=n*h-i*a,w=n*u-s*a,_=i*u-s*h,S=c*m-l*p,A=c*g-f*p,P=c*y-d*p,E=l*g-f*m,O=l*y-d*m,I=f*y-d*g,R=v*I-b*O+x*E+M*P-w*A+_*S;return R?(R=1/R,t[0]=(a*I-h*O+u*E)*R,t[1]=(h*P-o*I-u*A)*R,t[2]=(o*O-a*P+u*S)*R,t[3]=(i*O-n*I-s*E)*R,t[4]=(r*I-i*P+s*A)*R,t[5]=(n*P-r*O-s*S)*R,t[6]=(m*_-g*w+y*M)*R,t[7]=(g*x-p*_-y*b)*R,t[8]=(p*w-m*x+y*v)*R,t):null}function A(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function P(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function E(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function O(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t}function I(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}function R(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t}function C(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t}function L(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function T(t,e){var r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],h=t[5],u=t[6],c=t[7],l=t[8],f=e[0],d=e[1],p=e[2],m=e[3],g=e[4],y=e[5],v=e[6],b=e[7],x=e[8];return Math.abs(r-f)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(i-d)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(s-p)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(o-m)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(a-g)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(h-y)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(y))&&Math.abs(u-v)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(c-b)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(l-x)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(x))}var k=m,B=I},(t,e,r)=>{r.r(e),r.d(e,{create:()=>i,clone:()=>s,copy:()=>o,fromValues:()=>a,set:()=>h,identity:()=>u,transpose:()=>c,invert:()=>l,adjoint:()=>f,determinant:()=>d,multiply:()=>p,translate:()=>m,scale:()=>g,rotate:()=>y,rotateX:()=>v,rotateY:()=>b,rotateZ:()=>x,fromTranslation:()=>M,fromScaling:()=>w,fromRotation:()=>_,fromXRotation:()=>S,fromYRotation:()=>A,fromZRotation:()=>P,fromRotationTranslation:()=>E,fromQuat2:()=>O,getTranslation:()=>I,getScaling:()=>R,getRotation:()=>C,fromRotationTranslationScale:()=>L,fromRotationTranslationScaleOrigin:()=>T,fromQuat:()=>k,frustum:()=>B,perspective:()=>N,perspectiveFromFieldOfView:()=>F,ortho:()=>j,lookAt:()=>q,targetTo:()=>Y,str:()=>D,frob:()=>z,add:()=>V,subtract:()=>$,multiplyScalar:()=>X,multiplyScalarAndAdd:()=>G,exactEquals:()=>U,equals:()=>H,mul:()=>Z,sub:()=>Q});var n=r(11);function i(){var t=new n.ARRAY_TYPE(16);return n.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function s(t){var e=new n.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function a(t,e,r,i,s,o,a,h,u,c,l,f,d,p,m,g){var y=new n.ARRAY_TYPE(16);return y[0]=t,y[1]=e,y[2]=r,y[3]=i,y[4]=s,y[5]=o,y[6]=a,y[7]=h,y[8]=u,y[9]=c,y[10]=l,y[11]=f,y[12]=d,y[13]=p,y[14]=m,y[15]=g,y}function h(t,e,r,n,i,s,o,a,h,u,c,l,f,d,p,m,g){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=s,t[5]=o,t[6]=a,t[7]=h,t[8]=u,t[9]=c,t[10]=l,t[11]=f,t[12]=d,t[13]=p,t[14]=m,t[15]=g,t}function u(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function c(t,e){if(t===e){var r=e[1],n=e[2],i=e[3],s=e[6],o=e[7],a=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=s,t[11]=e[14],t[12]=i,t[13]=o,t[14]=a}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function l(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],h=e[6],u=e[7],c=e[8],l=e[9],f=e[10],d=e[11],p=e[12],m=e[13],g=e[14],y=e[15],v=r*a-n*o,b=r*h-i*o,x=r*u-s*o,M=n*h-i*a,w=n*u-s*a,_=i*u-s*h,S=c*m-l*p,A=c*g-f*p,P=c*y-d*p,E=l*g-f*m,O=l*y-d*m,I=f*y-d*g,R=v*I-b*O+x*E+M*P-w*A+_*S;return R?(R=1/R,t[0]=(a*I-h*O+u*E)*R,t[1]=(i*O-n*I-s*E)*R,t[2]=(m*_-g*w+y*M)*R,t[3]=(f*w-l*_-d*M)*R,t[4]=(h*P-o*I-u*A)*R,t[5]=(r*I-i*P+s*A)*R,t[6]=(g*x-p*_-y*b)*R,t[7]=(c*_-f*x+d*b)*R,t[8]=(o*O-a*P+u*S)*R,t[9]=(n*P-r*O-s*S)*R,t[10]=(p*w-m*x+y*v)*R,t[11]=(l*x-c*w-d*v)*R,t[12]=(a*A-o*E-h*S)*R,t[13]=(r*E-n*A+i*S)*R,t[14]=(m*b-p*M-g*v)*R,t[15]=(c*M-l*b+f*v)*R,t):null}function f(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],h=e[6],u=e[7],c=e[8],l=e[9],f=e[10],d=e[11],p=e[12],m=e[13],g=e[14],y=e[15];return t[0]=a*(f*y-d*g)-l*(h*y-u*g)+m*(h*d-u*f),t[1]=-(n*(f*y-d*g)-l*(i*y-s*g)+m*(i*d-s*f)),t[2]=n*(h*y-u*g)-a*(i*y-s*g)+m*(i*u-s*h),t[3]=-(n*(h*d-u*f)-a*(i*d-s*f)+l*(i*u-s*h)),t[4]=-(o*(f*y-d*g)-c*(h*y-u*g)+p*(h*d-u*f)),t[5]=r*(f*y-d*g)-c*(i*y-s*g)+p*(i*d-s*f),t[6]=-(r*(h*y-u*g)-o*(i*y-s*g)+p*(i*u-s*h)),t[7]=r*(h*d-u*f)-o*(i*d-s*f)+c*(i*u-s*h),t[8]=o*(l*y-d*m)-c*(a*y-u*m)+p*(a*d-u*l),t[9]=-(r*(l*y-d*m)-c*(n*y-s*m)+p*(n*d-s*l)),t[10]=r*(a*y-u*m)-o*(n*y-s*m)+p*(n*u-s*a),t[11]=-(r*(a*d-u*l)-o*(n*d-s*l)+c*(n*u-s*a)),t[12]=-(o*(l*g-f*m)-c*(a*g-h*m)+p*(a*f-h*l)),t[13]=r*(l*g-f*m)-c*(n*g-i*m)+p*(n*f-i*l),t[14]=-(r*(a*g-h*m)-o*(n*g-i*m)+p*(n*h-i*a)),t[15]=r*(a*f-h*l)-o*(n*f-i*l)+c*(n*h-i*a),t}function d(t){var e=t[0],r=t[1],n=t[2],i=t[3],s=t[4],o=t[5],a=t[6],h=t[7],u=t[8],c=t[9],l=t[10],f=t[11],d=t[12],p=t[13],m=t[14],g=t[15];return(e*o-r*s)*(l*g-f*m)-(e*a-n*s)*(c*g-f*p)+(e*h-i*s)*(c*m-l*p)+(r*a-n*o)*(u*g-f*d)-(r*h-i*o)*(u*m-l*d)+(n*h-i*a)*(u*p-c*d)}function p(t,e,r){var n=e[0],i=e[1],s=e[2],o=e[3],a=e[4],h=e[5],u=e[6],c=e[7],l=e[8],f=e[9],d=e[10],p=e[11],m=e[12],g=e[13],y=e[14],v=e[15],b=r[0],x=r[1],M=r[2],w=r[3];return t[0]=b*n+x*a+M*l+w*m,t[1]=b*i+x*h+M*f+w*g,t[2]=b*s+x*u+M*d+w*y,t[3]=b*o+x*c+M*p+w*v,b=r[4],x=r[5],M=r[6],w=r[7],t[4]=b*n+x*a+M*l+w*m,t[5]=b*i+x*h+M*f+w*g,t[6]=b*s+x*u+M*d+w*y,t[7]=b*o+x*c+M*p+w*v,b=r[8],x=r[9],M=r[10],w=r[11],t[8]=b*n+x*a+M*l+w*m,t[9]=b*i+x*h+M*f+w*g,t[10]=b*s+x*u+M*d+w*y,t[11]=b*o+x*c+M*p+w*v,b=r[12],x=r[13],M=r[14],w=r[15],t[12]=b*n+x*a+M*l+w*m,t[13]=b*i+x*h+M*f+w*g,t[14]=b*s+x*u+M*d+w*y,t[15]=b*o+x*c+M*p+w*v,t}function m(t,e,r){var n,i,s,o,a,h,u,c,l,f,d,p,m=r[0],g=r[1],y=r[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*y+e[12],t[13]=e[1]*m+e[5]*g+e[9]*y+e[13],t[14]=e[2]*m+e[6]*g+e[10]*y+e[14],t[15]=e[3]*m+e[7]*g+e[11]*y+e[15]):(n=e[0],i=e[1],s=e[2],o=e[3],a=e[4],h=e[5],u=e[6],c=e[7],l=e[8],f=e[9],d=e[10],p=e[11],t[0]=n,t[1]=i,t[2]=s,t[3]=o,t[4]=a,t[5]=h,t[6]=u,t[7]=c,t[8]=l,t[9]=f,t[10]=d,t[11]=p,t[12]=n*m+a*g+l*y+e[12],t[13]=i*m+h*g+f*y+e[13],t[14]=s*m+u*g+d*y+e[14],t[15]=o*m+c*g+p*y+e[15]),t}function g(t,e,r){var n=r[0],i=r[1],s=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function y(t,e,r,i){var s,o,a,h,u,c,l,f,d,p,m,g,y,v,b,x,M,w,_,S,A,P,E,O,I=i[0],R=i[1],C=i[2],L=Math.hypot(I,R,C);return L<n.EPSILON?null:(I*=L=1/L,R*=L,C*=L,s=Math.sin(r),a=1-(o=Math.cos(r)),h=e[0],u=e[1],c=e[2],l=e[3],f=e[4],d=e[5],p=e[6],m=e[7],g=e[8],y=e[9],v=e[10],b=e[11],x=I*I*a+o,M=R*I*a+C*s,w=C*I*a-R*s,_=I*R*a-C*s,S=R*R*a+o,A=C*R*a+I*s,P=I*C*a+R*s,E=R*C*a-I*s,O=C*C*a+o,t[0]=h*x+f*M+g*w,t[1]=u*x+d*M+y*w,t[2]=c*x+p*M+v*w,t[3]=l*x+m*M+b*w,t[4]=h*_+f*S+g*A,t[5]=u*_+d*S+y*A,t[6]=c*_+p*S+v*A,t[7]=l*_+m*S+b*A,t[8]=h*P+f*E+g*O,t[9]=u*P+d*E+y*O,t[10]=c*P+p*E+v*O,t[11]=l*P+m*E+b*O,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function v(t,e,r){var n=Math.sin(r),i=Math.cos(r),s=e[4],o=e[5],a=e[6],h=e[7],u=e[8],c=e[9],l=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=s*i+u*n,t[5]=o*i+c*n,t[6]=a*i+l*n,t[7]=h*i+f*n,t[8]=u*i-s*n,t[9]=c*i-o*n,t[10]=l*i-a*n,t[11]=f*i-h*n,t}function b(t,e,r){var n=Math.sin(r),i=Math.cos(r),s=e[0],o=e[1],a=e[2],h=e[3],u=e[8],c=e[9],l=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*i-u*n,t[1]=o*i-c*n,t[2]=a*i-l*n,t[3]=h*i-f*n,t[8]=s*n+u*i,t[9]=o*n+c*i,t[10]=a*n+l*i,t[11]=h*n+f*i,t}function x(t,e,r){var n=Math.sin(r),i=Math.cos(r),s=e[0],o=e[1],a=e[2],h=e[3],u=e[4],c=e[5],l=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*i+u*n,t[1]=o*i+c*n,t[2]=a*i+l*n,t[3]=h*i+f*n,t[4]=u*i-s*n,t[5]=c*i-o*n,t[6]=l*i-a*n,t[7]=f*i-h*n,t}function M(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function w(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function _(t,e,r){var i,s,o,a=r[0],h=r[1],u=r[2],c=Math.hypot(a,h,u);return c<n.EPSILON?null:(a*=c=1/c,h*=c,u*=c,i=Math.sin(e),o=1-(s=Math.cos(e)),t[0]=a*a*o+s,t[1]=h*a*o+u*i,t[2]=u*a*o-h*i,t[3]=0,t[4]=a*h*o-u*i,t[5]=h*h*o+s,t[6]=u*h*o+a*i,t[7]=0,t[8]=a*u*o+h*i,t[9]=h*u*o-a*i,t[10]=u*u*o+s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function S(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function A(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function P(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function E(t,e,r){var n=e[0],i=e[1],s=e[2],o=e[3],a=n+n,h=i+i,u=s+s,c=n*a,l=n*h,f=n*u,d=i*h,p=i*u,m=s*u,g=o*a,y=o*h,v=o*u;return t[0]=1-(d+m),t[1]=l+v,t[2]=f-y,t[3]=0,t[4]=l-v,t[5]=1-(c+m),t[6]=p+g,t[7]=0,t[8]=f+y,t[9]=p-g,t[10]=1-(c+d),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function O(t,e){var r=new n.ARRAY_TYPE(3),i=-e[0],s=-e[1],o=-e[2],a=e[3],h=e[4],u=e[5],c=e[6],l=e[7],f=i*i+s*s+o*o+a*a;return f>0?(r[0]=2*(h*a+l*i+u*o-c*s)/f,r[1]=2*(u*a+l*s+c*i-h*o)/f,r[2]=2*(c*a+l*o+h*s-u*i)/f):(r[0]=2*(h*a+l*i+u*o-c*s),r[1]=2*(u*a+l*s+c*i-h*o),r[2]=2*(c*a+l*o+h*s-u*i)),E(t,e,r),t}function I(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function R(t,e){var r=e[0],n=e[1],i=e[2],s=e[4],o=e[5],a=e[6],h=e[8],u=e[9],c=e[10];return t[0]=Math.hypot(r,n,i),t[1]=Math.hypot(s,o,a),t[2]=Math.hypot(h,u,c),t}function C(t,e){var r=new n.ARRAY_TYPE(3);R(r,e);var i=1/r[0],s=1/r[1],o=1/r[2],a=e[0]*i,h=e[1]*s,u=e[2]*o,c=e[4]*i,l=e[5]*s,f=e[6]*o,d=e[8]*i,p=e[9]*s,m=e[10]*o,g=a+l+m,y=0;return g>0?(y=2*Math.sqrt(g+1),t[3]=.25*y,t[0]=(f-p)/y,t[1]=(d-u)/y,t[2]=(h-c)/y):a>l&&a>m?(y=2*Math.sqrt(1+a-l-m),t[3]=(f-p)/y,t[0]=.25*y,t[1]=(h+c)/y,t[2]=(d+u)/y):l>m?(y=2*Math.sqrt(1+l-a-m),t[3]=(d-u)/y,t[0]=(h+c)/y,t[1]=.25*y,t[2]=(f+p)/y):(y=2*Math.sqrt(1+m-a-l),t[3]=(h-c)/y,t[0]=(d+u)/y,t[1]=(f+p)/y,t[2]=.25*y),t}function L(t,e,r,n){var i=e[0],s=e[1],o=e[2],a=e[3],h=i+i,u=s+s,c=o+o,l=i*h,f=i*u,d=i*c,p=s*u,m=s*c,g=o*c,y=a*h,v=a*u,b=a*c,x=n[0],M=n[1],w=n[2];return t[0]=(1-(p+g))*x,t[1]=(f+b)*x,t[2]=(d-v)*x,t[3]=0,t[4]=(f-b)*M,t[5]=(1-(l+g))*M,t[6]=(m+y)*M,t[7]=0,t[8]=(d+v)*w,t[9]=(m-y)*w,t[10]=(1-(l+p))*w,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function T(t,e,r,n,i){var s=e[0],o=e[1],a=e[2],h=e[3],u=s+s,c=o+o,l=a+a,f=s*u,d=s*c,p=s*l,m=o*c,g=o*l,y=a*l,v=h*u,b=h*c,x=h*l,M=n[0],w=n[1],_=n[2],S=i[0],A=i[1],P=i[2],E=(1-(m+y))*M,O=(d+x)*M,I=(p-b)*M,R=(d-x)*w,C=(1-(f+y))*w,L=(g+v)*w,T=(p+b)*_,k=(g-v)*_,B=(1-(f+m))*_;return t[0]=E,t[1]=O,t[2]=I,t[3]=0,t[4]=R,t[5]=C,t[6]=L,t[7]=0,t[8]=T,t[9]=k,t[10]=B,t[11]=0,t[12]=r[0]+S-(E*S+R*A+T*P),t[13]=r[1]+A-(O*S+C*A+k*P),t[14]=r[2]+P-(I*S+L*A+B*P),t[15]=1,t}function k(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],o=r+r,a=n+n,h=i+i,u=r*o,c=n*o,l=n*a,f=i*o,d=i*a,p=i*h,m=s*o,g=s*a,y=s*h;return t[0]=1-l-p,t[1]=c+y,t[2]=f-g,t[3]=0,t[4]=c-y,t[5]=1-u-p,t[6]=d+m,t[7]=0,t[8]=f+g,t[9]=d-m,t[10]=1-u-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function B(t,e,r,n,i,s,o){var a=1/(r-e),h=1/(i-n),u=1/(s-o);return t[0]=2*s*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*s*h,t[6]=0,t[7]=0,t[8]=(r+e)*a,t[9]=(i+n)*h,t[10]=(o+s)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*s*2*u,t[15]=0,t}function N(t,e,r,n,i){var s,o=1/Math.tan(e/2);return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(s=1/(n-i),t[10]=(i+n)*s,t[14]=2*i*n*s):(t[10]=-1,t[14]=-2*n),t}function F(t,e,r,n){var i=Math.tan(e.upDegrees*Math.PI/180),s=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),a=Math.tan(e.rightDegrees*Math.PI/180),h=2/(o+a),u=2/(i+s);return t[0]=h,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-(o-a)*h*.5,t[9]=(i-s)*u*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t}function j(t,e,r,n,i,s,o){var a=1/(e-r),h=1/(n-i),u=1/(s-o);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+r)*a,t[13]=(i+n)*h,t[14]=(o+s)*u,t[15]=1,t}function q(t,e,r,i){var s,o,a,h,c,l,f,d,p,m,g=e[0],y=e[1],v=e[2],b=i[0],x=i[1],M=i[2],w=r[0],_=r[1],S=r[2];return Math.abs(g-w)<n.EPSILON&&Math.abs(y-_)<n.EPSILON&&Math.abs(v-S)<n.EPSILON?u(t):(f=g-w,d=y-_,p=v-S,s=x*(p*=m=1/Math.hypot(f,d,p))-M*(d*=m),o=M*(f*=m)-b*p,a=b*d-x*f,(m=Math.hypot(s,o,a))?(s*=m=1/m,o*=m,a*=m):(s=0,o=0,a=0),h=d*a-p*o,c=p*s-f*a,l=f*o-d*s,(m=Math.hypot(h,c,l))?(h*=m=1/m,c*=m,l*=m):(h=0,c=0,l=0),t[0]=s,t[1]=h,t[2]=f,t[3]=0,t[4]=o,t[5]=c,t[6]=d,t[7]=0,t[8]=a,t[9]=l,t[10]=p,t[11]=0,t[12]=-(s*g+o*y+a*v),t[13]=-(h*g+c*y+l*v),t[14]=-(f*g+d*y+p*v),t[15]=1,t)}function Y(t,e,r,n){var i=e[0],s=e[1],o=e[2],a=n[0],h=n[1],u=n[2],c=i-r[0],l=s-r[1],f=o-r[2],d=c*c+l*l+f*f;d>0&&(c*=d=1/Math.sqrt(d),l*=d,f*=d);var p=h*f-u*l,m=u*c-a*f,g=a*l-h*c;return(d=p*p+m*m+g*g)>0&&(p*=d=1/Math.sqrt(d),m*=d,g*=d),t[0]=p,t[1]=m,t[2]=g,t[3]=0,t[4]=l*g-f*m,t[5]=f*p-c*g,t[6]=c*m-l*p,t[7]=0,t[8]=c,t[9]=l,t[10]=f,t[11]=0,t[12]=i,t[13]=s,t[14]=o,t[15]=1,t}function D(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function z(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function V(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t}function $(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}function X(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t}function G(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t[9]=e[9]+r[9]*n,t[10]=e[10]+r[10]*n,t[11]=e[11]+r[11]*n,t[12]=e[12]+r[12]*n,t[13]=e[13]+r[13]*n,t[14]=e[14]+r[14]*n,t[15]=e[15]+r[15]*n,t}function U(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function H(t,e){var r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],h=t[5],u=t[6],c=t[7],l=t[8],f=t[9],d=t[10],p=t[11],m=t[12],g=t[13],y=t[14],v=t[15],b=e[0],x=e[1],M=e[2],w=e[3],_=e[4],S=e[5],A=e[6],P=e[7],E=e[8],O=e[9],I=e[10],R=e[11],C=e[12],L=e[13],T=e[14],k=e[15];return Math.abs(r-b)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(i-x)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(s-M)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(M))&&Math.abs(o-w)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(a-_)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(_))&&Math.abs(h-S)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(S))&&Math.abs(u-A)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(A))&&Math.abs(c-P)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(P))&&Math.abs(l-E)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(E))&&Math.abs(f-O)<=n.EPSILON*Math.max(1,Math.abs(f),Math.abs(O))&&Math.abs(d-I)<=n.EPSILON*Math.max(1,Math.abs(d),Math.abs(I))&&Math.abs(p-R)<=n.EPSILON*Math.max(1,Math.abs(p),Math.abs(R))&&Math.abs(m-C)<=n.EPSILON*Math.max(1,Math.abs(m),Math.abs(C))&&Math.abs(g-L)<=n.EPSILON*Math.max(1,Math.abs(g),Math.abs(L))&&Math.abs(y-T)<=n.EPSILON*Math.max(1,Math.abs(y),Math.abs(T))&&Math.abs(v-k)<=n.EPSILON*Math.max(1,Math.abs(v),Math.abs(k))}var Z=p,Q=$},(t,e,r)=>{r.r(e),r.d(e,{create:()=>a,identity:()=>h,setAxisAngle:()=>u,getAxisAngle:()=>c,getAngle:()=>l,multiply:()=>f,rotateX:()=>d,rotateY:()=>p,rotateZ:()=>m,calculateW:()=>g,exp:()=>y,ln:()=>v,pow:()=>b,slerp:()=>x,random:()=>M,invert:()=>w,conjugate:()=>_,fromMat3:()=>S,fromEuler:()=>A,str:()=>P,clone:()=>T,fromValues:()=>k,copy:()=>B,set:()=>N,add:()=>F,mul:()=>j,scale:()=>q,dot:()=>Y,lerp:()=>D,length:()=>z,len:()=>V,squaredLength:()=>$,sqrLen:()=>X,normalize:()=>G,exactEquals:()=>U,equals:()=>H,rotationTo:()=>Z,sqlerp:()=>Q,setAxes:()=>W});var n=r(11),i=r(14),s=r(18),o=r(17);function a(){var t=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function h(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function u(t,e,r){r*=.5;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t}function c(t,e){var r=2*Math.acos(e[3]),i=Math.sin(r/2);return i>n.EPSILON?(t[0]=e[0]/i,t[1]=e[1]/i,t[2]=e[2]/i):(t[0]=1,t[1]=0,t[2]=0),r}function l(t,e){var r=Y(t,e);return Math.acos(2*r*r-1)}function f(t,e,r){var n=e[0],i=e[1],s=e[2],o=e[3],a=r[0],h=r[1],u=r[2],c=r[3];return t[0]=n*c+o*a+i*u-s*h,t[1]=i*c+o*h+s*a-n*u,t[2]=s*c+o*u+n*h-i*a,t[3]=o*c-n*a-i*h-s*u,t}function d(t,e,r){r*=.5;var n=e[0],i=e[1],s=e[2],o=e[3],a=Math.sin(r),h=Math.cos(r);return t[0]=n*h+o*a,t[1]=i*h+s*a,t[2]=s*h-i*a,t[3]=o*h-n*a,t}function p(t,e,r){r*=.5;var n=e[0],i=e[1],s=e[2],o=e[3],a=Math.sin(r),h=Math.cos(r);return t[0]=n*h-s*a,t[1]=i*h+o*a,t[2]=s*h+n*a,t[3]=o*h-i*a,t}function m(t,e,r){r*=.5;var n=e[0],i=e[1],s=e[2],o=e[3],a=Math.sin(r),h=Math.cos(r);return t[0]=n*h+i*a,t[1]=i*h-n*a,t[2]=s*h+o*a,t[3]=o*h-s*a,t}function g(t,e){var r=e[0],n=e[1],i=e[2];return t[0]=r,t[1]=n,t[2]=i,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),t}function y(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],o=Math.sqrt(r*r+n*n+i*i),a=Math.exp(s),h=o>0?a*Math.sin(o)/o:0;return t[0]=r*h,t[1]=n*h,t[2]=i*h,t[3]=a*Math.cos(o),t}function v(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],o=Math.sqrt(r*r+n*n+i*i),a=o>0?Math.atan2(o,s)/o:0;return t[0]=r*a,t[1]=n*a,t[2]=i*a,t[3]=.5*Math.log(r*r+n*n+i*i+s*s),t}function b(t,e,r){return v(t,e),q(t,t,r),y(t,t),t}function x(t,e,r,i){var s,o,a,h,u,c=e[0],l=e[1],f=e[2],d=e[3],p=r[0],m=r[1],g=r[2],y=r[3];return(o=c*p+l*m+f*g+d*y)<0&&(o=-o,p=-p,m=-m,g=-g,y=-y),1-o>n.EPSILON?(s=Math.acos(o),a=Math.sin(s),h=Math.sin((1-i)*s)/a,u=Math.sin(i*s)/a):(h=1-i,u=i),t[0]=h*c+u*p,t[1]=h*l+u*m,t[2]=h*f+u*g,t[3]=h*d+u*y,t}function M(t){var e=n.RANDOM(),r=n.RANDOM(),i=n.RANDOM(),s=Math.sqrt(1-e),o=Math.sqrt(e);return t[0]=s*Math.sin(2*Math.PI*r),t[1]=s*Math.cos(2*Math.PI*r),t[2]=o*Math.sin(2*Math.PI*i),t[3]=o*Math.cos(2*Math.PI*i),t}function w(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],o=r*r+n*n+i*i+s*s,a=o?1/o:0;return t[0]=-r*a,t[1]=-n*a,t[2]=-i*a,t[3]=s*a,t}function _(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function S(t,e){var r,n=e[0]+e[4]+e[8];if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var s=(i+1)%3,o=(i+2)%3;r=Math.sqrt(e[3*i+i]-e[3*s+s]-e[3*o+o]+1),t[i]=.5*r,r=.5/r,t[3]=(e[3*s+o]-e[3*o+s])*r,t[s]=(e[3*s+i]+e[3*i+s])*r,t[o]=(e[3*o+i]+e[3*i+o])*r}return t}function A(t,e,r,n){var i=.5*Math.PI/180;e*=i,r*=i,n*=i;var s=Math.sin(e),o=Math.cos(e),a=Math.sin(r),h=Math.cos(r),u=Math.sin(n),c=Math.cos(n);return t[0]=s*h*c-o*a*u,t[1]=o*a*c+s*h*u,t[2]=o*h*u-s*a*c,t[3]=o*h*c+s*a*u,t}function P(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var E,O,I,R,C,L,T=o.clone,k=o.fromValues,B=o.copy,N=o.set,F=o.add,j=f,q=o.scale,Y=o.dot,D=o.lerp,z=o.length,V=z,$=o.squaredLength,X=$,G=o.normalize,U=o.exactEquals,H=o.equals,Z=(E=s.create(),O=s.fromValues(1,0,0),I=s.fromValues(0,1,0),function(t,e,r){var n=s.dot(e,r);return n<-.999999?(s.cross(E,O,e),s.len(E)<1e-6&&s.cross(E,I,e),s.normalize(E,E),u(t,E,Math.PI),t):n>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(s.cross(E,e,r),t[0]=E[0],t[1]=E[1],t[2]=E[2],t[3]=1+n,G(t,t))}),Q=(R=a(),C=a(),function(t,e,r,n,i,s){return x(R,e,i,s),x(C,r,n,s),x(t,R,C,2*s*(1-s)),t}),W=(L=i.create(),function(t,e,r,n){return L[0]=r[0],L[3]=r[1],L[6]=r[2],L[1]=n[0],L[4]=n[1],L[7]=n[2],L[2]=-e[0],L[5]=-e[1],L[8]=-e[2],G(t,S(t,L))})},(t,e,r)=>{r.r(e),r.d(e,{create:()=>i,clone:()=>s,fromValues:()=>o,copy:()=>a,set:()=>h,add:()=>u,subtract:()=>c,multiply:()=>l,divide:()=>f,ceil:()=>d,floor:()=>p,min:()=>m,max:()=>g,round:()=>y,scale:()=>v,scaleAndAdd:()=>b,distance:()=>x,squaredDistance:()=>M,length:()=>w,squaredLength:()=>_,negate:()=>S,inverse:()=>A,normalize:()=>P,dot:()=>E,cross:()=>O,lerp:()=>I,random:()=>R,transformMat4:()=>C,transformQuat:()=>L,zero:()=>T,str:()=>k,exactEquals:()=>B,equals:()=>N,sub:()=>j,mul:()=>q,div:()=>Y,dist:()=>D,sqrDist:()=>z,len:()=>V,sqrLen:()=>$,forEach:()=>X});var n=r(11);function i(){var t=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function s(t){var e=new n.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function o(t,e,r,i){var s=new n.ARRAY_TYPE(4);return s[0]=t,s[1]=e,s[2]=r,s[3]=i,s}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function h(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function u(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function c(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function l(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t}function f(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t}function d(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function p(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function m(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t}function g(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t}function y(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function v(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function b(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t}function x(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],s=e[3]-t[3];return Math.hypot(r,n,i,s)}function M(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],s=e[3]-t[3];return r*r+n*n+i*i+s*s}function w(t){var e=t[0],r=t[1],n=t[2],i=t[3];return Math.hypot(e,r,n,i)}function _(t){var e=t[0],r=t[1],n=t[2],i=t[3];return e*e+r*r+n*n+i*i}function S(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function A(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function P(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],o=r*r+n*n+i*i+s*s;return o>0&&(o=1/Math.sqrt(o)),t[0]=r*o,t[1]=n*o,t[2]=i*o,t[3]=s*o,t}function E(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function O(t,e,r,n){var i=r[0]*n[1]-r[1]*n[0],s=r[0]*n[2]-r[2]*n[0],o=r[0]*n[3]-r[3]*n[0],a=r[1]*n[2]-r[2]*n[1],h=r[1]*n[3]-r[3]*n[1],u=r[2]*n[3]-r[3]*n[2],c=e[0],l=e[1],f=e[2],d=e[3];return t[0]=l*u-f*h+d*a,t[1]=-c*u+f*o-d*s,t[2]=c*h-l*o+d*i,t[3]=-c*a+l*s-f*i,t}function I(t,e,r,n){var i=e[0],s=e[1],o=e[2],a=e[3];return t[0]=i+n*(r[0]-i),t[1]=s+n*(r[1]-s),t[2]=o+n*(r[2]-o),t[3]=a+n*(r[3]-a),t}function R(t,e){var r,i,s,o,a,h;e=e||1;do{a=(r=2*n.RANDOM()-1)*r+(i=2*n.RANDOM()-1)*i}while(a>=1);do{h=(s=2*n.RANDOM()-1)*s+(o=2*n.RANDOM()-1)*o}while(h>=1);var u=Math.sqrt((1-a)/h);return t[0]=e*r,t[1]=e*i,t[2]=e*s*u,t[3]=e*o*u,t}function C(t,e,r){var n=e[0],i=e[1],s=e[2],o=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*s+r[12]*o,t[1]=r[1]*n+r[5]*i+r[9]*s+r[13]*o,t[2]=r[2]*n+r[6]*i+r[10]*s+r[14]*o,t[3]=r[3]*n+r[7]*i+r[11]*s+r[15]*o,t}function L(t,e,r){var n=e[0],i=e[1],s=e[2],o=r[0],a=r[1],h=r[2],u=r[3],c=u*n+a*s-h*i,l=u*i+h*n-o*s,f=u*s+o*i-a*n,d=-o*n-a*i-h*s;return t[0]=c*u+d*-o+l*-h-f*-a,t[1]=l*u+d*-a+f*-o-c*-h,t[2]=f*u+d*-h+c*-a-l*-o,t[3]=e[3],t}function T(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function k(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function B(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function N(t,e){var r=t[0],i=t[1],s=t[2],o=t[3],a=e[0],h=e[1],u=e[2],c=e[3];return Math.abs(r-a)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-h)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(s-u)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(u))&&Math.abs(o-c)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))}var F,j=c,q=l,Y=f,D=x,z=M,V=w,$=_,X=(F=i(),function(t,e,r,n,i,s){var o,a;for(e||(e=4),r||(r=0),a=n?Math.min(n*e+r,t.length):t.length,o=r;o<a;o+=e)F[0]=t[o],F[1]=t[o+1],F[2]=t[o+2],F[3]=t[o+3],i(F,F,s),t[o]=F[0],t[o+1]=F[1],t[o+2]=F[2],t[o+3]=F[3];return t})},(t,e,r)=>{r.r(e),r.d(e,{create:()=>i,clone:()=>s,length:()=>o,fromValues:()=>a,copy:()=>h,set:()=>u,add:()=>c,subtract:()=>l,multiply:()=>f,divide:()=>d,ceil:()=>p,floor:()=>m,min:()=>g,max:()=>y,round:()=>v,scale:()=>b,scaleAndAdd:()=>x,distance:()=>M,squaredDistance:()=>w,squaredLength:()=>_,negate:()=>S,inverse:()=>A,normalize:()=>P,dot:()=>E,cross:()=>O,lerp:()=>I,hermite:()=>R,bezier:()=>C,random:()=>L,transformMat4:()=>T,transformMat3:()=>k,transformQuat:()=>B,rotateX:()=>N,rotateY:()=>F,rotateZ:()=>j,angle:()=>q,zero:()=>Y,str:()=>D,exactEquals:()=>z,equals:()=>V,sub:()=>X,mul:()=>G,div:()=>U,dist:()=>H,sqrDist:()=>Z,len:()=>Q,sqrLen:()=>W,forEach:()=>J});var n=r(11);function i(){var t=new n.ARRAY_TYPE(3);return n.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function s(t){var e=new n.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function o(t){var e=t[0],r=t[1],n=t[2];return Math.hypot(e,r,n)}function a(t,e,r){var i=new n.ARRAY_TYPE(3);return i[0]=t,i[1]=e,i[2]=r,i}function h(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function u(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}function c(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function l(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function f(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function d(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function p(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function m(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function g(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}function y(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}function v(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function b(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function x(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t}function M(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return Math.hypot(r,n,i)}function w(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return r*r+n*n+i*i}function _(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function S(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function A(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function P(t,e){var r=e[0],n=e[1],i=e[2],s=r*r+n*n+i*i;return s>0&&(s=1/Math.sqrt(s)),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t}function E(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function O(t,e,r){var n=e[0],i=e[1],s=e[2],o=r[0],a=r[1],h=r[2];return t[0]=i*h-s*a,t[1]=s*o-n*h,t[2]=n*a-i*o,t}function I(t,e,r,n){var i=e[0],s=e[1],o=e[2];return t[0]=i+n*(r[0]-i),t[1]=s+n*(r[1]-s),t[2]=o+n*(r[2]-o),t}function R(t,e,r,n,i,s){var o=s*s,a=o*(2*s-3)+1,h=o*(s-2)+s,u=o*(s-1),c=o*(3-2*s);return t[0]=e[0]*a+r[0]*h+n[0]*u+i[0]*c,t[1]=e[1]*a+r[1]*h+n[1]*u+i[1]*c,t[2]=e[2]*a+r[2]*h+n[2]*u+i[2]*c,t}function C(t,e,r,n,i,s){var o=1-s,a=o*o,h=s*s,u=a*o,c=3*s*a,l=3*h*o,f=h*s;return t[0]=e[0]*u+r[0]*c+n[0]*l+i[0]*f,t[1]=e[1]*u+r[1]*c+n[1]*l+i[1]*f,t[2]=e[2]*u+r[2]*c+n[2]*l+i[2]*f,t}function L(t,e){e=e||1;var r=2*n.RANDOM()*Math.PI,i=2*n.RANDOM()-1,s=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(r)*s,t[1]=Math.sin(r)*s,t[2]=i*e,t}function T(t,e,r){var n=e[0],i=e[1],s=e[2],o=r[3]*n+r[7]*i+r[11]*s+r[15];return o=o||1,t[0]=(r[0]*n+r[4]*i+r[8]*s+r[12])/o,t[1]=(r[1]*n+r[5]*i+r[9]*s+r[13])/o,t[2]=(r[2]*n+r[6]*i+r[10]*s+r[14])/o,t}function k(t,e,r){var n=e[0],i=e[1],s=e[2];return t[0]=n*r[0]+i*r[3]+s*r[6],t[1]=n*r[1]+i*r[4]+s*r[7],t[2]=n*r[2]+i*r[5]+s*r[8],t}function B(t,e,r){var n=r[0],i=r[1],s=r[2],o=r[3],a=e[0],h=e[1],u=e[2],c=i*u-s*h,l=s*a-n*u,f=n*h-i*a,d=i*f-s*l,p=s*c-n*f,m=n*l-i*c,g=2*o;return c*=g,l*=g,f*=g,d*=2,p*=2,m*=2,t[0]=a+c+d,t[1]=h+l+p,t[2]=u+f+m,t}function N(t,e,r,n){var i=[],s=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],s[0]=i[0],s[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),s[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),t[0]=s[0]+r[0],t[1]=s[1]+r[1],t[2]=s[2]+r[2],t}function F(t,e,r,n){var i=[],s=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],s[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),s[1]=i[1],s[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),t[0]=s[0]+r[0],t[1]=s[1]+r[1],t[2]=s[2]+r[2],t}function j(t,e,r,n){var i=[],s=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],s[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),s[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),s[2]=i[2],t[0]=s[0]+r[0],t[1]=s[1]+r[1],t[2]=s[2]+r[2],t}function q(t,e){var r=t[0],n=t[1],i=t[2],s=e[0],o=e[1],a=e[2],h=Math.sqrt(r*r+n*n+i*i)*Math.sqrt(s*s+o*o+a*a),u=h&&E(t,e)/h;return Math.acos(Math.min(Math.max(u,-1),1))}function Y(t){return t[0]=0,t[1]=0,t[2]=0,t}function D(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function z(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function V(t,e){var r=t[0],i=t[1],s=t[2],o=e[0],a=e[1],h=e[2];return Math.abs(r-o)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-a)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(s-h)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(h))}var $,X=l,G=f,U=d,H=M,Z=w,Q=o,W=_,J=($=i(),function(t,e,r,n,i,s){var o,a;for(e||(e=3),r||(r=0),a=n?Math.min(n*e+r,t.length):t.length,o=r;o<a;o+=e)$[0]=t[o],$[1]=t[o+1],$[2]=t[o+2],i($,$,s),t[o]=$[0],t[o+1]=$[1],t[o+2]=$[2];return t})},(t,e,r)=>{r.r(e),r.d(e,{create:()=>o,clone:()=>a,fromValues:()=>h,fromRotationTranslationValues:()=>u,fromRotationTranslation:()=>c,fromTranslation:()=>l,fromRotation:()=>f,fromMat4:()=>d,copy:()=>p,identity:()=>m,set:()=>g,getReal:()=>y,getDual:()=>v,setReal:()=>b,setDual:()=>x,getTranslation:()=>M,translate:()=>w,rotateX:()=>_,rotateY:()=>S,rotateZ:()=>A,rotateByQuatAppend:()=>P,rotateByQuatPrepend:()=>E,rotateAroundAxis:()=>O,add:()=>I,multiply:()=>R,mul:()=>C,scale:()=>L,dot:()=>T,lerp:()=>k,invert:()=>B,conjugate:()=>N,length:()=>F,len:()=>j,squaredLength:()=>q,sqrLen:()=>Y,normalize:()=>D,str:()=>z,exactEquals:()=>V,equals:()=>$});var n=r(11),i=r(16),s=r(15);function o(){var t=new n.ARRAY_TYPE(8);return n.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function a(t){var e=new n.ARRAY_TYPE(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function h(t,e,r,i,s,o,a,h){var u=new n.ARRAY_TYPE(8);return u[0]=t,u[1]=e,u[2]=r,u[3]=i,u[4]=s,u[5]=o,u[6]=a,u[7]=h,u}function u(t,e,r,i,s,o,a){var h=new n.ARRAY_TYPE(8);h[0]=t,h[1]=e,h[2]=r,h[3]=i;var u=.5*s,c=.5*o,l=.5*a;return h[4]=u*i+c*r-l*e,h[5]=c*i+l*t-u*r,h[6]=l*i+u*e-c*t,h[7]=-u*t-c*e-l*r,h}function c(t,e,r){var n=.5*r[0],i=.5*r[1],s=.5*r[2],o=e[0],a=e[1],h=e[2],u=e[3];return t[0]=o,t[1]=a,t[2]=h,t[3]=u,t[4]=n*u+i*h-s*a,t[5]=i*u+s*o-n*h,t[6]=s*u+n*a-i*o,t[7]=-n*o-i*a-s*h,t}function l(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t}function f(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function d(t,e){var r=i.create();s.getRotation(r,e);var o=new n.ARRAY_TYPE(3);return s.getTranslation(o,e),c(t,r,o),t}function p(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function m(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function g(t,e,r,n,i,s,o,a,h){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=s,t[5]=o,t[6]=a,t[7]=h,t}var y=i.copy;function v(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t}var b=i.copy;function x(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t}function M(t,e){var r=e[4],n=e[5],i=e[6],s=e[7],o=-e[0],a=-e[1],h=-e[2],u=e[3];return t[0]=2*(r*u+s*o+n*h-i*a),t[1]=2*(n*u+s*a+i*o-r*h),t[2]=2*(i*u+s*h+r*a-n*o),t}function w(t,e,r){var n=e[0],i=e[1],s=e[2],o=e[3],a=.5*r[0],h=.5*r[1],u=.5*r[2],c=e[4],l=e[5],f=e[6],d=e[7];return t[0]=n,t[1]=i,t[2]=s,t[3]=o,t[4]=o*a+i*u-s*h+c,t[5]=o*h+s*a-n*u+l,t[6]=o*u+n*h-i*a+f,t[7]=-n*a-i*h-s*u+d,t}function _(t,e,r){var n=-e[0],s=-e[1],o=-e[2],a=e[3],h=e[4],u=e[5],c=e[6],l=e[7],f=h*a+l*n+u*o-c*s,d=u*a+l*s+c*n-h*o,p=c*a+l*o+h*s-u*n,m=l*a-h*n-u*s-c*o;return i.rotateX(t,e,r),n=t[0],s=t[1],o=t[2],a=t[3],t[4]=f*a+m*n+d*o-p*s,t[5]=d*a+m*s+p*n-f*o,t[6]=p*a+m*o+f*s-d*n,t[7]=m*a-f*n-d*s-p*o,t}function S(t,e,r){var n=-e[0],s=-e[1],o=-e[2],a=e[3],h=e[4],u=e[5],c=e[6],l=e[7],f=h*a+l*n+u*o-c*s,d=u*a+l*s+c*n-h*o,p=c*a+l*o+h*s-u*n,m=l*a-h*n-u*s-c*o;return i.rotateY(t,e,r),n=t[0],s=t[1],o=t[2],a=t[3],t[4]=f*a+m*n+d*o-p*s,t[5]=d*a+m*s+p*n-f*o,t[6]=p*a+m*o+f*s-d*n,t[7]=m*a-f*n-d*s-p*o,t}function A(t,e,r){var n=-e[0],s=-e[1],o=-e[2],a=e[3],h=e[4],u=e[5],c=e[6],l=e[7],f=h*a+l*n+u*o-c*s,d=u*a+l*s+c*n-h*o,p=c*a+l*o+h*s-u*n,m=l*a-h*n-u*s-c*o;return i.rotateZ(t,e,r),n=t[0],s=t[1],o=t[2],a=t[3],t[4]=f*a+m*n+d*o-p*s,t[5]=d*a+m*s+p*n-f*o,t[6]=p*a+m*o+f*s-d*n,t[7]=m*a-f*n-d*s-p*o,t}function P(t,e,r){var n=r[0],i=r[1],s=r[2],o=r[3],a=e[0],h=e[1],u=e[2],c=e[3];return t[0]=a*o+c*n+h*s-u*i,t[1]=h*o+c*i+u*n-a*s,t[2]=u*o+c*s+a*i-h*n,t[3]=c*o-a*n-h*i-u*s,a=e[4],h=e[5],u=e[6],c=e[7],t[4]=a*o+c*n+h*s-u*i,t[5]=h*o+c*i+u*n-a*s,t[6]=u*o+c*s+a*i-h*n,t[7]=c*o-a*n-h*i-u*s,t}function E(t,e,r){var n=e[0],i=e[1],s=e[2],o=e[3],a=r[0],h=r[1],u=r[2],c=r[3];return t[0]=n*c+o*a+i*u-s*h,t[1]=i*c+o*h+s*a-n*u,t[2]=s*c+o*u+n*h-i*a,t[3]=o*c-n*a-i*h-s*u,a=r[4],h=r[5],u=r[6],c=r[7],t[4]=n*c+o*a+i*u-s*h,t[5]=i*c+o*h+s*a-n*u,t[6]=s*c+o*u+n*h-i*a,t[7]=o*c-n*a-i*h-s*u,t}function O(t,e,r,i){if(Math.abs(i)<n.EPSILON)return p(t,e);var s=Math.hypot(r[0],r[1],r[2]);i*=.5;var o=Math.sin(i),a=o*r[0]/s,h=o*r[1]/s,u=o*r[2]/s,c=Math.cos(i),l=e[0],f=e[1],d=e[2],m=e[3];t[0]=l*c+m*a+f*u-d*h,t[1]=f*c+m*h+d*a-l*u,t[2]=d*c+m*u+l*h-f*a,t[3]=m*c-l*a-f*h-d*u;var g=e[4],y=e[5],v=e[6],b=e[7];return t[4]=g*c+b*a+y*u-v*h,t[5]=y*c+b*h+v*a-g*u,t[6]=v*c+b*u+g*h-y*a,t[7]=b*c-g*a-y*h-v*u,t}function I(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t}function R(t,e,r){var n=e[0],i=e[1],s=e[2],o=e[3],a=r[4],h=r[5],u=r[6],c=r[7],l=e[4],f=e[5],d=e[6],p=e[7],m=r[0],g=r[1],y=r[2],v=r[3];return t[0]=n*v+o*m+i*y-s*g,t[1]=i*v+o*g+s*m-n*y,t[2]=s*v+o*y+n*g-i*m,t[3]=o*v-n*m-i*g-s*y,t[4]=n*c+o*a+i*u-s*h+l*v+p*m+f*y-d*g,t[5]=i*c+o*h+s*a-n*u+f*v+p*g+d*m-l*y,t[6]=s*c+o*u+n*h-i*a+d*v+p*y+l*g-f*m,t[7]=o*c-n*a-i*h-s*u+p*v-l*m-f*g-d*y,t}var C=R;function L(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t}var T=i.dot;function k(t,e,r,n){var i=1-n;return T(e,r)<0&&(n=-n),t[0]=e[0]*i+r[0]*n,t[1]=e[1]*i+r[1]*n,t[2]=e[2]*i+r[2]*n,t[3]=e[3]*i+r[3]*n,t[4]=e[4]*i+r[4]*n,t[5]=e[5]*i+r[5]*n,t[6]=e[6]*i+r[6]*n,t[7]=e[7]*i+r[7]*n,t}function B(t,e){var r=q(e);return t[0]=-e[0]/r,t[1]=-e[1]/r,t[2]=-e[2]/r,t[3]=e[3]/r,t[4]=-e[4]/r,t[5]=-e[5]/r,t[6]=-e[6]/r,t[7]=e[7]/r,t}function N(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t}var F=i.length,j=F,q=i.squaredLength,Y=q;function D(t,e){var r=q(e);if(r>0){r=Math.sqrt(r);var n=e[0]/r,i=e[1]/r,s=e[2]/r,o=e[3]/r,a=e[4],h=e[5],u=e[6],c=e[7],l=n*a+i*h+s*u+o*c;t[0]=n,t[1]=i,t[2]=s,t[3]=o,t[4]=(a-n*l)/r,t[5]=(h-i*l)/r,t[6]=(u-s*l)/r,t[7]=(c-o*l)/r}return t}function z(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function V(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]}function $(t,e){var r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],h=t[5],u=t[6],c=t[7],l=e[0],f=e[1],d=e[2],p=e[3],m=e[4],g=e[5],y=e[6],v=e[7];return Math.abs(r-l)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(i-f)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(s-d)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(o-p)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-m)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(h-g)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(g))&&Math.abs(u-y)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-v)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(v))}},(t,e,r)=>{r.r(e),r.d(e,{create:()=>i,clone:()=>s,fromValues:()=>o,copy:()=>a,set:()=>h,add:()=>u,subtract:()=>c,multiply:()=>l,divide:()=>f,ceil:()=>d,floor:()=>p,min:()=>m,max:()=>g,round:()=>y,scale:()=>v,scaleAndAdd:()=>b,distance:()=>x,squaredDistance:()=>M,length:()=>w,squaredLength:()=>_,negate:()=>S,inverse:()=>A,normalize:()=>P,dot:()=>E,cross:()=>O,lerp:()=>I,random:()=>R,transformMat2:()=>C,transformMat2d:()=>L,transformMat3:()=>T,transformMat4:()=>k,rotate:()=>B,angle:()=>N,zero:()=>F,str:()=>j,exactEquals:()=>q,equals:()=>Y,len:()=>z,sub:()=>V,mul:()=>$,div:()=>X,dist:()=>G,sqrDist:()=>U,sqrLen:()=>H,forEach:()=>Z});var n=r(11);function i(){var t=new n.ARRAY_TYPE(2);return n.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function s(t){var e=new n.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e}function o(t,e){var r=new n.ARRAY_TYPE(2);return r[0]=t,r[1]=e,r}function a(t,e){return t[0]=e[0],t[1]=e[1],t}function h(t,e,r){return t[0]=e,t[1]=r,t}function u(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function c(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function l(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}function f(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}function d(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function p(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function m(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function g(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}function y(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function v(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function b(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t}function x(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.hypot(r,n)}function M(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function w(t){var e=t[0],r=t[1];return Math.hypot(e,r)}function _(t){var e=t[0],r=t[1];return e*e+r*r}function S(t,e){return t[0]=-e[0],t[1]=-e[1],t}function A(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function P(t,e){var r=e[0],n=e[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function E(t,e){return t[0]*e[0]+t[1]*e[1]}function O(t,e,r){var n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t}function I(t,e,r,n){var i=e[0],s=e[1];return t[0]=i+n*(r[0]-i),t[1]=s+n*(r[1]-s),t}function R(t,e){e=e||1;var r=2*n.RANDOM()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t}function C(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i,t[1]=r[1]*n+r[3]*i,t}function L(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5],t}function T(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[3]*i+r[6],t[1]=r[1]*n+r[4]*i+r[7],t}function k(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[4]*i+r[12],t[1]=r[1]*n+r[5]*i+r[13],t}function B(t,e,r,n){var i=e[0]-r[0],s=e[1]-r[1],o=Math.sin(n),a=Math.cos(n);return t[0]=i*a-s*o+r[0],t[1]=i*o+s*a+r[1],t}function N(t,e){var r=t[0],n=t[1],i=e[0],s=e[1],o=Math.sqrt(r*r+n*n)*Math.sqrt(i*i+s*s),a=o&&(r*i+n*s)/o;return Math.acos(Math.min(Math.max(a,-1),1))}function F(t){return t[0]=0,t[1]=0,t}function j(t){return"vec2("+t[0]+", "+t[1]+")"}function q(t,e){return t[0]===e[0]&&t[1]===e[1]}function Y(t,e){var r=t[0],i=t[1],s=e[0],o=e[1];return Math.abs(r-s)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-o)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(o))}var D,z=w,V=c,$=l,X=f,G=x,U=M,H=_,Z=(D=i(),function(t,e,r,n,i,s){var o,a;for(e||(e=2),r||(r=0),a=n?Math.min(n*e+r,t.length):t.length,o=r;o<a;o+=e)D[0]=t[o],D[1]=t[o+1],i(D,D,s),t[o]=D[0],t[o+1]=D[1];return t})},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Scene=void 0;const n=r(22),i=r(23),s=r(32),o=r(30);class a{constructor(t={}){this.width=400,this.height=400,this.background="hsla(0, 0%, 0%, 1)",this.color="hsla(0, 0%, 100%, 1)",this.currentTime=0,void 0!==t.width&&(this.width=t.width),void 0!==t.height&&(this.height=t.height),void 0!==t.background&&(this.background=t.background),void 0!==t.color&&(this.color=t.color),this.children=[],this.center=[this.width/2,this.height/2],this.anchor=t.anchor&&Array.isArray(t.anchor)?["number"==typeof t.anchor[0]?(.5+.5*o.clamp(-1,1,t.anchor[0]))*this.width:"left"===t.anchor[0]?0:"right"===t.anchor[0]?this.width:this.center[0],"number"==typeof t.anchor[1]?(.5+.5*o.clamp(-1,1,t.anchor[1]))*this.height:"top"===t.anchor[1]?0:"bottom"===t.anchor[1]?this.height:this.center[1]]:[this.center[0],this.center[1]]}getWidth(t=100){return this.width*t/100}getHeight(t=100){return this.height*t/100}resize(t,e=t){this.width=t,this.height=e,this.center=[this.width/2,this.height/2];const r=[this.width/this.anchor[0],this.height/this.anchor[1]];this.anchor=[this.width/r[0],this.height/r[1]],this.children.forEach((t=>t.clearBuffer(!0,!1)))}update(t=0){this.currentTime=t;for(let t=0,e=this.children.length;t<e;t++)this.children[t].generate(this.currentTime,!0)}stream(t){this.children.forEach((e=>e.stream(t)))}getChildren(){return this.children}add(...t){const e="number"==typeof t[t.length-1]?t[t.length-1]:void 0,r=t.length-(void 0===e?0:1);for(let n=0;n<r;n++){const r=t[n];r.order=void 0!==e?e+n:void 0!==r.order?r.order:this.children.length>0?Math.max.apply(this,this.children.map((t=>t.order||0)))+1:0,a.propagateToChilden(r,this),this.children.push(r),r.clearBuffer(!0,!1),r.generate(0,!0)}this.sortChildren()}sortChildren(){this.children.sort(((t,e)=>t.order-e.order)),this.children=this.children.map(((t,e)=>(t.order=e,t)))}find(t){const e=this.getChildren();for(let r=0,n=e.length;r<n;r++){const n=e[r].find(t);if(null!==n)return n}return null}get(t){return t>=0&&t<this.children.length?this.children[t]:null}remove(t){t>=0&&t<this.children.length&&this.children.splice(t,1)}removeChildren(){this.children=[]}removeFromId(t){for(let e=0,r=this.children.length;e<r;e++)if(this.children[e].id===t||this.children[e].name===t)return void this.children.splice(e,1)}isFirstLevelChild(t){for(let e=0,r=this.children.length;e<r;e++)if(this.children[e].id===t.id)return!0;const e=this.getParentsOfSceneChild(t);return 1===e.length&&e[0]instanceof i.Group}getParentsOfSceneChild(t){const e=a.getParentsOfSceneChild(this,t);return e?(e.splice(0,1),e):[]}static getParentsOfSceneChild(t,e,r=[]){let o;if(t instanceof n.SceneChild){if(t.id==e.id)return r;if(t instanceof s.Shape&&t.shape){const n=r.slice();if(n.push(t),o=a.getParentsOfSceneChild(t.shape,e,n))return o}}if(t instanceof a||t instanceof i.Group){const n=t.getChildren();r.push(t);for(let t=0,i=n.length;t<i;t++){const i=n[t];if(o=a.getParentsOfSceneChild(i,e,r))return o}r.pop()}return null}static walk(t,e){if(e instanceof n.SceneChild){if(!1===t(e))return!1;if(e instanceof s.Shape&&e.shape&&!1===a.walk(t,e.shape))return!1}if(e instanceof a||e instanceof i.Group){const r=e.getChildren();for(let e=0,n=r.length;e<n;e++){const n=r[e];if(!1===a.walk(t,n))return!1}}}static propagateToChilden(t,e){t.scene=e,t instanceof i.Group?t.getChildren().forEach((t=>{a.propagateToChilden(t,e)})):t instanceof s.Shape&&t.shape&&(t.shape.scene=e,a.propagateToChilden(t.shape,e))}}e.Scene=a},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SceneChild=void 0;let r=0;e.SceneChild=class{constructor(t){var e;this.generateId=-1,this.id=null!==(e=t.id)&&void 0!==e?e:++r,this.type=t.type||"SceneChild",this.name=t.name||this.type+"_"+this.id,this.data=t.data||{},this.props={}}find(t){return this.id===t||this.name===t?this:null}getProps(){return this.props}getProp(t,e,r){var n;return null!==(n=this.props[t])&&void 0!==n?n:r}hasProp(t){return void 0!==this.props[t]}setPropUnsafe(t,e){"string"==typeof t?this.props[t]=e:Object.keys(t).forEach((e=>this.props[e]=t[e]))}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Group=void 0;const n=r(21),i=r(22),s=r(24),o=r(28);class a extends i.SceneChild{constructor(t={}){t.type="Group",super(t),this.children=[],["id","name","data","order","type"].forEach((e=>{e in t&&delete t[e]})),this.props=t}isStatic(){const t=this.children;for(let e=0,r=t.length;e<r;e++)if(!t[e].isStatic())return!1;return!0}isStaticIndexed(){const t=this.children;for(let e=0,r=t.length;e<r;e++)if(!t[e].isStaticIndexed())return!1;return!0}add(...t){for(let e=0,r=t.length;e<r;e++){const r=t[e],i=r.getProps();Object.keys(this.props).forEach((t=>{void 0===i[t]&&r.setProp(t,this.props[t])})),r.order=void 0!==r.order?r.order:this.children.length>0?Math.max.apply(this,this.children.map((t=>t.order||0)))+1:0,this.scene&&n.Scene.propagateToChilden(r,this.scene),this.children.push(r)}this.sortChildren()}sortChildren(){this.children.sort(((t,e)=>t.order-e.order)),this.children=this.children.map(((t,e)=>(t.order=e,t))),this.clearBuffer(!0)}getChildren(){return this.children}find(t){if(this.id===t||this.name===t)return this;const e=this.getChildren();for(let r=0,n=e.length;r<n;r++){const n=e[r].find(t);if(null!==n)return n}return null}get(t){return t>=0&&t<this.children.length?this.children[t]:null}remove(t){if(t>=0&&t<this.children.length){const e=this.children.splice(t,1);return this.clearBuffer(!0),e}return!1}removeFromId(t){for(let e=0,r=this.children.length;e<r;e++)if(this.children[e].id==t)return this.children.splice(e,1),this.clearBuffer(!0)}generate(t,e=!1,r){this.generateId=t,this.children.forEach((n=>n.generate(t,e,r)))}getBounding(){const t=[],e=o.Bounding.empty();if(this.children.length>0){this.children.forEach((e=>t.push(e.getBounding())));for(let r=0,n=this.children.length;r<n;r++)e.x=e.x>t[r].x?t[r].x:e.x,e.y=e.y>t[r].y?t[r].y:e.y,e.width=e.width<t[r].width?t[r].width:e.width,e.height=e.height<t[r].height?t[r].height:e.height;e.cx=e.x+e.width/2,e.cy=e.y+e.height/2}return e}clearBuffer(t=!1,e=!0){if(this.children.forEach((e=>e.clearBuffer(t,!1))),this.scene&&e){const r=this.scene.getParentsOfSceneChild(this);r.length>0&&r[r.length-1].clearBuffer(t,e)}}setProp(t,e){"object"==typeof t?Object.keys(t).forEach((e=>this.props[e]=t[e])):this.props[t]=e,this.children.forEach((r=>r.setProp(t,e)))}setPropUnsafe(t,e){super.setPropUnsafe(t,e),this.children.forEach((r=>r.setPropUnsafe(t,e)))}getBufferLength(t){return this.children.map((e=>e.getBufferLength(t))).reduce(((t,e)=>t+e),0)}getBuffer(){const t=this.children.map((t=>t.getBuffer())).filter((t=>void 0!==t)),e=t.reduce(((t,e)=>t+e.length),0);if(e>0){const r=new Float32Array(e);r.set(t[0],0);for(let e=1,n=0,i=t.length;e<i;e++)n+=t[e-1].length,r.set(t[e],n);return r}return s.ShapeBase.EMPTY_BUFFER}getIndexedBuffer(){const t=this.children.map((t=>t.getIndexedBuffer())).filter((t=>void 0!==t));return[].concat.apply([],t)}stream(t){this.children.forEach((e=>e.stream(t)))}}e.Group=a},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeBase=void 0;const n=r(10),i=r(1),s=r(25),o=r(26),a=r(27),h=r(28),u=r(30),c=r(22),l=n.mat4.create(),f=n.mat4.create(),d=n.mat4.create(),p=n.mat4.create();class m extends c.SceneChild{constructor(t={}){super(t),this.bIndexed=!1,this.indexedBuffer=[],this.bounding={cx:0,cy:0,x:-1,y:-1,width:2,height:2},this.props={distance:t.distance,repetitions:t.repetitions,rotateX:t.rotateX,rotateY:t.rotateY,rotateZ:t.rotateZ,skewX:t.skewX,skewY:t.skewY,squeezeX:t.squeezeX,squeezeY:t.squeezeY,displace:t.displace,translate:t.translate,scale:t.scale,transformOrigin:t.transformOrigin,perspective:t.perspective,perspectiveOrigin:t.perspectiveOrigin},this.anchor=t.anchor&&Array.isArray(t.anchor)?["number"==typeof t.anchor[0]?-1*u.clamp(-1,1,t.anchor[0]):"left"===t.anchor[0]?1:"right"===t.anchor[0]?-1:0,"number"==typeof t.anchor[1]?-1*u.clamp(-1,1,t.anchor[1]):"top"===t.anchor[1]?1:"bottom"===t.anchor[1]?-1:0]:[0,0],this.boundingType="string"==typeof t.boundingType?"relative"===t.boundingType?i.EBoundingType.Relative:i.EBoundingType.Fixed:t.boundingType||i.EBoundingType.Fixed,this.vertexCallback=t.vertexCallback}isStatic(){const t=this.props;return"function"!=typeof t.repetitions&&"function"!=typeof t.distance&&"function"!=typeof t.displace&&"function"!=typeof t.scale&&"function"!=typeof t.translate&&"function"!=typeof t.skewX&&"function"!=typeof t.skewY&&"function"!=typeof t.squeezeX&&"function"!=typeof t.squeezeY&&"function"!=typeof t.rotateX&&"function"!=typeof t.rotateY&&"function"!=typeof t.rotateZ&&"function"!=typeof t.transformOrigin&&"function"!=typeof t.perspective&&"function"!=typeof t.perspectiveOrigin}isStaticIndexed(){return"function"!=typeof this.props.repetitions}getProp(t,e,r){let n=this.props[t];return"function"==typeof n&&(n=n(e)),void 0===n||Number.isNaN(n)?r:n}setProp(t,e,r=!1){"string"==typeof t?(r=r||"repetitions"==t,this.props[t]=e):(r=r||"repetitions"in t,Object.keys(t).forEach((e=>this.props[e]=t[e]))),this.clearBuffer(r,!0)}clearBuffer(t=!1,e=!0){if(this.buffer=void 0,t&&(this.bIndexed=!1,this.indexedBuffer=[]),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed(),e&&this.scene&&!this.scene.isFirstLevelChild(this)){const r=this.scene.getParentsOfSceneChild(this);r.length>0&&r[r.length-1].clearBuffer(t,e)}}generate(t=0,e=!1,r){var c,g;if(this.buffer&&this.bStatic)return;this.generateId=t,this.bStaticIndexed&&this.bIndexed||(this.indexedBuffer=[]);const y=m.getEmptyPropArguments(this,r),v=y.repetition,b=this.getProp("repetitions",y,1),x=Array.isArray(b)?i.ERepetitionType.Matrix:i.ERepetitionType.Ring,M=Array.isArray(b)?b[0]*(null!==(c=b[1])&&void 0!==c?c:b[0]):b,w=Array.isArray(b)?b[0]:M,_=Array.isArray(b)?null!==(g=b[1])&&void 0!==g?g:b[0]:1,S=v.row;S.count=w;const A=v.col;A.count=_,v.count=M,v.col.count=_,v.row.count=w,v.type=x;let P=0;const E=[];let O=0;const I=n.vec2.fromValues((_-1)/2,(w-1)/2),R=this.scene?[this.scene.anchor[0],this.scene.anchor[1],0]:[0,0,0],C=[void 0,void 0,void 0,void 0],L=[void 0,void 0,void 0,void 0];for(let r=0;r<w;r++)for(let c=0;c<_;c++,O++){v.index=O+1,v.offset=M>1?O/(M-1):1,v.angle=x===i.ERepetitionType.Ring?a.PI2/M*O:0,A.index=c+1,A.offset=_>1?c/(_-1):1,S.index=r+1,S.offset=w>1?r/(w-1):1;const m=this.generateBuffer(t,y),g=m.length,b=this.getShapeBounding();E[O]=new Float32Array(g),P+=g;{const t=s.toVec2(this.getProp("distance",y,s.VEC2_ZERO)),a=this.getProp("displace",y,0),M=s.toVec3(this.getProp("scale",y,s.VEC2_ONE),1),w=s.toVec3(this.getProp("translate",y,s.VEC2_ZERO),0),_=this.getProp("skewX",y,0),S=this.getProp("skewY",y,0),A=this.getProp("squeezeX",y,0),P=this.getProp("squeezeY",y,0),T=this.getProp("rotateX",y,0),k=this.getProp("rotateY",y,0),B=this.getProp("rotateZ",y,0),N=u.clamp(0,1,this.getProp("perspective",y,0)),F=s.toVec3(this.getProp("perspectiveOrigin",y,s.VEC2_ZERO),0),j=s.toVec3(this.getProp("transformOrigin",y,s.VEC2_ZERO),0);let q;switch(x){case i.ERepetitionType.Ring:q=n.vec3.fromValues(t[0],0,0),n.vec3.rotateZ(q,q,s.VEC3_ZERO,v.angle+a);break;case i.ERepetitionType.Matrix:q=n.vec3.fromValues(t[1]*(c-I[0]),t[0]*(r-I[1]),0)}const Y=N>0?Math.max(b.width,b.height)/2:1,D=N>0?Y+10*Y*(1-N):0,z=this.boundingType!==i.EBoundingType.Relative||0!==b.cx||0!==b.cy||0!==N||0!==j[0]||0!==j[1],V=0!==F[0]||0!==F[1];z&&(this.boundingType===i.EBoundingType.Relative?(j[0]=j[0]*(b.width/2)+b.cx,j[1]=j[1]*(b.height/2)+b.cy):(j[0]*=b.width/2,j[1]*=b.height/2),j[2]=D);{n.mat4.identity(f),z&&n.mat4.translate(f,f,j),0===w[0]&&0===w[1]||n.mat4.translate(f,f,w),0===_&&0===S||(s.fromSkew(l,[_,S]),n.mat4.multiply(f,f,l)),0!==T&&n.mat4.rotateX(f,f,T),0!==k&&n.mat4.rotateY(f,f,k),0!==B&&n.mat4.rotateZ(f,f,B),1===M[0]&&1===M[1]||n.mat4.scale(f,f,M),z&&n.mat4.translate(f,f,n.vec3.scale(j,j,-1)),D>0&&(V&&(this.boundingType===i.EBoundingType.Relative?(F[0]=F[0]*(b.width/2)+b.cx,F[1]=F[1]*(b.height/2)+b.cy):(F[0]*=b.width/2,F[1]*=b.height/2),F[2]=0),n.mat4.perspective(d,-Math.PI/2,1,0,1/0)),n.mat4.identity(p),n.mat4.translate(p,p,q),e&&n.mat4.translate(p,p,R);const t=[this.anchor[0]*(b.width/2),this.anchor[1]*(b.height/2),0];n.mat4.translate(p,p,t),x===i.ERepetitionType.Ring&&n.mat4.rotateZ(p,p,v.angle+a)}h.Bounding.clear(L);for(let t=0;t<g;t+=2){const e=[m[t],m[t+1],D];if(0!==A&&o.default.squeezeX(e,A),0!==P&&o.default.squeezeY(e,P),n.vec3.transformMat4(e,e,f),D>0&&(V&&n.vec3.add(e,e,F),n.vec3.transformMat4(e,e,d),n.vec3.scale(e,e,D),V&&n.vec3.sub(e,e,F)),n.vec3.transformMat4(e,e,p),void 0!==this.vertexCallback){const r=t/2,n=g/2,i={index:r+1,count:n,offset:n>1?r/(n-1):1};this.vertexCallback(e,i,y)}E[O][t]=e[0],E[O][t+1]=e[1],h.Bounding.add(L,e[0],e[1]),h.Bounding.add(C,e[0],e[1])}}const T={cx:0,cy:0,x:-1,y:-1,width:2,height:2};h.Bounding.bind(T,L),this.bStaticIndexed&&this.bIndexed||this.addIndex(g,v,T)}h.Bounding.bind(this.bounding,C),this.buffer=new Float32Array(P);for(let t=0,e=0,r=E.length;t<r;e+=E[t].length,t++)this.buffer.set(E[t],e);this.bIndexed=!0}getBounding(){return this.bounding}getRepetitionCount(){var t;const e=this.getProp("repetitions",void 0,1);return Array.isArray(e)?e[0]*(null!==(t=e[1])&&void 0!==t?t:e[0]):e}getBuffer(){return this.buffer}getIndexedBuffer(){return this.indexedBuffer}static getIndexParentLevel(t){if(void 0===t.parent)return 0;let e=t.parent,r=1;for(;void 0!==e.parent;)r++,e=e.parent;return r}stream(t){if(this.buffer&&this.indexedBuffer)for(let e=0,r=0,n=this.indexedBuffer.length;e<n;e++){const i=this.indexedBuffer[e];t({buffer:this.buffer,frameLength:i.frameLength,frameBufferIndex:r,currentIndexing:i,currentShapeIndex:e,totalShapes:n}),r+=i.frameLength}}static getEmptyPropArguments(t,e){return{repetition:{type:i.ERepetitionType.Ring,angle:0,index:1,offset:1,count:1,row:{index:1,offset:1,count:1},col:{index:1,offset:1,count:1}},shape:t,parent:e}}}e.ShapeBase=m,m.EMPTY_BUFFER=new Float32Array(0),m.getEmptySimpleRepetition=()=>({index:1,offset:1,count:1}),m.getEmptyRepetition=()=>({type:i.ERepetitionType.Ring,angle:0,...m.getEmptySimpleRepetition(),row:m.getEmptySimpleRepetition(),col:m.getEmptySimpleRepetition()})},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.toVec3=e.toVec2=e.fromSkew=e.VEC2_ONE=e.VEC2_ZERO=e.VEC3_ONE=e.VEC3_ZERO=void 0;const n=r(10);e.VEC3_ZERO=[0,0,0],e.VEC3_ONE=[1,1,1],e.VEC2_ZERO=[0,0],e.VEC2_ONE=[1,1],n.glMatrix.setMatrixArrayType(Array),e.fromSkew=function(t,e){return t[0]=1,t[1]=Math.tan(e[1]),t[2]=0,t[3]=0,t[4]=Math.tan(e[0]),t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.toVec2=function(t){return Array.isArray(t)?[t[0],t[1]]:[t,t]},e.toVec3=function(t,e=0){return Array.isArray(t)?[t[0],t[1],e]:[t,t,e]}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=new Array(4),n={from:(t=0,e)=>{const r=new Array(2);return"number"==typeof t?(r[0]=t,r[1]=null!=e?e:t):(r[0]=t[0],r[1]=t[1]),r},normalize:t=>{const e=n.length(t);return 0!==e?[t[0]/e,t[1]/e]:[0,0]},distance:(t,e)=>Math.hypot(t[0]-e[0],t[1]-e[1]),dot:(t,e)=>t[0]*e[0]+t[1]*e[1],length:t=>Math.hypot(t[0],t[1]),angle:(t,e)=>(t=n.normalize(t),e=n.normalize(e),Math.acos(n.dot(t,e))),skewX:(t,e)=>{t[0]+=Math.tan(e)*t[1]},skewY:(t,e)=>{t[1]+=Math.tan(e)*t[0]},squeezeX:(t,e)=>{t[1]+=t[1]*(t[0]*-e)},squeezeY:(t,e)=>{t[0]+=t[0]*(t[1]*e)},rotate:(t,e,r)=>{const n=t[0]-r[0],i=t[1]-r[1];t[0]=n*e[0]+i*e[1]+r[0],t[1]=n*e[2]+i*e[3]+r[1]},rotateX:(t,e,i)=>{r[0]=1,r[1]=0,r[2]=0,r[3]=Math.cos(i),n.rotate(t,r,e)},rotateY:(t,e,i)=>{r[0]=Math.cos(i),r[1]=0,r[2]=0,r[3]=1,n.rotate(t,r,e)},rotateZ:(t,e,i)=>{r[0]=Math.cos(i),r[1]=-Math.sin(i),r[2]=Math.sin(i),r[3]=Math.cos(i),n.rotate(t,r,e)},translate:(t,e)=>{t[0]+=e[0],t[1]+=e[1]},scale:(t,e)=>{t[0]*=e[0],t[1]*=e[1]},divide:(t,e)=>{t[0]/=e[0],t[1]/=e[1]},toString:t=>`x: ${t[0]}, y: ${t[1]}`,ZERO:Array.from([0,0]),ONE:Array.from([1,1])};e.default=n},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mod=e.PHI=e.PI2=e.log=void 0,e.log=(t,e)=>Math.log(t)/Math.log(e),e.PI2=2*Math.PI,e.PHI=(1+Math.sqrt(5))/2,e.mod=(t,e)=>{const r=t%e;return r<0?r+e:r}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Adapt=e.Bounding=e.EAdaptMode=void 0;const n=r(29);var i;!function(t){t[t.None=0]="None",t[t.Scale=2]="Scale",t[t.Center=4]="Center",t[t.Fill=8]="Fill"}(i=e.EAdaptMode||(e.EAdaptMode={})),e.Bounding={empty:()=>({cx:0,cy:0,x:-1,y:-1,width:2,height:2}),clear:t=>{t[0]=void 0,t[1]=void 0,t[2]=void 0,t[3]=void 0},add:(t,e,r)=>{(void 0===t[0]||e<t[0])&&(t[0]=e),(void 0===t[2]||e>t[2])&&(t[2]=e),(void 0===t[1]||r<t[1])&&(t[1]=r),(void 0===t[3]||r>t[3])&&(t[3]=r)},sum:(t,e)=>{void 0!==e[0]&&void 0!==e[1]&&void 0!==e[2]&&void 0!==e[3]?void 0===t[0]||void 0===t[1]||void 0===t[2]||void 0===t[3]?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]):(t[0]<e[0]&&(t[0]=e[0]),t[2]>e[2]&&(t[2]=e[2]),t[1]<e[1]&&(t[1]=e[1]),t[3]>e[3]&&(t[3]=e[3])):console.warn("[Urplfanze:Bounding] cannot sum bounding")},bind:(t,e)=>{void 0!==e[0]&&void 0!==e[1]&&void 0!==e[2]&&void 0!==e[3]?(t.x=e[0],t.y=e[1],t.width=e[2]-e[0],t.height=e[3]-e[1],t.cx=t.x+t.width/2,t.cy=t.y+t.height/2):console.warn("[Urplfanze:Bounding] cannot bind bounding")}};class s extends n.Modifier{constructor(t){super(),this.mode=t.mode||i.Fill,this.rect=t.rect}apply(t,e){return s.adapt(t,this.mode,this.rect)}static adapt(t,e,r){if(e===i.None)return Float32Array.from(t);const n=new Float32Array(t.length);r||(r=s.getBounding(t));const o=r.width>=2||r.height>=2||e>=i.Fill&&(r.width<2||r.height<2)?2/Math.max(r.width,r.height):1,a=e>=i.Center?r.cx:0,h=e>=i.Center?r.cy:0;for(let e=0,r=t.length;e<r;e+=2)n[e]=(t[e]-a)*o,n[e+1]=(t[e+1]-h)*o;return n}static getBounding(t,r){void 0===r&&(r=e.Bounding.empty());const n=[void 0,void 0,void 0,void 0];for(let r=0,i=t.length;r<i;r+=2)e.Bounding.add(n,t[r],t[r+1]);return e.Bounding.bind(r,n),r}}e.Adapt=s,s.MODES=i},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Modifier=void 0,e.Modifier=class{}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.distributePointsInBuffer=e.interpolate=e.prepareBufferForInterpolation=e.distanceFromRepetition=e.angle2FromRepetition=e.angleFromRepetition=e.random=e.noise=e.relativeClamp=e.clamp=e.lerp=e.toRadians=e.toDegrees=e.now=void 0;const n=r(31),i=r(4),s=r(26),o="undefined"!=typeof performance?performance:Date;function a(t,e,r){return r<=t?t:r>=e?e:r}e.now=function(){return o.now()},e.toDegrees=function(t){return 180*t/Math.PI},e.toRadians=function(t){return t*Math.PI/180},e.lerp=function(t,e,r){return(1-r)*t+r*e},e.clamp=a,e.relativeClamp=function(t,e,r,n,i){return a(n,i,(r-t)/(e-t)*(i-n)+n)};const h={random:new n(Math.random)};e.noise=function(t="random",e=0,r=0,i=0){return void 0===h[t]&&(h[t]=new n(t)),h[t].noise3D(e,r,i)};const u={};function c(t,e){const r=t.length,n=e.length;if(r===n)return[t,e];const i=Math.abs(r-n),s=r<n?e:t,o=l(r<n?t:e,Math.floor(i/2));return r>n?[s,o]:[o,s]}function l(t,e){const r=t.length,n=r/2,i=2*(n+e),s=n-1;if(s>1){const n=r-2,o=Math.floor(e/s);let a=(i-(r+o*n))/2;const h=Math.round(s/a),u=new Float32Array(i);for(let e=0,r=0,i=0;e<n;e+=2,r++,i+=2){const s=t[e],c=t[e+1],l=t[e+2],f=t[e+3];u[i]=s,u[i+1]=c;const d=a>0&&(r%h==0||e===n-2),p=o+(d?1:0),m=1/(p+1);for(let t=0;t<p;t++,i+=2){const e=m*(t+1);u[i+2]=(1-e)*s+e*l,u[i+3]=(1-e)*c+e*f}d&&a--}return u[i-2]=t[r-2],u[i-1]=t[r-1],u}const o=new Float32Array(i);for(let e=0;e<i;e+=2)o[e]=t[e%r],o[e+1]=t[(e+1)%r];return o}e.random=function(t,e=0,r=1,n){const i=t+"";if(void 0===u[i]){const t=function(t){let e=0,r=1779033703^t.length;for(;e<t.length;e++)r=Math.imul(r^t.charCodeAt(e),3432918353),r=r<<13|r>>>19;return function(){return r=Math.imul(r^r>>>16,2246822507),r=Math.imul(r^r>>>13,3266489909),(r^=r>>>16)>>>0}}(i);u[i]=(s=t(),o=t(),a=t(),h=t(),function(){let t=(s>>>=0)+(o>>>=0)|0;return s=o^o>>>9,o=(a>>>=0)+(a<<3)|0,t=t+(h=1+(h>>>=0)|0)|0,a=(a=a<<21|a>>>11)+t|0,(t>>>0)/4294967296})}var s,o,a,h;const c=e+u[i]()*(r-e);return void 0!==n?Math.round(c*10**n)/10**n:c},e.angleFromRepetition=function(t,e=[0,0]){if(t.type===i.ERepetitionType.Matrix){const r=[(t.col.count-1)/2,(t.row.count-1)/2];r[0]+=r[0]*e[0],r[1]+=r[1]*e[1];const n=t.col.index-1-r[0],i=t.row.index-1-r[1];return 0===n?0:Math.atan(i/n)}return(t.angle-Math.PI)/2},e.angle2FromRepetition=function(t,e=[0,0]){if(t.type===i.ERepetitionType.Matrix){const r=[(t.col.count-1)/2,(t.row.count-1)/2];r[0]+=r[0]*e[0],r[1]+=r[1]*e[1];const n=t.col.index-1-r[0],i=t.row.index-1-r[1];return 0===n?0:Math.atan2(i,n)}return t.angle-Math.PI},e.distanceFromRepetition=function(t,e=[0,0]){if(t.type===i.ERepetitionType.Matrix){const r=[.5,.5];r[0]+=r[0]*e[0],r[1]+=r[1]*e[1];const n=[t.col.offset,t.row.offset];return s.default.distance(n,r)}return 1},e.prepareBufferForInterpolation=c,e.interpolate=function(t,e,r=.5){const[n,i]=c(t,e),s=Math.max(n.length,i.length),o="number"==typeof r?[r]:r,a=s/2;if(o.length!==a){const t=o.length;for(let e=0;e<a;e++)o[e]=o[e%t]}const h=new Float32Array(s);for(let t=0,e=0;t<s;t+=2,e++)h[t]=(1-o[e])*n[t]+o[e]*i[t],h[t+1]=(1-o[e])*n[t+1]+o[e]*i[t+1];return h},e.distributePointsInBuffer=l},(t,e,r)=>{var n;!function(){var i=.5*(Math.sqrt(3)-1),s=(3-Math.sqrt(3))/6,o=1/6,a=(Math.sqrt(5)-1)/4,h=(5-Math.sqrt(5))/20;function u(t){var e;e="function"==typeof t?t:t?function(){var t=0,e=0,r=0,n=1,i=l();t=i(" "),e=i(" "),r=i(" ");for(var s=0;s<arguments.length;s++)(t-=i(arguments[s]))<0&&(t+=1),(e-=i(arguments[s]))<0&&(e+=1),(r-=i(arguments[s]))<0&&(r+=1);return i=null,function(){var i=2091639*t+2.3283064365386963e-10*n;return t=e,e=r,r=i-(n=0|i)}}(t):Math.random,this.p=c(e),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var r=0;r<512;r++)this.perm[r]=this.p[255&r],this.permMod12[r]=this.perm[r]%12}function c(t){var e,r=new Uint8Array(256);for(e=0;e<256;e++)r[e]=e;for(e=0;e<255;e++){var n=e+~~(t()*(256-e)),i=r[e];r[e]=r[n],r[n]=i}return r}function l(){var t=4022871197;return function(e){e=e.toString();for(var r=0;r<e.length;r++){var n=.02519603282416938*(t+=e.charCodeAt(r));n-=t=n>>>0,t=(n*=t)>>>0,t+=4294967296*(n-=t)}return 2.3283064365386963e-10*(t>>>0)}}u.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(t,e){var r,n,o=this.permMod12,a=this.perm,h=this.grad3,u=0,c=0,l=0,f=(t+e)*i,d=Math.floor(t+f),p=Math.floor(e+f),m=(d+p)*s,g=t-(d-m),y=e-(p-m);g>y?(r=1,n=0):(r=0,n=1);var v=g-r+s,b=y-n+s,x=g-1+2*s,M=y-1+2*s,w=255&d,_=255&p,S=.5-g*g-y*y;if(S>=0){var A=3*o[w+a[_]];u=(S*=S)*S*(h[A]*g+h[A+1]*y)}var P=.5-v*v-b*b;if(P>=0){var E=3*o[w+r+a[_+n]];c=(P*=P)*P*(h[E]*v+h[E+1]*b)}var O=.5-x*x-M*M;if(O>=0){var I=3*o[w+1+a[_+1]];l=(O*=O)*O*(h[I]*x+h[I+1]*M)}return 70*(u+c+l)},noise3D:function(t,e,r){var n,i,s,a,h,u,c,l,f,d,p=this.permMod12,m=this.perm,g=this.grad3,y=.3333333333333333*(t+e+r),v=Math.floor(t+y),b=Math.floor(e+y),x=Math.floor(r+y),M=(v+b+x)*o,w=t-(v-M),_=e-(b-M),S=r-(x-M);w>=_?_>=S?(h=1,u=0,c=0,l=1,f=1,d=0):w>=S?(h=1,u=0,c=0,l=1,f=0,d=1):(h=0,u=0,c=1,l=1,f=0,d=1):_<S?(h=0,u=0,c=1,l=0,f=1,d=1):w<S?(h=0,u=1,c=0,l=0,f=1,d=1):(h=0,u=1,c=0,l=1,f=1,d=0);var A=w-h+o,P=_-u+o,E=S-c+o,O=w-l+2*o,I=_-f+2*o,R=S-d+2*o,C=w-1+.5,L=_-1+.5,T=S-1+.5,k=255&v,B=255&b,N=255&x,F=.6-w*w-_*_-S*S;if(F<0)n=0;else{var j=3*p[k+m[B+m[N]]];n=(F*=F)*F*(g[j]*w+g[j+1]*_+g[j+2]*S)}var q=.6-A*A-P*P-E*E;if(q<0)i=0;else{var Y=3*p[k+h+m[B+u+m[N+c]]];i=(q*=q)*q*(g[Y]*A+g[Y+1]*P+g[Y+2]*E)}var D=.6-O*O-I*I-R*R;if(D<0)s=0;else{var z=3*p[k+l+m[B+f+m[N+d]]];s=(D*=D)*D*(g[z]*O+g[z+1]*I+g[z+2]*R)}var V=.6-C*C-L*L-T*T;if(V<0)a=0;else{var $=3*p[k+1+m[B+1+m[N+1]]];a=(V*=V)*V*(g[$]*C+g[$+1]*L+g[$+2]*T)}return 32*(n+i+s+a)},noise4D:function(t,e,r,n){var i,s,o,u,c,l,f,d,p,m,g,y,v,b,x,M,w,_=this.perm,S=this.grad4,A=(t+e+r+n)*a,P=Math.floor(t+A),E=Math.floor(e+A),O=Math.floor(r+A),I=Math.floor(n+A),R=(P+E+O+I)*h,C=t-(P-R),L=e-(E-R),T=r-(O-R),k=n-(I-R),B=0,N=0,F=0,j=0;C>L?B++:N++,C>T?B++:F++,C>k?B++:j++,L>T?N++:F++,L>k?N++:j++,T>k?F++:j++;var q=C-(l=B>=3?1:0)+h,Y=L-(f=N>=3?1:0)+h,D=T-(d=F>=3?1:0)+h,z=k-(p=j>=3?1:0)+h,V=C-(m=B>=2?1:0)+2*h,$=L-(g=N>=2?1:0)+2*h,X=T-(y=F>=2?1:0)+2*h,G=k-(v=j>=2?1:0)+2*h,U=C-(b=B>=1?1:0)+3*h,H=L-(x=N>=1?1:0)+3*h,Z=T-(M=F>=1?1:0)+3*h,Q=k-(w=j>=1?1:0)+3*h,W=C-1+4*h,J=L-1+4*h,K=T-1+4*h,tt=k-1+4*h,et=255&P,rt=255&E,nt=255&O,it=255&I,st=.6-C*C-L*L-T*T-k*k;if(st<0)i=0;else{var ot=_[et+_[rt+_[nt+_[it]]]]%32*4;i=(st*=st)*st*(S[ot]*C+S[ot+1]*L+S[ot+2]*T+S[ot+3]*k)}var at=.6-q*q-Y*Y-D*D-z*z;if(at<0)s=0;else{var ht=_[et+l+_[rt+f+_[nt+d+_[it+p]]]]%32*4;s=(at*=at)*at*(S[ht]*q+S[ht+1]*Y+S[ht+2]*D+S[ht+3]*z)}var ut=.6-V*V-$*$-X*X-G*G;if(ut<0)o=0;else{var ct=_[et+m+_[rt+g+_[nt+y+_[it+v]]]]%32*4;o=(ut*=ut)*ut*(S[ct]*V+S[ct+1]*$+S[ct+2]*X+S[ct+3]*G)}var lt=.6-U*U-H*H-Z*Z-Q*Q;if(lt<0)u=0;else{var ft=_[et+b+_[rt+x+_[nt+M+_[it+w]]]]%32*4;u=(lt*=lt)*lt*(S[ft]*U+S[ft+1]*H+S[ft+2]*Z+S[ft+3]*Q)}var dt=.6-W*W-J*J-K*K-tt*tt;if(dt<0)c=0;else{var pt=_[et+1+_[rt+1+_[nt+1+_[it+1]]]]%32*4;c=(dt*=dt)*dt*(S[pt]*W+S[pt+1]*J+S[pt+2]*K+S[pt+3]*tt)}return 27*(i+s+o+u+c)}},u._buildPermutationTable=c,void 0===(n=function(){return u}.call(e,r,e,t))||(t.exports=n),e.SimplexNoise=u,t.exports=u}()},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=void 0;const n=r(21),i=r(22),s=r(24);class o extends s.ShapeBase{constructor(t){t.type=t.type||"Shape",super(t),t.shape instanceof i.SceneChild?this.shape=t.shape:console.warn("[Urpflanze:Shape] requires the 'shape' property to be instance of SceneChild,\nYou passed:",t.shape),this.shapeUseParent=!!t.shapeUseParent,this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}isStatic(){return super.isStatic()&&(!this.shape||this.shape.isStatic())}isStaticIndexed(){return super.isStaticIndexed()&&(!this.shape||this.shape.isStaticIndexed())}find(t){return this.id===t||this.name===t?this:this.shape?this.shape.find(t):null}getBufferLength(t){return this.bStatic&&this.buffer&&this.buffer.length>0?this.buffer.length:(this.shape?this.shape.getBufferLength(t):0)*this.getRepetitionCount()}generateBuffer(t,e){return this.shape?((this.shapeUseParent||this.shape.generateId!==t)&&(this.shapeUseParent&&this.shape.clearBuffer(!0,!1),this.shape.generate(t,!1,e)),this.shape.getBuffer()):o.EMPTY_BUFFER}getShapeBounding(){return this.shape?this.shape.getBounding():this.bounding}addIndex(t,e,r){if(this.shape){const n=this.shape.getIndexedBuffer()||[],i={shape:this,frameLength:t,singleRepetitionBounding:r,repetition:{type:e.type,angle:e.angle,index:e.index,count:e.count,offset:e.offset,row:{index:e.row.index,count:e.row.count,offset:e.row.offset},col:{index:e.col.index,count:e.col.count,offset:e.col.offset}}};for(let t=0,e=n.length;t<e;t++){const e={...n[t]},r=e.parent?o.setIndexedParent(e.parent,i):i;this.indexedBuffer.push({...e,parent:r})}}}static setIndexedParent(t,e){const r={...t};return r.parent=t.parent?o.setIndexedParent(t.parent,e):e,r}setShape(t){void 0===t?(this.shape=void 0,this.clearBuffer(!0,!0)):(this.scene&&n.Scene.propagateToChilden(t,this.scene),this.shape=t,this.shape.clearBuffer(!0,!0))}}e.Shape=o},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ShapePrimitive=void 0;const n=r(25),i=r(24),s=r(29),o=r(28);class a extends i.ShapeBase{constructor(t={}){var e;super(t),this.currentGenerationPrimitiveBounding=o.Bounding.empty(),this.props.sideLength=void 0===t.sideLength?void 0:"function"==typeof t.sideLength?t.sideLength:n.toVec2(t.sideLength),this.drawer=t.drawer||{},this.modifiers=t.modifiers,this.bClosed=null===(e=t.bClosed)||void 0===e||e}isStatic(){return"function"!=typeof this.props.sideLength&&super.isStatic()}getRepetitionSideLength(t){return this.bStatic?(void 0===this.props.sideLength?this.props.sideLength=[50,50]:"number"==typeof this.props.sideLength&&(this.props.sideLength=[this.props.sideLength,this.props.sideLength]),this.props.sideLength):n.toVec2(this.getProp("sideLength",t,[50,50]))}applyModifiers(t,e){if(void 0===this.modifiers)return t;let r=t;const n=Array.isArray(this.modifiers)?this.modifiers:[this.modifiers];for(let t=0,i=n.length;t<i;t++)r=(n[t]instanceof s.Modifier?n[t]:n[t](e)).apply(r,this.bClosed,this);return r}getShapeBounding(){return this.currentGenerationPrimitiveBounding}addIndex(t,e,r){const n={shape:this,frameLength:t,singleRepetitionBounding:r,repetition:{type:e.type,angle:e.angle,index:e.index,count:e.count,offset:e.offset,row:{index:e.row.index,count:e.row.count,offset:e.row.offset},col:{index:e.col.index,count:e.col.count,offset:e.col.offset}}};this.indexedBuffer.push(n)}isClosed(){return this.bClosed}setClosed(t){this.bClosed=t}}e.ShapePrimitive=a},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeLoop=void 0;const n=r(27),i=r(28),s=r(33),o=r(24);class a extends s.ShapePrimitive{constructor(t={},e=!1){t.type=t.type||"ShapeLoop",super(t),this.loopDependencies=(t.loopDependencies||[]).concat("sideLength"),this.props.loop=t.loop,e||(this.loop={start:0,end:n.PI2,inc:n.PI2/10,vertex:()=>[0,0]},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed())}isStaticLoop(){if(this.loopDependencies.includes("propArguments"))return!1;for(let t=0,e=this.loopDependencies.length;t<e;t++)if("function"==typeof this.props[this.loopDependencies[t]])return!1;return!0}isStatic(){return this.bStaticLoop&&super.isStatic()}isStaticIndexed(){return super.isStaticIndexed()&&(void 0===this.props.loop||"function"!=typeof this.props.loop.start&&"function"!=typeof this.props.loop.end&&"function"!=typeof this.props.loop.inc)}clearBuffer(t=!1,e=!0){this.bStaticLoop=this.isStaticLoop(),t&&(this.currentOrSingleLoopBuffer=void 0),super.clearBuffer(t,e)}setProp(t,e){let r=!1;const n="string"==typeof t?{[t]:e}:t;for(let t=this.loopDependencies.length-1;t>=0;t--)if(this.loopDependencies[t]in n){r=!0;break}"loop"in n&&(n.loop={...this.props.loop,...n.loop},r=!0),super.setProp(n,e,r)}getBufferLength(t){if(this.bStatic&&void 0!==this.buffer)return this.buffer.length;if(this.bStaticLoop&&void 0!==this.currentOrSingleLoopBuffer)return this.currentOrSingleLoopBuffer.length*this.getRepetitionCount();const{count:e}=this.getLoop(t||o.ShapeBase.getEmptyPropArguments(this));return this.getRepetitionCount()*e*2}generateBuffer(t,e){return this.bStaticLoop?("function"!=typeof this.props.sideLength&&void 0!==this.currentOrSingleLoopBuffer||(this.currentOrSingleLoopBuffer=this.generateLoopBuffer(e)),this.currentOrSingleLoopBuffer):this.generateLoopBuffer(e)}generateLoopBuffer(t){const{start:e,inc:r,count:n}=this.getLoop(t),s=this.getRepetitionSideLength(t),o=this.props.loop&&this.props.loop.vertex?this.props.loop.vertex:this.loop.vertex,a={index:0,offset:0,current:0,count:n},h=a.count,u=new Float32Array(2*h);for(let n=0,i=0;n<h;n++,i+=2){const s=e+r*n,h=a.count>1?n/(a.count-1):1;a.current=s,a.index=n+1,a.offset=h;const c=o(a,t);u[i]=c[0],u[i+1]=c[1]}const c=[void 0,void 0,void 0,void 0],l=this.applyModifiers(u,t);for(let t=0,e=l.length;t<e;t+=2)l[t]=l[t]*s[0],l[t+1]=l[t+1]*s[1],i.Bounding.add(c,l[t],l[t+1]);return i.Bounding.bind(this.currentGenerationPrimitiveBounding,c),l}getLoop(t){var e,r,n,i,s,o;let a=null!==(r=null===(e=this.props.loop)||void 0===e?void 0:e.start)&&void 0!==r?r:this.loop.start,h=null!==(i=null===(n=this.props.loop)||void 0===n?void 0:n.end)&&void 0!==i?i:this.loop.end,u=null!==(o=null===(s=this.props.loop)||void 0===s?void 0:s.inc)&&void 0!==o?o:this.loop.inc;a="function"==typeof a?a(t):a,h="function"==typeof h?h(t):h,u="function"==typeof u?u(t):u;const c=Math.ceil((h-a)/u);return{start:a,end:h,inc:u,count:c<=0?0:c}}setShape(t){this.setProp("loop",t)}static getBuffer(t){const e=new this({...t,sideLength:t.sideLength||1});return e.generate(),e.getBuffer()||new Float32Array}}e.ShapeLoop=a,a.PId2=Math.PI/2},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeBuffer=void 0;const n=r(28),i=r(33);class s extends i.ShapePrimitive{constructor(t={}){var e,r;t.type=t.type||"ShapeBuffer",t.adaptMode=null!==(e=t.adaptMode)&&void 0!==e?e:n.EAdaptMode.Scale,super(t),this.adaptMode=null!==(r=t.adaptMode)&&void 0!==r?r:n.EAdaptMode.Fill,void 0===t.shape?(console.warn("[Urpflanze:ShapeBuffer] ShapeBuffer require a buffer passed from `shape` property"),this.shape=s.EMPTY_BUFFER):this.shape="function"!=typeof t.shape?n.Adapt.adapt(t.shape,this.adaptMode):t.shape,this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}isStatic(){return"function"!=typeof this.shape&&super.isStatic()}isStaticIndexed(){return"function"!=typeof this.shape&&super.isStaticIndexed()}clearBuffer(t=!1,e=!0){super.clearBuffer(t,e),this.shapeBuffer=void 0}bindBuffer(t){const e=this.getRepetitionSideLength(t),r=this.applyModifiers(Float32Array.from("function"==typeof this.shape?this.shape(t):this.shape),t),i=[void 0,void 0,void 0,void 0];for(let t=0,s=r.length;t<s;t+=2)r[t]=r[t]*e[0],r[t+1]=r[t+1]*e[1],n.Bounding.add(i,r[t],r[t+1]);n.Bounding.bind(this.currentGenerationPrimitiveBounding,i),this.shapeBuffer=r}getBufferLength(){return this.buffer&&this.buffer.length>0?this.buffer.length:this.shape.length*this.getRepetitionCount()}generateBuffer(t,e){return void 0!==this.shapeBuffer&&"function"!=typeof this.props.sideLength&&"function"!=typeof this.shape||this.bindBuffer(e),this.shapeBuffer}setShape(t){this.shape=n.Adapt.adapt(t,this.adaptMode),this.clearBuffer(!0)}getAdaptMode(){return this.adaptMode}static getBuffer(t={}){const e=new this({...t,sideLength:t.sideLength||1});return e.generate(),e.getBuffer()||new Float32Array}}e.ShapeBuffer=s},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeRecursive=void 0;const n=r(32);class i extends n.Shape{constructor(t){t.type=t.type||"ShapeRecursive",super(t),this.props.recursions=t.recursions||1,this.props.recursionScale=t.recursionScale||2,this.props.recursionVertex=t.recursionVertex||0,this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed(),this.shapeUseRecursion=!!t.shapeUseRecursion}clearBuffer(t=!1,e=!0){t&&(this.shapeRecursiveBuffer=void 0),super.clearBuffer(t,e)}isStatic(){return"function"!=typeof this.props.recursions&&"function"!=typeof this.props.recursionScale&&"function"!=typeof this.props.recursionVertex&&super.isStatic()}isStaticIndexed(){return"function"!=typeof this.props.recursions&&"function"!=typeof this.props.recursionVertex&&super.isStaticIndexed()}generateBuffer(t,e){return this.shape?((void 0===this.shapeRecursiveBuffer||this.shapeUseParent||this.shape.generateId!==t)&&this.bindBuffer(t,e),this.shapeRecursiveBuffer):n.Shape.EMPTY_BUFFER}bindBuffer(t,e){const r=Math.floor(this.getProp("recursions",e,1)),n=Math.floor(this.getProp("recursionVertex",e,0)),s=this.getProp("recursionScale",e,2),o=this.shape;let a={index:1,offset:1,count:1,level:{index:1,offset:r>1?0:1,count:1}};const h={...e,recursion:a};o.generate(t,!1,h);const u=o.getBuffer();if(r<=1)return void(this.shapeRecursiveBuffer=u);let c=u;const l=[a];let f=0,d=1;const p=c.length,m=p/2,g=n<=0?m:Math.min(n,m),y=0===n?1:m/Math.min(n,m),v=new Float32Array(i.summmation(r,g)*p);for(let t=0;t<p;t+=2)v[t]=c[t],v[t+1]=c[t+1];for(let e=1;e<r;e++){const n=r>1?e/(r-1):1,u=i.summmation(e,g)*p,m=e-1,b=0===m?0:i.summmation(m,g)*p;for(let i=0,m=g**e;i<m;i++,d++){a={index:i+1,offset:m>1?i/(m-1):1,count:m,level:{index:e+1,offset:n,count:r},parent:l[f]},l.push(a),this.shapeUseRecursion&&(h.recursion=a,o.generate(t,!1,h),c=o.getBuffer());const x=u+i*p,M=Math.floor(b+2*i*y),w=v[M],_=v[M+1],S=s**e;for(let t=0,e=p;t<e;t+=2){const e=c[t]/S,r=c[t+1]/S;v[x+t]=w+e,v[x+t+1]=_+r}d%g==0&&(f+=1)}}this.shapeRecursiveBuffer=v}addIndex(t,e,r){if(this.shape){const i={repetition:e,shape:this},s=Math.floor(this.getProp("recursions",i,1)),o=Math.floor(this.getProp("recursionVertex",i,0)),a={shape:this,frameLength:t,singleRepetitionBounding:r,repetition:{type:e.type,angle:e.angle,index:e.index,count:e.count,offset:e.offset,row:{index:e.row.index,count:e.row.count,offset:e.row.offset},col:{index:e.col.index,count:e.col.count,offset:e.col.offset}},recursion:{index:1,offset:1,count:1,level:{index:1,offset:s>1?0:1,count:s}}},h=this.shape.getIndexedBuffer()||[];for(let t=0,e=h.length;t<e;t++){const e={...h[t]},r={index:1,offset:1,count:1,level:{index:1,offset:s>1?0:1,count:s}},i={...a,recursion:r},o=e.parent?n.Shape.setIndexedParent(e.parent,i):i;this.indexedBuffer.push({...e,parent:o})}if(s>1){const t=this.shape.getBufferLength({...i,parent:{...a}})/2,e=o<=0?t:Math.min(o,t),r=this.indexedBuffer.map((t=>[t.parent.recursion]));let u=0,c=1;for(let t=1;t<s;t++){const i=s>1?t/(s-1):1;for(let o=0,l=e**t;o<l;o++,c++){const f=l>1?o/(l-1):1;for(let d=0,p=h.length;d<p;d++){const p={...h[d]},m={index:o+1,offset:f,count:l,level:{index:t+1,offset:i,count:s},parent:r[d][u]},g={...a,recursion:m},y=p.parent?n.Shape.setIndexedParent(p.parent,g):g;this.indexedBuffer.push({...p,parent:y}),r[d].push(m),c%e==0&&(u+=1)}}}}}}static summmation(t,e){if(1===t)return 1;let r=1;for(let n=1;n<t;n++)r+=e**n;return r}static getEmptyRecursion(){return{index:1,offset:1,count:1,level:{index:1,offset:1,count:1}}}}e.ShapeRecursive=i},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeFollow=void 0;const n=r(32);class i extends n.Shape{constructor(t){t.type=t.type||"ShapeFollow",super(t),this.follow=t.follow||t.shape,this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed(),this.shapeUseFollow=!!t.shapeUseFollow}clearBuffer(t=!1,e=!0){t&&(this.shapeFollowBuffer=void 0),super.clearBuffer(t,e)}isStatic(){return(!this.follow||this.follow.isStatic())&&super.isStatic()}isStaticIndexed(){return(!this.follow||this.follow.isStaticIndexed())&&super.isStaticIndexed()}generateBuffer(t,e){return this.shape&&this.follow?((void 0===this.shapeFollowBuffer||this.shapeUseParent||this.shape.generateId!==t||this.follow.generateId!==t)&&this.bindBuffer(t,e),this.shapeFollowBuffer):n.Shape.EMPTY_BUFFER}bindBuffer(t,e){const r=this.follow;r.generate(t,!1,e);const n=r.getBuffer(),i={...e,follow:{index:1,offset:1,count:1}},s=this.shape;s.generate(t,!1,i);let o=s.getBuffer();const a=o.length,h=new Float32Array(a*(n.length/2)),u=n.length/2;for(let e=0;e<u;e++){const r={index:e+1,offset:u>1?e/(u-1):1,count:u};this.shapeUseFollow&&(i.follow=r,s.generate(t,!1,i),o=s.getBuffer());const c=e*a,l=2*e,f=n[l],d=n[l+1];for(let t=0,e=o.length;t<e;t+=2)h[c+t]=f+o[t],h[c+t+1]=d+o[t+1]}this.shapeFollowBuffer=h}addIndex(t,e,r){if(this.shape){const i={shape:this,frameLength:t,singleRepetitionBounding:r,repetition:{type:e.type,angle:e.angle,index:e.index,count:e.count,offset:e.offset,row:{index:e.row.index,count:e.row.count,offset:e.row.offset},col:{index:e.col.index,count:e.col.count,offset:e.col.offset}},follow:{index:1,offset:1,count:1}},s=this.shape.getIndexedBuffer()||[];for(let t=0,e=s.length;t<e;t++)for(let t=0,e=this.follow.getBuffer().length/2;t<e;t++){const r=e>1?t/(e-1):1;for(let o=0,a=s.length;o<a;o++){const a={...s[o]},h={...i,follow:{index:t+1,offset:r,count:e}},u=a.parent?n.Shape.setIndexedParent(a.parent,h):h;this.indexedBuffer.push({...a,parent:u})}}}}static summmation(t,e){if(1===t)return 1;let r=1;for(let n=1;n<t;n++)r+=e**n;return r}static getEmptyRecursion(){return{index:1,offset:1,count:1,level:{index:1,offset:1,count:1}}}}e.ShapeFollow=i},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Line=void 0;const n=r(28),i=r(35);class s extends i.ShapeBuffer{constructor(t={}){t.type="Line",t.shape=s.buffer,t.adaptMode=n.EAdaptMode.None,t.bClosed=!1,super(t)}static toPolygon(t,e){const r=[];if(!Array.isArray(e)){const r=e,n=t.length/2;e=new Array(n);for(let t=0;t<n;t++)e[t]=r}function n(t,e,r,n,i){const s=r-t,o=n-e,a=i/(2*Math.sqrt(s*s+o*o));return[-a*o,a*s]}function i(t,e,r,n){const i=(e[1]-t[1])/(e[0]-t[0]),s=(n[1]-r[1])/(n[0]-r[0]);if(Math.abs(i-s)<1e-5)return;const o=t[1]-i*t[0],a=(o-(r[1]-s*r[0]))/(s-i);return[a,i*a+o]}let s,o,a=[[0,0],[0,0]],h=[[0,0],[0,0]];for(let u=0,c=t.length-2;u<c;u+=2){s=0===u,o=u===c-2;const l=n(t[u],t[u+1],t[u+2],t[u+3],e[u]),f=[t[u]+l[0],t[u+1]+l[1]],d=[t[u+2]+l[0],t[u+3]+l[1]],p=[t[u]-l[0],t[u+1]-l[1]],m=[t[u+2]-l[0],t[u+3]-l[1]];if(!s){const t=i(a[0],a[1],f,d);t&&(r.unshift(t[1]),r.unshift(t[0]));const e=i(h[0],h[1],p,m);e&&(r.push(e[0]),r.push(e[1]))}s&&(r.unshift(f[1]),r.unshift(f[0]),r.push(p[0]),r.push(p[1])),o&&(r.unshift(d[1]),r.unshift(d[0]),r.push(m[0]),r.push(m[1])),o||(a=[f,d],h=[p,m])}return Float32Array.from(r)}}e.Line=s,s.buffer=[-1,0,1,0]},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Triangle=void 0;const n=r(28),i=r(35);class s extends i.ShapeBuffer{constructor(t={}){t.type="Triangle",t.shape=s.buffer,t.adaptMode=n.EAdaptMode.None,super(t)}}e.Triangle=s,s.buffer=[1,0,-1,1,-1,-1]},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Rect=void 0;const n=r(28),i=r(35);class s extends i.ShapeBuffer{constructor(t={}){t.type="Rect",t.shape=s.buffer,t.adaptMode=n.EAdaptMode.None,super(t)}}e.Rect=s,s.buffer=[1,1,-1,1,-1,-1,1,-1]},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Polygon=void 0;const n=r(27),i=r(34);class s extends i.ShapeLoop{constructor(t={}){t.type=t.type||"Polygon",t.loopDependencies=(t.loopDependencies||[]).concat(["sideNumber"]),super(t,!0),this.props.sideNumber=t.sideNumber,this.loop={start:0,end:n.PI2,inc:t=>n.PI2/this.getProp("sideNumber",t,5),vertex:t=>[Math.cos(t.current),Math.sin(t.current)]},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}}e.Polygon=s},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Circle=void 0;const n=r(27),i=r(34);class s extends i.ShapeLoop{constructor(t={}){t.type="Circle",super(t,!0),this.loop={start:0,end:n.PI2,inc:t=>{const e=this.getRepetitionSideLength(t);return 1/Math.pow(e[0]*e[1],.25)*i.ShapeLoop.PId2},vertex:t=>[Math.cos(t.current),Math.sin(t.current)]},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}}e.Circle=s},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Star=void 0;const n=r(27),i=r(34);class s extends i.ShapeLoop{constructor(t={}){t.type=t.type||"Polygon",t.loopDependencies=(t.loopDependencies||[]).concat(["spikes","innerRadius"]),super(t,!0),this.props.spikes=t.spikes,this.props.innerRadius=t.innerRadius,this.loop={start:0,end:n.PI2,inc:t=>this.inc,vertex:t=>{const e=Math.PI/this.spikes*t.index,r=t.index%2==0?1:this.innerRadius;return[Math.cos(e)*r,Math.sin(e)*r]}},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}generateLoopBuffer(t){return this.spikes=this.getProp("spikes",t,5),this.innerRadius=this.getProp("innerRadius",t,.5),this.inc=Math.PI/this.spikes,super.generateLoopBuffer(t)}}e.Star=s},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Rose=void 0;const n=r(27),i=r(34);class s extends i.ShapeLoop{constructor(t={}){var e,r;t.type="Rose",t.loopDependencies=(t.loopDependencies||[]).concat(["n","d"]),super(t,!0),this.props.n=null!==(e=t.n)&&void 0!==e?e:1,this.props.d=null!==(r=t.d)&&void 0!==r?r:2,this.loop={start:0,end:t=>s.getFinalAngleFromK(this.getProp("n",t),this.getProp("d",t)),inc:t=>{const e=this.getProp("n",t),r=this.getProp("d",t),i=this.getRepetitionSideLength(t),s=Math.pow(i[0]*i[1],.45),o=r<e?e/r:1.5;return n.PI2/(s*o)},vertex:t=>{const e=Math.cos(this.k*t.current);return[e*Math.cos(t.current),e*Math.sin(t.current)]}},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}generateLoopBuffer(t){return this.k=this.getProp("n",t)/this.getProp("d",t),super.generateLoopBuffer(t)}static getFinalAngleFromK(t,e){if(t==e)return n.PI2;const r=t/e,i=t*e;return Number.isInteger(r)||r%.5!=0?Math.PI*e*(i%2==0?2:1):4*Math.PI}}e.Rose=s},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Spiral=void 0;const n=r(27),i=r(34);class s extends i.ShapeLoop{constructor(t={}){var e,r,i;t.type="Spiral",t.bClosed=!1,t.loopDependencies=(t.loopDependencies||[]).concat(["twists","twistsStart","spiral"]),super(t,!0),this.props.spiral=null!==(e=t.spiral)&&void 0!==e?e:s.types.ARCHIMEDE,this.props.twists=null!==(r=t.twists)&&void 0!==r?r:2,this.props.twistsStart=null!==(i=t.twistsStart)&&void 0!==i?i:0,this.loop={start:t=>n.PI2*this.getProp("twistsStart",t),end:t=>n.PI2*(this.getProp("twistsStart",t)+this.getProp("twists",t)),inc:t=>{const e=this.getProp("twists",t),r=n.PI2*e,i=this.getRepetitionSideLength(t);return r/((4+Math.sqrt(i[0]*i[1]))*e)},vertex:t=>{const e=this.r(t.current);return[e*Math.cos(t.current),e*Math.sin(t.current)]}},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}generateLoopBuffer(t){return this.spiral=this.getProp("spiral",t),this.r=s.getRFromTSpiralType(this.spiral),super.generateLoopBuffer(t)}static getRFromTSpiralType(t){switch(t){case s.types.ARCHIMEDE:return t=>t/10;case s.types.HYPERBOLIC:return t=>1/t*3;case s.types.FERMAT:return t=>t**.5/3;case s.types.LITUUS:return t=>t**-.5;case s.types.LOGARITHMIC:return t=>Math.E**(.2*t)/10}return t=>t}}e.Spiral=s,s.types={ARCHIMEDE:"ARCHIMEDE",HYPERBOLIC:"HYPERBOLIC",FERMAT:"FERMAT",LITUUS:"LITUUS",LOGARITHMIC:"LOGARITHMIC"}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Lissajous=void 0;const n=r(27),i=r(34);class s extends i.ShapeLoop{constructor(t={}){t.type="Lissajous",t.loopDependencies=(t.loopDependencies||[]).concat(["wx","wy","wz"]),super(t,!0),this.props.wx=t.wx||1,this.props.wy=t.wy||2,this.props.wz=t.wz||0,this.loop={start:0,end:n.PI2,inc:t=>{const e=this.getProp("wx",t),r=this.getProp("wy",t),n=e==r?i.ShapeLoop.PId2:.5-.01*Math.min(49,e+r),s=this.getRepetitionSideLength(t);return 1/Math.pow(s[0]*s[1],.25)*n},vertex:t=>this.wx===this.wy?[Math.cos(t.current+this.wz),Math.sin(t.current)]:[Math.cos(this.wx*t.current+this.wz),Math.sin(this.wy*t.current)]},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}generateLoopBuffer(t){return this.wx=this.getProp("wx",t,1),this.wy=this.getProp("wy",t,2),this.wz=this.getProp("wz",t,2),super.generateLoopBuffer(t)}}e.Lissajous=s},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SuperShape=void 0;const n=r(27),i=r(34);class s extends i.ShapeLoop{constructor(t={}){var e,r,i,s,o,a;t.type="SuperShape",t.loopDependencies=(t.loopDependencies||[]).concat(["a","b","m","n1","n2","n3"]),super(t,!0),this.props.a=null!==(e=t.a)&&void 0!==e?e:1,this.props.b=null!==(r=t.b)&&void 0!==r?r:1,this.props.m=null!==(i=t.m)&&void 0!==i?i:6,this.props.n1=null!==(s=t.n1)&&void 0!==s?s:1,this.props.n2=null!==(o=t.n2)&&void 0!==o?o:1,this.props.n3=null!==(a=t.n3)&&void 0!==a?a:1,this.loop={start:0,end:n.PI2,inc:t=>{const e=this.getRepetitionSideLength(t);return Math.PI/Math.pow(e[0]*e[1],.5)},vertex:t=>{const e=t.current,r=this.m*e/4,n=(Math.abs(Math.cos(r)/this.a)**this.n2+Math.abs(Math.sin(r)/this.b)**this.n3)**(1/this.n1),i=0===n?1:1/n;return[i*Math.cos(e),i*Math.sin(e)]}},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}generateLoopBuffer(t){return this.a=this.getProp("a",t),this.b=this.getProp("b",t),this.m=this.getProp("m",t),this.n1=this.getProp("n1",t),this.n2=this.getProp("n2",t),this.n3=this.getProp("n3",t),super.generateLoopBuffer(t)}}e.SuperShape=s},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Modifiers=void 0;const n=r(28),i=r(49),s=r(50),o=r(52),a=r(53),h=r(51),u=r(54),c={Adapt:n.Adapt,Mirror:i.Mirror,Smooth:s.Smooth,Solidify:o.Solidify,Subdivide:a.Subdivide,Close:h.Close,Offset:u.Offset};e.Modifiers=c},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Mirror=void 0;const n=r(29);class i extends n.Modifier{constructor(t={x:!0,y:!0}){super(),this.x=!0===t.x,this.y=!0===t.y}apply(t,e){const r=t.length,n=new Float32Array(r*(this.x?2:1)*(this.y?2:1));if(this.x&&this.y){const e=r+r,i=e+r;for(let s=0;s<r;s+=2)n[s]=t[s]-1,n[s+1]=t[s+1]-1,n[r+s]=-1*t[r-2-s]+1,n[r+s+1]=t[r-2-s+1]-1,n[e+s]=-1*t[s]+1,n[e+s+1]=-1*t[s+1]+1,n[i+s]=t[r-2-s]-1,n[i+s+1]=-1*t[r-2-s+1]+1}else if(this.x)for(let e=0;e<r;e+=2)n[e]=t[e]-1,n[e+1]=t[e+1],n[r+e]=-1*t[r-2-e]+1,n[r+e+1]=t[r-2-e+1];else{if(!this.y)return t;for(let e=0;e<r;e+=2)n[e]=t[e],n[e+1]=t[e+1]-1,n[r+e]=t[r-2-e],n[r+e+1]=-1*t[r-2-e+1]+1}return n}}e.Mirror=i},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Smooth=void 0;const n=r(30),i=r(51),s=r(29);class o extends s.Modifier{constructor(t={}){super(),this.level=t.level||1;const e=Array.isArray(t.tension)?t.tension:[t.tension];this.tension=new Array(this.level).fill(.5).map(((t,r)=>n.clamp(0,1,e[r]||t))),this.level=this.level<1?1:this.level,this.closed=!0===t.closed}apply(t,e){if(e&&!i.Close.isClosed(t)){const e=t.length,r=new Float32Array(e+2);r.set(t,0),r[e]=t[0],r[e+1]=t[1],t=r}let r=t;for(let t=0,n=this.level;t<n;t++)r=o.smooth(r,this.tension[t],e||this.closed);return r}static smooth(t,e=.5,r=!1){const n=t.length,i=new Float32Array(2*(t.length-(r?1:0)));r||(i[0]=t[0],i[1]=t[1]);const s=.05+.4*e,o=1-s;let a=r?0:2;for(let e=0,r=n-2;e<r;e+=2,a+=4)i[a]=o*t[e]+s*t[e+2],i[a+1]=o*t[e+1]+s*t[e+3],i[a+2]=s*t[e]+o*t[e+2],i[a+3]=s*t[e+1]+o*t[e+3];return r?(i[a]=i[0],i[a+1]=i[1]):(i[a]=t[n-2],i[a+1]=t[n-1]),i}}e.Smooth=o},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Close=void 0;const n=r(29);class i extends n.Modifier{constructor(){super()}apply(t,e,r){return i.call(t)}static call(t){const e=t.length;if(i.isClosed(t))return t;const r=new Float32Array(e+2);return r.set(t,0),r[e]=r[0],r[e+1]=r[1],r}static isClosed(t){const e=t.length;return t[0]===t[e-2]&&t[1]===t[e-1]}}e.Close=i},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Solidify=void 0;const n=r(29);class i extends n.Modifier{constructor(t={}){super(),this.closed=!0===t.closed,this.thickness=t.thickness||.2,this.error=t.error}apply(t,e){return i.solidify(t,this.thickness,this.closed,this.error)}static solidify(t,e,r=!1,n){const s=[],o=(e="number"==typeof e?[e]:e).length;let a,h,u=[[0,0],[0,0]],c=[[0,0],[0,0]];for(let r=0,l=0,f=t.length-2;r<f;r+=2,l++){a=0===r,h=r===f-2;const d={index:r+1,offset:r/f,count:f},p={index:r+2,offset:(r+1)/f,count:f},m="function"==typeof e?e(d):e[l%o],g="function"==typeof e?e(p):e[(l+1)%o],y=i.getOffsets(t[r],t[r+1],t[r+2],t[r+3],m),v=i.getOffsets(t[r],t[r+1],t[r+2],t[r+3],g),b=[t[r]+y[0],t[r+1]+y[1]],x=[t[r+2]+v[0],t[r+3]+v[1]],M=[t[r]-y[0],t[r+1]-y[1]],w=[t[r+2]-v[0],t[r+3]-v[1]];if(!a){const t=i.getIntersection(u[0],u[1],b,x,n);t&&(s.unshift(t[1]),s.unshift(t[0]));const e=i.getIntersection(c[0],c[1],M,w,n);e&&(s.push(e[0]),s.push(e[1]))}a&&(s.unshift(b[1]),s.unshift(b[0]),s.push(M[0]),s.push(M[1])),h&&(s.unshift(x[1]),s.unshift(x[0]),s.push(w[0]),s.push(w[1])),h||(u=[b,x],c=[M,w])}if(r){const e=t.length-2,r=s.length-2,n=.5*s[0]+.5*s[e],i=.5*s[1]+.5*s[e+1],o=.5*s[e+2]+.5*s[r],a=.5*s[e+3]+.5*s[r+1];s[0]=n,s[1]=i,s[e]=n,s[e+1]=i,s[e+2]=o,s[e+3]=a,s[r]=o,s[r+1]=a}return Float32Array.from(s)}static getOffsets(t,e,r,n,i){const s=r-t,o=n-e,a=i/(2*Math.sqrt(s*s+o*o));return[-a*o,a*s]}static getIntersection(t,e,r,n,i=1e-5){const s=(e[1]-t[1])/(e[0]-t[0]),o=(n[1]-r[1])/(n[0]-r[0]);if(Math.abs(s-o)<i)return;const a=t[1]-s*t[0],h=(a-(r[1]-o*r[0]))/(o-s);return[h,s*h+a]}}e.Solidify=i},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Subdivide=void 0;const n=r(29);class i extends n.Modifier{constructor(t={}){super(),this.level=t.level||1,this.level=this.level<1?1:this.level}apply(t,e){const r=this.level;let n=t;if(n&&n.length>0)for(let t=0;t<r;t++)n=i.subdivide(n,e);return n}static subdivide(t,e=!1){const r=t.length,n=new Float32Array(2*r-(e?0:2));for(let e=0;e<r;e+=2)if(0===e)n[0]=t[0],n[1]=t[1];else{const r=t[e-2],i=t[e-1],s=t[e],o=t[e+1],a=(s+r)/2,h=(o+i)/2;n[2*(e-1)]=a,n[2*(e-1)+1]=h,n[2*e]=s,n[2*e+1]=o}return e&&(n[2*(r-1)]=(t[0]+t[r-2])/2,n[2*(r-1)+1]=(t[1]+t[r-1])/2),n}}e.Subdivide=i},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Offset=void 0;const n=r(29);class i extends n.Modifier{constructor(t={from:0,to:void 0}){super(),this.from=t.from,this.to=t.to}apply(t,e){return t.subarray(this.from,this.to?this.to<0?t.length+this.to:this.to:void 0)}}e.Offset=i}],e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,r),s.exports}return r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r(0)})()},t.exports=e()},479:(t,e,r)=>{var n;!function(){function i(t,e,r){var n=e.x,i=e.y,s=r.x-n,o=r.y-i;if(0!==s||0!==o){var a=((t.x-n)*s+(t.y-i)*o)/(s*s+o*o);a>1?(n=r.x,i=r.y):a>0&&(n+=s*a,i+=o*a)}return(s=t.x-n)*s+(o=t.y-i)*o}function s(t,e,r,n,o){for(var a,h=n,u=e+1;u<r;u++){var c=i(t[u],t[e],t[r]);c>h&&(a=u,h=c)}h>n&&(a-e>1&&s(t,e,a,n,o),o.push(t[a]),r-a>1&&s(t,a,r,n,o))}function o(t,e){var r=t.length-1,n=[t[0]];return s(t,0,r,e,n),n.push(t[r]),n}function a(t,e,r){if(t.length<=2)return t;var n=void 0!==e?e*e:1;return o(t=r?t:function(t,e){for(var r,n,i,s,o,a=t[0],h=[a],u=1,c=t.length;u<c;u++)i=a,void 0,void 0,(s=(n=r=t[u]).x-i.x)*s+(o=n.y-i.y)*o>e&&(h.push(r),a=r);return a!==r&&h.push(r),h}(t,n),n)}void 0===(n=function(){return a}.call(e,r,e,t))||(t.exports=n)}()},721:(t,e,r)=>{t.exports=r(192)},921:t=>{var e=2*Math.PI;function r(t,e,r,n){var i=t*r+e*n;return i>1&&(i=1),i<-1&&(i=-1),(t*n-e*r<0?-1:1)*Math.acos(i)}function n(t,e){var r=4/3*Math.tan(e/4),n=Math.cos(t),i=Math.sin(t),s=Math.cos(t+e),o=Math.sin(t+e);return[n,i,n-i*r,i+n*r,s+o*r,o-s*r,s,o]}t.exports=function(t,i,s,o,a,h,u,c,l){var f=Math.sin(l*e/360),d=Math.cos(l*e/360),p=d*(t-s)/2+f*(i-o)/2,m=-f*(t-s)/2+d*(i-o)/2;if(0===p&&0===m)return[];if(0===u||0===c)return[];u=Math.abs(u),c=Math.abs(c);var g=p*p/(u*u)+m*m/(c*c);g>1&&(u*=Math.sqrt(g),c*=Math.sqrt(g));var y=function(t,n,i,s,o,a,h,u,c,l){var f=l*(t-i)/2+c*(n-s)/2,d=-c*(t-i)/2+l*(n-s)/2,p=h*h,m=u*u,g=f*f,y=d*d,v=p*m-p*y-m*g;v<0&&(v=0),v/=p*y+m*g;var b=(v=Math.sqrt(v)*(o===a?-1:1))*h/u*d,x=v*-u/h*f,M=l*b-c*x+(t+i)/2,w=c*b+l*x+(n+s)/2,_=(f-b)/h,S=(d-x)/u,A=(-f-b)/h,P=(-d-x)/u,E=r(1,0,_,S),O=r(_,S,A,P);return 0===a&&O>0&&(O-=e),1===a&&O<0&&(O+=e),[M,w,E,O]}(t,i,s,o,a,h,u,c,f,d),v=[],b=y[2],x=y[3],M=Math.max(Math.ceil(Math.abs(x)/(e/4)),1);x/=M;for(var w=0;w<M;w++)v.push(n(b,x)),b+=x;return v.map((function(t){for(var e=0;e<t.length;e+=2){var r=t[e+0],n=t[e+1],i=d*(r*=u)-f*(n*=c),s=f*r+d*n;t[e+0]=i+y[0],t[e+1]=s+y[1]}return t}))}},954:t=>{var e=1e-10,r=Math.PI/180;function n(t,e,r){if(!(this instanceof n))return new n(t,e,r);this.rx=t,this.ry=e,this.ax=r}n.prototype.transform=function(t){var n=Math.cos(this.ax*r),i=Math.sin(this.ax*r),s=[this.rx*(t[0]*n+t[2]*i),this.rx*(t[1]*n+t[3]*i),this.ry*(-t[0]*i+t[2]*n),this.ry*(-t[1]*i+t[3]*n)],o=s[0]*s[0]+s[2]*s[2],a=s[1]*s[1]+s[3]*s[3],h=((s[0]-s[3])*(s[0]-s[3])+(s[2]+s[1])*(s[2]+s[1]))*((s[0]+s[3])*(s[0]+s[3])+(s[2]-s[1])*(s[2]-s[1])),u=(o+a)/2;if(h<e*u)return this.rx=this.ry=Math.sqrt(u),this.ax=0,this;var c=s[0]*s[1]+s[2]*s[3],l=u+(h=Math.sqrt(h))/2,f=u-h/2;return this.ax=Math.abs(c)<e&&Math.abs(l-a)<e?90:180*Math.atan(Math.abs(c)>Math.abs(l-a)?(l-o)/c:c/(l-a))/Math.PI,this.ax>=0?(this.rx=Math.sqrt(l),this.ry=Math.sqrt(f)):(this.ax+=90,this.rx=Math.sqrt(f),this.ry=Math.sqrt(l)),this},n.prototype.isDegenerate=function(){return this.rx<e*this.ry||this.ry<e*this.rx},t.exports=n},480:t=>{function e(){if(!(this instanceof e))return new e;this.queue=[],this.cache=null}e.prototype.matrix=function(t){return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]||(this.cache=null,this.queue.push(t)),this},e.prototype.translate=function(t,e){return 0===t&&0===e||(this.cache=null,this.queue.push([1,0,0,1,t,e])),this},e.prototype.scale=function(t,e){return 1===t&&1===e||(this.cache=null,this.queue.push([t,0,0,e,0,0])),this},e.prototype.rotate=function(t,e,r){var n,i,s;return 0!==t&&(this.translate(e,r),n=t*Math.PI/180,i=Math.cos(n),s=Math.sin(n),this.queue.push([i,s,-s,i,0,0]),this.cache=null,this.translate(-e,-r)),this},e.prototype.skewX=function(t){return 0!==t&&(this.cache=null,this.queue.push([1,0,Math.tan(t*Math.PI/180),1,0,0])),this},e.prototype.skewY=function(t){return 0!==t&&(this.cache=null,this.queue.push([1,Math.tan(t*Math.PI/180),0,1,0,0])),this},e.prototype.toArray=function(){if(this.cache)return this.cache;if(!this.queue.length)return this.cache=[1,0,0,1,0,0],this.cache;if(this.cache=this.queue[0],1===this.queue.length)return this.cache;for(var t=1;t<this.queue.length;t++)this.cache=(e=this.cache,r=this.queue[t],[e[0]*r[0]+e[2]*r[1],e[1]*r[0]+e[3]*r[1],e[0]*r[2]+e[2]*r[3],e[1]*r[2]+e[3]*r[3],e[0]*r[4]+e[2]*r[5]+e[4],e[1]*r[4]+e[3]*r[5]+e[5]]);var e,r;return this.cache},e.prototype.calc=function(t,e,r){var n;return this.queue.length?(this.cache||(this.cache=this.toArray()),[t*(n=this.cache)[0]+e*n[2]+(r?0:n[4]),t*n[1]+e*n[3]+(r?0:n[5])]):[t,e]},t.exports=e},665:t=>{var e={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},r=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function n(t){return t>=48&&t<=57}function i(t){this.index=0,this.path=t,this.max=t.length,this.result=[],this.param=0,this.err="",this.segmentStart=0,this.data=[]}function s(t){for(;t.index<t.max&&(10===(e=t.path.charCodeAt(t.index))||13===e||8232===e||8233===e||32===e||9===e||11===e||12===e||160===e||e>=5760&&r.indexOf(e)>=0);)t.index++;var e}function o(t){var e=t.path.charCodeAt(t.index);return 48===e?(t.param=0,void t.index++):49===e?(t.param=1,void t.index++):void(t.err="SvgPath: arc flag can be 0 or 1 only (at pos "+t.index+")")}function a(t){var e,r=t.index,i=r,s=t.max,o=!1,a=!1,h=!1,u=!1;if(i>=s)t.err="SvgPath: missed param (at pos "+i+")";else if(43!==(e=t.path.charCodeAt(i))&&45!==e||(e=++i<s?t.path.charCodeAt(i):0),n(e)||46===e){if(46!==e){if(o=48===e,e=++i<s?t.path.charCodeAt(i):0,o&&i<s&&e&&n(e))return void(t.err="SvgPath: numbers started with `0` such as `09` are illegal (at pos "+r+")");for(;i<s&&n(t.path.charCodeAt(i));)i++,a=!0;e=i<s?t.path.charCodeAt(i):0}if(46===e){for(u=!0,i++;n(t.path.charCodeAt(i));)i++,h=!0;e=i<s?t.path.charCodeAt(i):0}if(101===e||69===e){if(u&&!a&&!h)return void(t.err="SvgPath: invalid float exponent (at pos "+i+")");if(43!==(e=++i<s?t.path.charCodeAt(i):0)&&45!==e||i++,!(i<s&&n(t.path.charCodeAt(i))))return void(t.err="SvgPath: invalid float exponent (at pos "+i+")");for(;i<s&&n(t.path.charCodeAt(i));)i++}t.index=i,t.param=parseFloat(t.path.slice(r,i))+0}else t.err="SvgPath: param should start with 0..9 or `.` (at pos "+i+")"}function h(t){var r,n;n=(r=t.path[t.segmentStart]).toLowerCase();var i=t.data;if("m"===n&&i.length>2&&(t.result.push([r,i[0],i[1]]),i=i.slice(2),n="l",r="m"===r?"l":"L"),"r"===n)t.result.push([r].concat(i));else for(;i.length>=e[n]&&(t.result.push([r].concat(i.splice(0,e[n]))),e[n]););}function u(t){var r,n,i,u,c,l,f=t.max;if(t.segmentStart=t.index,n=97==(32|(r=t.path.charCodeAt(t.index))),function(t){switch(32|t){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}(r))if(u=e[t.path[t.index].toLowerCase()],t.index++,s(t),t.data=[],u){for(i=!1;;){for(c=u;c>0;c--){if(!n||3!==c&&4!==c?a(t):o(t),t.err.length)return;t.data.push(t.param),s(t),i=!1,t.index<f&&44===t.path.charCodeAt(t.index)&&(t.index++,s(t),i=!0)}if(!i){if(t.index>=t.max)break;if(!((l=t.path.charCodeAt(t.index))>=48&&l<=57||43===l||45===l||46===l))break}}h(t)}else h(t);else t.err="SvgPath: bad command "+t.path[t.index]+" (at pos "+t.index+")"}t.exports=function(t){var e=new i(t),r=e.max;for(s(e);e.index<r&&!e.err.length;)u(e);return e.err.length?e.result=[]:e.result.length&&("mM".indexOf(e.result[0][0])<0?(e.err="SvgPath: string should start with `M` or `m`",e.result=[]):e.result[0][0]="M"),{err:e.err,segments:e.result}}},192:(t,e,r)=>{var n=r(665),i=r(94),s=r(480),o=r(921),a=r(954);function h(t){if(!(this instanceof h))return new h(t);var e=n(t);this.segments=e.segments,this.err=e.err,this.__stack=[]}h.from=function(t){if("string"==typeof t)return new h(t);if(t instanceof h){var e=new h("");return e.err=t.err,e.segments=t.segments.map((function(t){return t.slice()})),e.__stack=t.__stack.map((function(t){return s().matrix(t.toArray())})),e}throw new Error("SvgPath.from: invalid param type "+t)},h.prototype.__matrix=function(t){var e,r=this;t.queue.length&&this.iterate((function(n,i,s,o){var h,u,c,l;switch(n[0]){case"v":u=0===(h=t.calc(0,n[1],!0))[0]?["v",h[1]]:["l",h[0],h[1]];break;case"V":u=(h=t.calc(s,n[1],!1))[0]===t.calc(s,o,!1)[0]?["V",h[1]]:["L",h[0],h[1]];break;case"h":u=0===(h=t.calc(n[1],0,!0))[1]?["h",h[0]]:["l",h[0],h[1]];break;case"H":u=(h=t.calc(n[1],o,!1))[1]===t.calc(s,o,!1)[1]?["H",h[0]]:["L",h[0],h[1]];break;case"a":case"A":var f=t.toArray(),d=a(n[1],n[2],n[3]).transform(f);if(f[0]*f[3]-f[1]*f[2]<0&&(n[5]=n[5]?"0":"1"),h=t.calc(n[6],n[7],"a"===n[0]),"A"===n[0]&&n[6]===s&&n[7]===o||"a"===n[0]&&0===n[6]&&0===n[7]){u=["a"===n[0]?"l":"L",h[0],h[1]];break}u=d.isDegenerate()?["a"===n[0]?"l":"L",h[0],h[1]]:[n[0],d.rx,d.ry,d.ax,n[4],n[5],h[0],h[1]];break;case"m":l=i>0,u=["m",(h=t.calc(n[1],n[2],l))[0],h[1]];break;default:for(u=[c=n[0]],l=c.toLowerCase()===c,e=1;e<n.length;e+=2)h=t.calc(n[e],n[e+1],l),u.push(h[0],h[1])}r.segments[i]=u}),!0)},h.prototype.__evaluateStack=function(){var t,e;if(this.__stack.length){if(1===this.__stack.length)return this.__matrix(this.__stack[0]),void(this.__stack=[]);for(t=s(),e=this.__stack.length;--e>=0;)t.matrix(this.__stack[e].toArray());this.__matrix(t),this.__stack=[]}},h.prototype.toString=function(){var t,e,r=[];this.__evaluateStack();for(var n=0;n<this.segments.length;n++)e=this.segments[n][0],t=n>0&&"m"!==e&&"M"!==e&&e===this.segments[n-1][0],r=r.concat(t?this.segments[n].slice(1):this.segments[n]);return r.join(" ").replace(/ ?([achlmqrstvz]) ?/gi,"$1").replace(/ \-/g,"-").replace(/zm/g,"z m")},h.prototype.translate=function(t,e){return this.__stack.push(s().translate(t,e||0)),this},h.prototype.scale=function(t,e){return this.__stack.push(s().scale(t,e||0===e?e:t)),this},h.prototype.rotate=function(t,e,r){return this.__stack.push(s().rotate(t,e||0,r||0)),this},h.prototype.skewX=function(t){return this.__stack.push(s().skewX(t)),this},h.prototype.skewY=function(t){return this.__stack.push(s().skewY(t)),this},h.prototype.matrix=function(t){return this.__stack.push(s().matrix(t)),this},h.prototype.transform=function(t){return t.trim()?(this.__stack.push(i(t)),this):this},h.prototype.round=function(t){var e,r=0,n=0,i=0,s=0;return t=t||0,this.__evaluateStack(),this.segments.forEach((function(o){var a=o[0].toLowerCase()===o[0];switch(o[0]){case"H":case"h":return a&&(o[1]+=i),i=o[1]-o[1].toFixed(t),void(o[1]=+o[1].toFixed(t));case"V":case"v":return a&&(o[1]+=s),s=o[1]-o[1].toFixed(t),void(o[1]=+o[1].toFixed(t));case"Z":case"z":return i=r,void(s=n);case"M":case"m":return a&&(o[1]+=i,o[2]+=s),i=o[1]-o[1].toFixed(t),s=o[2]-o[2].toFixed(t),r=i,n=s,o[1]=+o[1].toFixed(t),void(o[2]=+o[2].toFixed(t));case"A":case"a":return a&&(o[6]+=i,o[7]+=s),i=o[6]-o[6].toFixed(t),s=o[7]-o[7].toFixed(t),o[1]=+o[1].toFixed(t),o[2]=+o[2].toFixed(t),o[3]=+o[3].toFixed(t+2),o[6]=+o[6].toFixed(t),void(o[7]=+o[7].toFixed(t));default:return e=o.length,a&&(o[e-2]+=i,o[e-1]+=s),i=o[e-2]-o[e-2].toFixed(t),s=o[e-1]-o[e-1].toFixed(t),void o.forEach((function(e,r){r&&(o[r]=+o[r].toFixed(t))}))}})),this},h.prototype.iterate=function(t,e){var r,n,i,s=this.segments,o={},a=!1,h=0,u=0,c=0,l=0;if(e||this.__evaluateStack(),s.forEach((function(e,r){var n=t(e,r,h,u);Array.isArray(n)&&(o[r]=n,a=!0);var i=e[0]===e[0].toLowerCase();switch(e[0]){case"m":case"M":return h=e[1]+(i?h:0),u=e[2]+(i?u:0),c=h,void(l=u);case"h":case"H":return void(h=e[1]+(i?h:0));case"v":case"V":return void(u=e[1]+(i?u:0));case"z":case"Z":return h=c,void(u=l);default:h=e[e.length-2]+(i?h:0),u=e[e.length-1]+(i?u:0)}})),!a)return this;for(i=[],r=0;r<s.length;r++)if(void 0!==o[r])for(n=0;n<o[r].length;n++)i.push(o[r][n]);else i.push(s[r]);return this.segments=i,this},h.prototype.abs=function(){return this.iterate((function(t,e,r,n){var i,s=t[0],o=s.toUpperCase();if(s!==o)switch(t[0]=o,s){case"v":return void(t[1]+=n);case"a":return t[6]+=r,void(t[7]+=n);default:for(i=1;i<t.length;i++)t[i]+=i%2?r:n}}),!0),this},h.prototype.rel=function(){return this.iterate((function(t,e,r,n){var i,s=t[0],o=s.toLowerCase();if(s!==o&&(0!==e||"M"!==s))switch(t[0]=o,s){case"V":return void(t[1]-=n);case"A":return t[6]-=r,void(t[7]-=n);default:for(i=1;i<t.length;i++)t[i]-=i%2?r:n}}),!0),this},h.prototype.unarc=function(){return this.iterate((function(t,e,r,n){var i,s,a,h=[],u=t[0];return"A"!==u&&"a"!==u?null:("a"===u?(s=r+t[6],a=n+t[7]):(s=t[6],a=t[7]),0===(i=o(r,n,s,a,t[4],t[5],t[1],t[2],t[3])).length?[["a"===t[0]?"l":"L",t[6],t[7]]]:(i.forEach((function(t){h.push(["C",t[2],t[3],t[4],t[5],t[6],t[7]])})),h))})),this},h.prototype.unshort=function(){var t,e,r,n,i,s=this.segments;return this.iterate((function(o,a,h,u){var c,l=o[0],f=l.toUpperCase();a&&("T"===f?(c="t"===l,"Q"===(r=s[a-1])[0]?(t=r[1]-h,e=r[2]-u):"q"===r[0]?(t=r[1]-r[3],e=r[2]-r[4]):(t=0,e=0),n=-t,i=-e,c||(n+=h,i+=u),s[a]=[c?"q":"Q",n,i,o[1],o[2]]):"S"===f&&(c="s"===l,"C"===(r=s[a-1])[0]?(t=r[3]-h,e=r[4]-u):"c"===r[0]?(t=r[3]-r[5],e=r[4]-r[6]):(t=0,e=0),n=-t,i=-e,c||(n+=h,i+=u),s[a]=[c?"c":"C",n,i,o[1],o[2],o[3],o[4]]))})),this},t.exports=h},94:(t,e,r)=>{var n=r(480),i={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},s=/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/,o=/[\s,]+/;t.exports=function(t){var e,r,a=new n;return t.split(s).forEach((function(t){if(t.length)if(void 0===i[t])switch(r=t.split(o).map((function(t){return+t||0})),e){case"matrix":return void(6===r.length&&a.matrix(r));case"scale":return void(1===r.length?a.scale(r[0],r[0]):2===r.length&&a.scale(r[0],r[1]));case"rotate":return void(1===r.length?a.rotate(r[0],0,0):3===r.length&&a.rotate(r[0],r[1],r[2]));case"translate":return void(1===r.length?a.translate(r[0],0):2===r.length&&a.translate(r[0],r[1]));case"skewX":return void(1===r.length&&a.skewX(r[0]));case"skewY":return void(1===r.length&&a.skewY(r[0]))}else e=t})),a}}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,r),s.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var n={};(()=>{r.d(n,{P:()=>yr,Z:()=>vr});const t={},e=[];function i(e,r){if(Array.isArray(e))for(const t of e)i(t,r);else if("object"!=typeof e)o(Object.getOwnPropertyNames(r)),t[e]=Object.assign(t[e]||{},r);else for(const t in e)i(t,e[t])}function s(e){return t[e]||{}}function o(t){e.push(...t)}function a(t,e){let r;const n=t.length,i=[];for(r=0;r<n;r++)i.push(e(t[r]));return i}function h(t,e){let r;const n=t.length,i=[];for(r=0;r<n;r++)e(t[r])&&i.push(t[r]);return i}function u(t){return t%360*Math.PI/180}function c(t){return t.toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))}function l(t){return t.charAt(0).toUpperCase()+t.slice(1)}function f(t,e,r,n){return null!=e&&null!=r||(n=n||t.bbox(),null==e?e=n.width/n.height*r:null==r&&(r=n.height/n.width*e)),{width:e,height:r}}function d(t,e){const r=t.origin;let n=null!=t.ox?t.ox:null!=t.originX?t.originX:"center",i=null!=t.oy?t.oy:null!=t.originY?t.originY:"center";null!=r&&([n,i]=Array.isArray(r)?r:"object"==typeof r?[r.x,r.y]:[r,r]);const s="string"==typeof n,o="string"==typeof i;if(s||o){const{height:t,width:r,x:a,y:h}=e.bbox();s&&(n=n.includes("left")?a:n.includes("right")?a+r:a+r/2),o&&(i=i.includes("top")?h:i.includes("bottom")?h+t:h+t/2)}return[n,i]}const p="http://www.w3.org/2000/svg",m="http://www.w3.org/2000/xmlns/",g="http://www.w3.org/1999/xlink",y={window:"undefined"==typeof window?null:window,document:"undefined"==typeof document?null:document};class v{}const b={},x="___SYMBOL___ROOT___";function M(t,e=p){return y.document.createElementNS(e,t)}function w(t,e=!1){if(t instanceof v)return t;if("object"==typeof t)return A(t);if(null==t)return new b[x];if("string"==typeof t&&"<"!==t.charAt(0))return A(y.document.querySelector(t));const r=e?y.document.createElement("div"):M("svg");return r.innerHTML=t,t=A(r.firstChild),r.removeChild(r.firstChild),t}function _(t,e){return e instanceof y.window.Node?e:M(t)}function S(t){if(!t)return null;if(t.instance instanceof v)return t.instance;if("#document-fragment"===t.nodeName)return new b.Fragment(t);let e=l(t.nodeName||"Dom");return"LinearGradient"===e||"RadialGradient"===e?e="Gradient":b[e]||(e="Dom"),new b[e](t)}let A=S;function P(t,e=t.name,r=!1){return b[e]=t,r&&(b[x]=t),o(Object.getOwnPropertyNames(t.prototype)),t}let E=1e3;function O(t){return"Svgjs"+l(t)+E++}function I(t){for(let e=t.children.length-1;e>=0;e--)I(t.children[e]);return t.id?(t.id=O(t.nodeName),t):t}function R(t,e){let r,n;for(n=(t=Array.isArray(t)?t:[t]).length-1;n>=0;n--)for(r in e)t[n].prototype[r]=e[r]}function C(t){return function(...e){const r=e[e.length-1];return!r||r.constructor!==Object||r instanceof Array?t.apply(this,e):t.apply(this,e.slice(0,-1)).attr(r)}}i("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const t=this.position();return this.parent().add(this.remove(),t+1),this},backward:function(){const t=this.position();return this.parent().add(this.remove(),t?t-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(t){(t=w(t)).remove();const e=this.position();return this.parent().add(t,e),this},after:function(t){(t=w(t)).remove();const e=this.position();return this.parent().add(t,e+1),this},insertBefore:function(t){return(t=w(t)).before(this),this},insertAfter:function(t){return(t=w(t)).after(this),this}});const L=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,T=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,k=/rgb\((\d+),(\d+),(\d+)\)/,B=/(#[a-z_][a-z0-9\-_]*)/i,N=/\)\s*,?\s*/,F=/\s/g,j=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,q=/^rgb\(/,Y=/^(\s+)?$/,D=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,z=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,V=/[\s,]+/,$=/[MLHVCSQTAZ]/i;function X(t){const e=Math.round(t),r=Math.max(0,Math.min(255,e)).toString(16);return 1===r.length?"0"+r:r}function G(t,e){for(let r=e.length;r--;)if(null==t[e[r]])return!1;return!0}function U(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}i("Dom",{classes:function(){const t=this.attr("class");return null==t?[]:t.trim().split(V)},hasClass:function(t){return-1!==this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){const e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter((function(e){return e!==t})).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)}}),i("Dom",{css:function(t,e){const r={};if(0===arguments.length)return this.node.style.cssText.split(/\s*;\s*/).filter((function(t){return!!t.length})).forEach((function(t){const e=t.split(/\s*:\s*/);r[e[0]]=e[1]})),r;if(arguments.length<2){if(Array.isArray(t)){for(const e of t){const t=c(e);r[t]=this.node.style[t]}return r}if("string"==typeof t)return this.node.style[c(t)];if("object"==typeof t)for(const e in t)this.node.style[c(e)]=null==t[e]||Y.test(t[e])?"":t[e]}return 2===arguments.length&&(this.node.style[c(t)]=null==e||Y.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return"none"!==this.css("display")}}),i("Dom",{data:function(t,e,r){if(null==t)return this.data(a(h(this.node.attributes,(t=>0===t.nodeName.indexOf("data-"))),(t=>t.nodeName.slice(5))));if(t instanceof Array){const e={};for(const r of t)e[r]=this.data(r);return e}if("object"==typeof t)for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch(e){return this.attr("data-"+t)}else this.attr("data-"+t,null===e?null:!0===r||"string"==typeof e||"number"==typeof e?e:JSON.stringify(e));return this}}),i("Dom",{remember:function(t,e){if("object"==typeof arguments[0])for(const e in t)this.remember(e,t[e]);else{if(1===arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0===arguments.length)this._memory={};else for(let t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory=this._memory||{}}});class H{constructor(...t){this.init(...t)}static isColor(t){return t&&(t instanceof H||this.isRgb(t)||this.test(t))}static isRgb(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b}static random(t="vibrant",e,r){const{random:n,round:i,sin:s,PI:o}=Math;if("vibrant"===t){const t=24*n()+57,e=38*n()+45,r=360*n();return new H(t,e,r,"lch")}if("sine"===t){const t=i(80*s(2*o*(e=null==e?n():e)/.5+.01)+150),r=i(50*s(2*o*e/.5+4.6)+200),a=i(100*s(2*o*e/.5+2.3)+150);return new H(t,r,a)}if("pastel"===t){const t=8*n()+86,e=17*n()+9,r=360*n();return new H(t,e,r,"lch")}if("dark"===t){const t=10+10*n(),e=50*n()+86,r=360*n();return new H(t,e,r,"lch")}if("rgb"===t){const t=255*n(),e=255*n(),r=255*n();return new H(t,e,r)}if("lab"===t){const t=100*n(),e=256*n()-128,r=256*n()-128;return new H(t,e,r,"lab")}if("grey"===t){const t=255*n();return new H(t,t,t)}throw new Error("Unsupported random color mode")}static test(t){return"string"==typeof t&&(j.test(t)||q.test(t))}cmyk(){const{_a:t,_b:e,_c:r}=this.rgb(),[n,i,s]=[t,e,r].map((t=>t/255)),o=Math.min(1-n,1-i,1-s);return 1===o?new H(0,0,0,1,"cmyk"):new H((1-n-o)/(1-o),(1-i-o)/(1-o),(1-s-o)/(1-o),o,"cmyk")}hsl(){const{_a:t,_b:e,_c:r}=this.rgb(),[n,i,s]=[t,e,r].map((t=>t/255)),o=Math.max(n,i,s),a=Math.min(n,i,s),h=(o+a)/2,u=o===a,c=o-a;return new H(360*(u?0:o===n?((i-s)/c+(i<s?6:0))/6:o===i?((s-n)/c+2)/6:o===s?((n-i)/c+4)/6:0),100*(u?0:h>.5?c/(2-o-a):c/(o+a)),100*h,"hsl")}init(t=0,e=0,r=0,n=0,i="rgb"){if(t=t||0,this.space)for(const t in this.space)delete this[this.space[t]];if("number"==typeof t)i="string"==typeof n?n:i,n="string"==typeof n?0:n,Object.assign(this,{_a:t,_b:e,_c:r,_d:n,space:i});else if(t instanceof Array)this.space=e||("string"==typeof t[3]?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object){const r=function(t,e){const r=G(t,"rgb")?{_a:t.r,_b:t.g,_c:t.b,_d:0,space:"rgb"}:G(t,"xyz")?{_a:t.x,_b:t.y,_c:t.z,_d:0,space:"xyz"}:G(t,"hsl")?{_a:t.h,_b:t.s,_c:t.l,_d:0,space:"hsl"}:G(t,"lab")?{_a:t.l,_b:t.a,_c:t.b,_d:0,space:"lab"}:G(t,"lch")?{_a:t.l,_b:t.c,_c:t.h,_d:0,space:"lch"}:G(t,"cmyk")?{_a:t.c,_b:t.m,_c:t.y,_d:t.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return r.space=e||r.space,r}(t,e);Object.assign(this,r)}else if("string"==typeof t)if(q.test(t)){const e=t.replace(F,""),[r,n,i]=k.exec(e).slice(1,4).map((t=>parseInt(t)));Object.assign(this,{_a:r,_b:n,_c:i,_d:0,space:"rgb"})}else{if(!j.test(t))throw Error("Unsupported string format, can't construct Color");{const e=t=>parseInt(t,16),[,r,n,i]=T.exec(function(t){return 4===t.length?["#",t.substring(1,2),t.substring(1,2),t.substring(2,3),t.substring(2,3),t.substring(3,4),t.substring(3,4)].join(""):t}(t)).map(e);Object.assign(this,{_a:r,_b:n,_c:i,_d:0,space:"rgb"})}}const{_a:s,_b:o,_c:a,_d:h}=this,u="rgb"===this.space?{r:s,g:o,b:a}:"xyz"===this.space?{x:s,y:o,z:a}:"hsl"===this.space?{h:s,s:o,l:a}:"lab"===this.space?{l:s,a:o,b:a}:"lch"===this.space?{l:s,c:o,h:a}:"cmyk"===this.space?{c:s,m:o,y:a,k:h}:{};Object.assign(this,u)}lab(){const{x:t,y:e,z:r}=this.xyz();return new H(116*e-16,500*(t-e),200*(e-r),"lab")}lch(){const{l:t,a:e,b:r}=this.lab(),n=Math.sqrt(e**2+r**2);let i=180*Math.atan2(r,e)/Math.PI;return i<0&&(i*=-1,i=360-i),new H(t,n,i,"lch")}rgb(){if("rgb"===this.space)return this;if("lab"===(t=this.space)||"xyz"===t||"lch"===t){let{x:t,y:e,z:r}=this;if("lab"===this.space||"lch"===this.space){let{l:n,a:i,b:s}=this;if("lch"===this.space){const{c:t,h:e}=this,r=Math.PI/180;i=t*Math.cos(r*e),s=t*Math.sin(r*e)}const o=(n+16)/116,a=i/500+o,h=o-s/200,u=16/116,c=.008856,l=7.787;t=.95047*(a**3>c?a**3:(a-u)/l),e=1*(o**3>c?o**3:(o-u)/l),r=1.08883*(h**3>c?h**3:(h-u)/l)}const n=3.2406*t+-1.5372*e+-.4986*r,i=-.9689*t+1.8758*e+.0415*r,s=.0557*t+-.204*e+1.057*r,o=Math.pow,a=.0031308,h=n>a?1.055*o(n,1/2.4)-.055:12.92*n,u=i>a?1.055*o(i,1/2.4)-.055:12.92*i,c=s>a?1.055*o(s,1/2.4)-.055:12.92*s;return new H(255*h,255*u,255*c)}if("hsl"===this.space){let{h:t,s:e,l:r}=this;if(t/=360,e/=100,r/=100,0===e)return r*=255,new H(r,r,r);const n=r<.5?r*(1+e):r+e-r*e,i=2*r-n,s=255*U(i,n,t+1/3),o=255*U(i,n,t),a=255*U(i,n,t-1/3);return new H(s,o,a)}if("cmyk"===this.space){const{c:t,m:e,y:r,k:n}=this,i=255*(1-Math.min(1,t*(1-n)+n)),s=255*(1-Math.min(1,e*(1-n)+n)),o=255*(1-Math.min(1,r*(1-n)+n));return new H(i,s,o)}return this;var t}toArray(){const{_a:t,_b:e,_c:r,_d:n,space:i}=this;return[t,e,r,n,i]}toHex(){const[t,e,r]=this._clamped().map(X);return`#${t}${e}${r}`}toRgb(){const[t,e,r]=this._clamped();return`rgb(${t},${e},${r})`}toString(){return this.toHex()}xyz(){const{_a:t,_b:e,_c:r}=this.rgb(),[n,i,s]=[t,e,r].map((t=>t/255)),o=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,a=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,h=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,u=(.4124*o+.3576*a+.1805*h)/.95047,c=(.2126*o+.7152*a+.0722*h)/1,l=(.0193*o+.1192*a+.9505*h)/1.08883,f=u>.008856?Math.pow(u,1/3):7.787*u+16/116,d=c>.008856?Math.pow(c,1/3):7.787*c+16/116,p=l>.008856?Math.pow(l,1/3):7.787*l+16/116;return new H(f,d,p,"xyz")}_clamped(){const{_a:t,_b:e,_c:r}=this.rgb(),{max:n,min:i,round:s}=Math;return[t,e,r].map((t=>n(0,i(s(t),255))))}}class Z{constructor(...t){this.init(...t)}clone(){return new Z(this)}init(t,e){const r=Array.isArray(t)?{x:t[0],y:t[1]}:"object"==typeof t?{x:t.x,y:t.y}:{x:t,y:e};return this.x=null==r.x?0:r.x,this.y=null==r.y?0:r.y,this}toArray(){return[this.x,this.y]}transform(t){return this.clone().transformO(t)}transformO(t){W.isMatrixLike(t)||(t=new W(t));const{x:e,y:r}=this;return this.x=t.a*e+t.c*r+t.e,this.y=t.b*e+t.d*r+t.f,this}}function Q(t,e,r){return Math.abs(e-t)<(r||1e-6)}class W{constructor(...t){this.init(...t)}static formatTransforms(t){const e="both"===t.flip||!0===t.flip,r=t.flip&&(e||"x"===t.flip)?-1:1,n=t.flip&&(e||"y"===t.flip)?-1:1,i=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,s=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,o=t.scale&&t.scale.length?t.scale[0]*r:isFinite(t.scale)?t.scale*r:isFinite(t.scaleX)?t.scaleX*r:r,a=t.scale&&t.scale.length?t.scale[1]*n:isFinite(t.scale)?t.scale*n:isFinite(t.scaleY)?t.scaleY*n:n,h=t.shear||0,u=t.rotate||t.theta||0,c=new Z(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),l=c.x,f=c.y,d=new Z(t.position||t.px||t.positionX||NaN,t.py||t.positionY||NaN),p=d.x,m=d.y,g=new Z(t.translate||t.tx||t.translateX,t.ty||t.translateY),y=g.x,v=g.y,b=new Z(t.relative||t.rx||t.relativeX,t.ry||t.relativeY);return{scaleX:o,scaleY:a,skewX:i,skewY:s,shear:h,theta:u,rx:b.x,ry:b.y,tx:y,ty:v,ox:l,oy:f,px:p,py:m}}static fromArray(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}static isMatrixLike(t){return null!=t.a||null!=t.b||null!=t.c||null!=t.d||null!=t.e||null!=t.f}static matrixMultiply(t,e,r){const n=t.a*e.a+t.c*e.b,i=t.b*e.a+t.d*e.b,s=t.a*e.c+t.c*e.d,o=t.b*e.c+t.d*e.d,a=t.e+t.a*e.e+t.c*e.f,h=t.f+t.b*e.e+t.d*e.f;return r.a=n,r.b=i,r.c=s,r.d=o,r.e=a,r.f=h,r}around(t,e,r){return this.clone().aroundO(t,e,r)}aroundO(t,e,r){const n=t||0,i=e||0;return this.translateO(-n,-i).lmultiplyO(r).translateO(n,i)}clone(){return new W(this)}decompose(t=0,e=0){const r=this.a,n=this.b,i=this.c,s=this.d,o=this.e,a=this.f,h=r*s-n*i,u=h>0?1:-1,c=u*Math.sqrt(r*r+n*n),l=Math.atan2(u*n,u*r),f=180/Math.PI*l,d=Math.cos(l),p=Math.sin(l),m=(r*i+n*s)/h,g=i*c/(m*r-n)||s*c/(m*n+r);return{scaleX:c,scaleY:g,shear:m,rotate:f,translateX:o-t+t*d*c+e*(m*d*c-p*g),translateY:a-e+t*p*c+e*(m*p*c+d*g),originX:t,originY:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(t){if(t===this)return!0;const e=new W(t);return Q(this.a,e.a)&&Q(this.b,e.b)&&Q(this.c,e.c)&&Q(this.d,e.d)&&Q(this.e,e.e)&&Q(this.f,e.f)}flip(t,e){return this.clone().flipO(t,e)}flipO(t,e){return"x"===t?this.scaleO(-1,1,e,0):"y"===t?this.scaleO(1,-1,0,e):this.scaleO(-1,-1,t,e||t)}init(t){const e=W.fromArray([1,0,0,1,0,0]);return t=t instanceof Mt?t.matrixify():"string"==typeof t?W.fromArray(t.split(V).map(parseFloat)):Array.isArray(t)?W.fromArray(t):"object"==typeof t&&W.isMatrixLike(t)?t:"object"==typeof t?(new W).transform(t):6===arguments.length?W.fromArray([].slice.call(arguments)):e,this.a=null!=t.a?t.a:e.a,this.b=null!=t.b?t.b:e.b,this.c=null!=t.c?t.c:e.c,this.d=null!=t.d?t.d:e.d,this.e=null!=t.e?t.e:e.e,this.f=null!=t.f?t.f:e.f,this}inverse(){return this.clone().inverseO()}inverseO(){const t=this.a,e=this.b,r=this.c,n=this.d,i=this.e,s=this.f,o=t*n-e*r;if(!o)throw new Error("Cannot invert "+this);const a=n/o,h=-e/o,u=-r/o,c=t/o,l=-(a*i+u*s),f=-(h*i+c*s);return this.a=a,this.b=h,this.c=u,this.d=c,this.e=l,this.f=f,this}lmultiply(t){return this.clone().lmultiplyO(t)}lmultiplyO(t){const e=t instanceof W?t:new W(t);return W.matrixMultiply(e,this,this)}multiply(t){return this.clone().multiplyO(t)}multiplyO(t){const e=t instanceof W?t:new W(t);return W.matrixMultiply(this,e,this)}rotate(t,e,r){return this.clone().rotateO(t,e,r)}rotateO(t,e=0,r=0){t=u(t);const n=Math.cos(t),i=Math.sin(t),{a:s,b:o,c:a,d:h,e:c,f:l}=this;return this.a=s*n-o*i,this.b=o*n+s*i,this.c=a*n-h*i,this.d=h*n+a*i,this.e=c*n-l*i+r*i-e*n+e,this.f=l*n+c*i-e*i-r*n+r,this}scale(t,e,r,n){return this.clone().scaleO(...arguments)}scaleO(t,e=t,r=0,n=0){3===arguments.length&&(n=r,r=e,e=t);const{a:i,b:s,c:o,d:a,e:h,f:u}=this;return this.a=i*t,this.b=s*e,this.c=o*t,this.d=a*e,this.e=h*t-r*t+r,this.f=u*e-n*e+n,this}shear(t,e,r){return this.clone().shearO(t,e,r)}shearO(t,e=0,r=0){const{a:n,b:i,c:s,d:o,e:a,f:h}=this;return this.a=n+i*t,this.c=s+o*t,this.e=a+h*t-r*t,this}skew(t,e,r,n){return this.clone().skewO(...arguments)}skewO(t,e=t,r=0,n=0){3===arguments.length&&(n=r,r=e,e=t),t=u(t),e=u(e);const i=Math.tan(t),s=Math.tan(e),{a:o,b:a,c:h,d:c,e:l,f}=this;return this.a=o+a*i,this.b=a+o*s,this.c=h+c*i,this.d=c+h*s,this.e=l+f*i-n*i,this.f=f+l*s-r*s,this}skewX(t,e,r){return this.skew(t,0,e,r)}skewY(t,e,r){return this.skew(0,t,e,r)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(t){if(W.isMatrixLike(t))return new W(t).multiplyO(this);const e=W.formatTransforms(t),{x:r,y:n}=new Z(e.ox,e.oy).transform(this),i=(new W).translateO(e.rx,e.ry).lmultiplyO(this).translateO(-r,-n).scaleO(e.scaleX,e.scaleY).skewO(e.skewX,e.skewY).shearO(e.shear).rotateO(e.theta).translateO(r,n);if(isFinite(e.px)||isFinite(e.py)){const t=new Z(r,n).transform(i),s=isFinite(e.px)?e.px-t.x:0,o=isFinite(e.py)?e.py-t.y:0;i.translateO(s,o)}return i.translateO(e.tx,e.ty),i}translate(t,e){return this.clone().translateO(t,e)}translateO(t,e){return this.e+=t||0,this.f+=e||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function J(){if(!J.nodes){const t=w().size(2,0);t.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),t.attr("focusable","false"),t.attr("aria-hidden","true");const e=t.path().node;J.nodes={svg:t,path:e}}if(!J.nodes.svg.node.parentNode){const t=y.document.body||y.document.documentElement;J.nodes.svg.addTo(t)}return J.nodes}function K(t){return!(t.width||t.height||t.x||t.y)}P(W,"Matrix");class tt{constructor(...t){this.init(...t)}addOffset(){return this.x+=y.window.pageXOffset,this.y+=y.window.pageYOffset,new tt(this)}init(t){return t="string"==typeof t?t.split(V).map(parseFloat):Array.isArray(t)?t:"object"==typeof t?[null!=t.left?t.left:t.x,null!=t.top?t.top:t.y,t.width,t.height]:4===arguments.length?[].slice.call(arguments):[0,0,0,0],this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return K(this)}merge(t){const e=Math.min(this.x,t.x),r=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x+t.width)-e,i=Math.max(this.y+this.height,t.y+t.height)-r;return new tt(e,r,n,i)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(t){t instanceof W||(t=new W(t));let e=1/0,r=-1/0,n=1/0,i=-1/0;return[new Z(this.x,this.y),new Z(this.x2,this.y),new Z(this.x,this.y2),new Z(this.x2,this.y2)].forEach((function(s){s=s.transform(t),e=Math.min(e,s.x),r=Math.max(r,s.x),n=Math.min(n,s.y),i=Math.max(i,s.y)})),new tt(e,n,r-e,i-n)}}function et(t,e,r){let n;try{if(n=e(t.node),K(n)&&(i=t.node)!==y.document&&!(y.document.documentElement.contains||function(t){for(;t.parentNode;)t=t.parentNode;return t===y.document}).call(y.document.documentElement,i))throw new Error("Element not in the dom")}catch(e){n=r(t)}var i;return n}i({viewbox:{viewbox(t,e,r,n){return null==t?new tt(this.attr("viewBox")):this.attr("viewBox",new tt(t,e,r,n))},zoom(t,e){let{width:r,height:n}=this.attr(["width","height"]);if((r||n)&&"string"!=typeof r&&"string"!=typeof n||(r=this.node.clientWidth,n=this.node.clientHeight),!r||!n)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const i=this.viewbox(),s=r/i.width,o=n/i.height,a=Math.min(s,o);if(null==t)return a;let h=a/t;h===1/0&&(h=Number.MAX_SAFE_INTEGER/100),e=e||new Z(r/2/s+i.x,n/2/o+i.y);const u=new tt(i).transform(new W({scale:h,origin:e}));return this.viewbox(u)}}}),P(tt,"Box");class rt extends Array{constructor(t=[],...e){if(super(t,...e),"number"==typeof t)return this;this.length=0,this.push(...t)}}R([rt],{each(t,...e){return"function"==typeof t?this.map(((e,r,n)=>t.call(e,e,r,n))):this.map((r=>r[t](...e)))},toArray(){return Array.prototype.concat.apply([],this)}});const nt=["toArray","constructor","each"];function it(t,e){return new rt(a((e||y.document).querySelectorAll(t),(function(t){return S(t)})))}rt.extend=function(t){t=t.reduce(((t,e)=>(nt.includes(e)||"_"===e[0]||(t[e]=function(...t){return this.each(e,...t)}),t)),{}),R([rt],t)};let st=0;const ot={};function at(t){let e=t.getEventHolder();return e===y.window&&(e=ot),e.events||(e.events={}),e.events}function ht(t){return t.getEventTarget()}function ut(t,e,r,n,i){const s=r.bind(n||t),o=w(t),a=at(o),h=ht(o);e=Array.isArray(e)?e:e.split(V),r._svgjsListenerId||(r._svgjsListenerId=++st),e.forEach((function(t){const e=t.split(".")[0],n=t.split(".")[1]||"*";a[e]=a[e]||{},a[e][n]=a[e][n]||{},a[e][n][r._svgjsListenerId]=s,h.addEventListener(e,s,i||!1)}))}function ct(t,e,r,n){const i=w(t),s=at(i),o=ht(i);("function"!=typeof r||(r=r._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(V)).forEach((function(t){const e=t&&t.split(".")[0],a=t&&t.split(".")[1];let h,u;if(r)s[e]&&s[e][a||"*"]&&(o.removeEventListener(e,s[e][a||"*"][r],n||!1),delete s[e][a||"*"][r]);else if(e&&a){if(s[e]&&s[e][a]){for(u in s[e][a])ct(o,[e,a].join("."),u);delete s[e][a]}}else if(a)for(t in s)for(h in s[t])a===h&&ct(o,[t,a].join("."));else if(e){if(s[e]){for(h in s[e])ct(o,[e,h].join("."));delete s[e]}}else{for(t in s)ct(o,t);!function(t){let e=t.getEventHolder();e===y.window&&(e=ot),e.events&&(e.events={})}(i)}}))}class lt extends v{addEventListener(){}dispatch(t,e,r){return function(t,e,r,n){const i=ht(t);return e instanceof y.window.Event||(e=new y.window.CustomEvent(e,{detail:r,cancelable:!0,...n})),i.dispatchEvent(e),e}(this,t,e,r)}dispatchEvent(t){const e=this.getEventHolder().events;if(!e)return!0;const r=e[t.type];for(const e in r)for(const n in r[e])r[e][n](t);return!t.defaultPrevented}fire(t,e,r){return this.dispatch(t,e,r),this}getEventHolder(){return this}getEventTarget(){return this}off(t,e){return ct(this,t,e),this}on(t,e,r,n){return ut(this,t,e,r,n),this}removeEventListener(){}}function ft(){}P(lt,"EventTarget");const dt=400,pt=">",mt=0,gt={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class yt extends Array{constructor(...t){super(...t),this.init(...t)}clone(){return new this.constructor(this)}init(t){return"number"==typeof t||(this.length=0,this.push(...this.parse(t))),this}parse(t=[]){return t instanceof Array?t:t.trim().split(V).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const t=[];return t.push(...this),t}}class vt{constructor(...t){this.init(...t)}convert(t){return new vt(this.value,t)}divide(t){return t=new vt(t),new vt(this/t,this.unit||t.unit)}init(t,e){return e=Array.isArray(t)?t[1]:e,t=Array.isArray(t)?t[0]:t,this.value=0,this.unit=e||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:"string"==typeof t?(e=t.match(L))&&(this.value=parseFloat(e[1]),"%"===e[5]?this.value/=100:"s"===e[5]&&(this.value*=1e3),this.unit=e[5]):t instanceof vt&&(this.value=t.valueOf(),this.unit=t.unit),this}minus(t){return t=new vt(t),new vt(this-t,this.unit||t.unit)}plus(t){return t=new vt(t),new vt(this+t,this.unit||t.unit)}times(t){return t=new vt(t),new vt(this*t,this.unit||t.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return("%"===this.unit?~~(1e8*this.value)/1e6:"s"===this.unit?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const bt=[];class xt extends lt{constructor(t,e){super(),this.node=t,this.type=t.nodeName,e&&t!==e&&this.attr(e)}add(t,e){return(t=w(t)).removeNamespace&&this.node instanceof y.window.SVGElement&&t.removeNamespace(),null==e?this.node.appendChild(t.node):t.node!==this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this}addTo(t,e){return w(t).put(this,e)}children(){return new rt(a(this.node.children,(function(t){return S(t)})))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(t=!0){return this.writeDataToDom(),new this.constructor(I(this.node.cloneNode(t)))}each(t,e){const r=this.children();let n,i;for(n=0,i=r.length;n<i;n++)t.apply(r[n],[n,r]),e&&r[n].each(t,e);return this}element(t,e){return this.put(new xt(M(t),e))}first(){return S(this.node.firstChild)}get(t){return S(this.node.childNodes[t])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(t){return this.index(t)>=0}html(t,e){return this.xml(t,e,"http://www.w3.org/1999/xhtml")}id(t){return void 0!==t||this.node.id||(this.node.id=O(this.type)),this.attr("id",t)}index(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}last(){return S(this.node.lastChild)}matches(t){const e=this.node,r=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector||null;return r&&r.call(e,t)}parent(t){let e=this;if(!e.node.parentNode)return null;if(e=S(e.node.parentNode),!t)return e;do{if("string"==typeof t?e.matches(t):e instanceof t)return e}while(e=S(e.node.parentNode));return e}put(t,e){return t=w(t),this.add(t,e),t}putIn(t,e){return w(t).add(this,e)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(t){return this.node.removeChild(t.node),this}replace(t){return t=w(t),this.node.parentNode&&this.node.parentNode.replaceChild(t.node,this.node),t}round(t=2,e=null){const r=10**t,n=this.attr(e);for(const t in n)"number"==typeof n[t]&&(n[t]=Math.round(n[t]*r)/r);return this.attr(n),this}svg(t,e){return this.xml(t,e,p)}toString(){return this.id()}words(t){return this.node.textContent=t,this}wrap(t){const e=this.parent();if(!e)return this.addTo(t);const r=e.index(this);return e.put(t,r).put(this)}writeDataToDom(){return this.each((function(){this.writeDataToDom()})),this}xml(t,e,r){if("boolean"==typeof t&&(r=e,e=t,t=null),null==t||"function"==typeof t){e=null==e||e,this.writeDataToDom();let r=this;if(null!=t){if(r=S(r.node.cloneNode(!0)),e){const e=t(r);if(r=e||r,!1===e)return""}r.each((function(){const e=t(this),r=e||this;!1===e?this.remove():e&&this!==r&&this.replace(r)}),!0)}return e?r.node.outerHTML:r.node.innerHTML}e=null!=e&&e;const n=M("wrapper",r),i=y.document.createDocumentFragment();n.innerHTML=t;for(let t=n.children.length;t--;)i.appendChild(n.firstElementChild);const s=this.parent();return e?this.replace(i)&&s:this.add(i)}}R(xt,{attr:function(t,e,r){if(null==t){t={},e=this.node.attributes;for(const r of e)t[r.nodeName]=D.test(r.nodeValue)?parseFloat(r.nodeValue):r.nodeValue;return t}if(t instanceof Array)return t.reduce(((t,e)=>(t[e]=this.attr(e),t)),{});if("object"==typeof t&&t.constructor===Object)for(e in t)this.attr(e,t[e]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return null==(e=this.node.getAttribute(t))?gt[t]:D.test(e)?parseFloat(e):e;"number"==typeof(e=bt.reduce(((e,r)=>r(t,e,this)),e))?e=new vt(e):H.isColor(e)?e=new H(e):e.constructor===Array&&(e=new yt(e)),"leading"===t?this.leading&&this.leading(e):"string"==typeof r?this.node.setAttributeNS(r,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!==t&&"x"!==t||this.rebuild()}return this},find:function(t){return it(t,this.node)},findOne:function(t){return S(this.node.querySelector(t))}}),P(xt,"Dom");class Mt extends xt{constructor(t,e){super(t,e),this.dom={},this.node.instance=this,t.hasAttribute("svgjs:data")&&this.setData(JSON.parse(t.getAttribute("svgjs:data"))||{})}center(t,e){return this.cx(t).cy(e)}cx(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)}cy(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)}defs(){const t=this.root();return t&&t.defs()}dmove(t,e){return this.dx(t).dy(e)}dx(t=0){return this.x(new vt(t).plus(this.x()))}dy(t=0){return this.y(new vt(t).plus(this.y()))}getEventHolder(){return this}height(t){return this.attr("height",t)}move(t,e){return this.x(t).y(e)}parents(t=this.root()){t=w(t);const e=new rt;let r=this;for(;(r=r.parent())&&r.node!==y.document&&"#document-fragment"!==r.nodeName&&(e.push(r),r.node!==t.node););return e}reference(t){if(!(t=this.attr(t)))return null;const e=(t+"").match(B);return e?w(e[1]):null}root(){const t=this.parent(b[x]);return t&&t.root()}setData(t){return this.dom=t,this}size(t,e){const r=f(this,t,e);return this.width(new vt(r.width)).height(new vt(r.height))}width(t){return this.attr("width",t)}writeDataToDom(){return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),super.writeDataToDom()}x(t){return this.attr("x",t)}y(t){return this.attr("y",t)}}R(Mt,{bbox:function(){const t=et(this,(t=>t.getBBox()),(t=>{try{const e=t.clone().addTo(J().svg).show(),r=e.node.getBBox();return e.remove(),r}catch(e){throw new Error(`Getting bbox of element "${t.node.nodeName}" is not possible: ${e.toString()}`)}}));return new tt(t)},rbox:function(t){const e=et(this,(t=>t.getBoundingClientRect()),(t=>{throw new Error(`Getting rbox of element "${t.node.nodeName}" is not possible`)})),r=new tt(e);return t?r.transform(t.screenCTM().inverseO()):r.addOffset()},inside:function(t,e){const r=this.bbox();return t>r.x&&e>r.y&&t<r.x+r.width&&e<r.y+r.height},point:function(t,e){return new Z(t,e).transform(this.screenCTM().inverse())},ctm:function(){return new W(this.node.getCTM())},screenCTM:function(){if("function"==typeof this.isRoot&&!this.isRoot()){const t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new W(e)}return new W(this.node.getScreenCTM())}}),P(Mt,"Element");const wt={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"===e?t:t+"-"+e}};["fill","stroke"].forEach((function(t){const e={};let r;e[t]=function(e){if(void 0===e)return this.attr(t);if("string"==typeof e||e instanceof H||H.isRgb(e)||e instanceof Mt)this.attr(t,e);else for(r=wt[t].length-1;r>=0;r--)null!=e[wt[t][r]]&&this.attr(wt.prefix(t,wt[t][r]),e[wt[t][r]]);return this},i(["Element","Runner"],e)})),i(["Element","Runner"],{matrix:function(t,e,r,n,i,s){return null==t?new W(this):this.attr("transform",new W(t,e,r,n,i,s))},rotate:function(t,e,r){return this.transform({rotate:t,ox:e,oy:r},!0)},skew:function(t,e,r,n){return 1===arguments.length||3===arguments.length?this.transform({skew:t,ox:e,oy:r},!0):this.transform({skew:[t,e],ox:r,oy:n},!0)},shear:function(t,e,r){return this.transform({shear:t,ox:e,oy:r},!0)},scale:function(t,e,r,n){return 1===arguments.length||3===arguments.length?this.transform({scale:t,ox:e,oy:r},!0):this.transform({scale:[t,e],ox:r,oy:n},!0)},translate:function(t,e){return this.transform({translate:[t,e]},!0)},relative:function(t,e){return this.transform({relative:[t,e]},!0)},flip:function(t="both",e="center"){return-1==="xybothtrue".indexOf(t)&&(e=t,t="both"),this.transform({flip:t,origin:e},!0)},opacity:function(t){return this.attr("opacity",t)}}),i("radius",{radius:function(t,e=t){return"radialGradient"===(this._element||this).type?this.attr("r",new vt(t)):this.rx(t).ry(e)}}),i("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(t){return new Z(this.node.getPointAtLength(t))}}),i(["Element","Runner"],{font:function(t,e){if("object"==typeof t){for(e in t)this.font(e,t[e]);return this}return"leading"===t?this.leading(e):"anchor"===t?this.attr("text-anchor",e):"size"===t||"family"===t||"weight"===t||"stretch"===t||"variant"===t||"style"===t?this.attr("font-"+t,e):this.attr(t,e)}}),i("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].reduce((function(t,e){return t[e]=function(t){return null===t?this.off(e):this.on(e,t),this},t}),{})),i("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(N).slice(0,-1).map((function(t){const e=t.trim().split("(");return[e[0],e[1].split(V).map((function(t){return parseFloat(t)}))]})).reverse().reduce((function(t,e){return"matrix"===e[0]?t.lmultiply(W.fromArray(e[1])):t[e[0]].apply(t,e[1])}),new W)},toParent:function(t,e){if(this===t)return this;const r=this.screenCTM(),n=t.screenCTM().inverse();return this.addTo(t,e).untransform().transform(n.multiply(r)),this},toRoot:function(t){return this.toParent(this.root(),t)},transform:function(t,e){if(null==t||"string"==typeof t){const e=new W(this).decompose();return null==t?e:e[t]}W.isMatrixLike(t)||(t={...t,origin:d(t,this)});const r=new W(!0===e?this:e||!1).transform(t);return this.attr("transform",r)}});class _t extends Mt{flatten(t=this,e){return this.each((function(){if(this instanceof _t)return this.flatten().ungroup()})),this}ungroup(t=this.parent(),e=t.index(this)){return e=-1===e?t.children().length:e,this.each((function(r,n){return n[n.length-r-1].toParent(t,e)})),this.remove()}}P(_t,"Container");class St extends _t{constructor(t,e=t){super(_("defs",t),e)}flatten(){return this}ungroup(){return this}}P(St,"Defs");class At extends Mt{}function Pt(t){return this.attr("rx",t)}function Et(t){return this.attr("ry",t)}function Ot(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())}function It(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())}function Rt(t){return this.attr("cx",t)}function Ct(t){return this.attr("cy",t)}function Lt(t){return null==t?2*this.rx():this.rx(new vt(t).divide(2))}function Tt(t){return null==t?2*this.ry():this.ry(new vt(t).divide(2))}P(At,"Shape");var kt={__proto__:null,rx:Pt,ry:Et,x:Ot,y:It,cx:Rt,cy:Ct,width:Lt,height:Tt};class Bt extends At{constructor(t,e=t){super(_("ellipse",t),e)}size(t,e){const r=f(this,t,e);return this.rx(new vt(r.width).divide(2)).ry(new vt(r.height).divide(2))}}R(Bt,kt),i("Container",{ellipse:C((function(t=0,e=t){return this.put(new Bt).size(t,e).move(0,0)}))}),P(Bt,"Ellipse");class Nt extends xt{constructor(t=y.document.createDocumentFragment()){super(t)}xml(t,e,r){if("boolean"==typeof t&&(r=e,e=t,t=null),null==t||"function"==typeof t){const t=new xt(M("wrapper",r));return t.add(this.node.cloneNode(!0)),t.xml(!1,r)}return super.xml(t,!1,r)}}function Ft(t,e){return"radialGradient"===(this._element||this).type?this.attr({fx:new vt(t),fy:new vt(e)}):this.attr({x1:new vt(t),y1:new vt(e)})}function jt(t,e){return"radialGradient"===(this._element||this).type?this.attr({cx:new vt(t),cy:new vt(e)}):this.attr({x2:new vt(t),y2:new vt(e)})}P(Nt,"Fragment");var qt,Yt={__proto__:null,from:Ft,to:jt};class Dt extends _t{constructor(t,e){super(_(t+"Gradient","string"==typeof t?null:t),e)}attr(t,e,r){return"transform"===t&&(t="gradientTransform"),super.attr(t,e,r)}bbox(){return new tt}targets(){return it('svg [fill*="'+this.id()+'"]')}toString(){return this.url()}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}url(){return'url("#'+this.id()+'")'}}R(Dt,Yt),i({Container:{gradient(...t){return this.defs().gradient(...t)}},Defs:{gradient:C((function(t,e){return this.put(new Dt(t)).update(e)}))}}),P(Dt,"Gradient");class zt extends _t{constructor(t,e=t){super(_("pattern",t),e)}attr(t,e,r){return"transform"===t&&(t="patternTransform"),super.attr(t,e,r)}bbox(){return new tt}targets(){return it('svg [fill*="'+this.id()+'"]')}toString(){return this.url()}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}url(){return'url("#'+this.id()+'")'}}i({Container:{pattern(...t){return this.defs().pattern(...t)}},Defs:{pattern:C((function(t,e,r){return this.put(new zt).update(r).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}))}}),P(zt,"Pattern");class Vt extends At{constructor(t,e=t){super(_("image",t),e)}load(t,e){if(!t)return this;const r=new y.window.Image;return ut(r,"load",(function(t){const n=this.parent(zt);0===this.width()&&0===this.height()&&this.size(r.width,r.height),n instanceof zt&&0===n.width()&&0===n.height()&&n.size(this.width(),this.height()),"function"==typeof e&&e.call(this,t)}),this),ut(r,"load error",(function(){ct(r)})),this.attr("href",r.src=t,g)}}qt=function(t,e,r){return"fill"!==t&&"stroke"!==t||z.test(e)&&(e=r.root().defs().image(e)),e instanceof Vt&&(e=r.root().defs().pattern(0,0,(t=>{t.add(e)}))),e},bt.push(qt),i({Container:{image:C((function(t,e){return this.put(new Vt).size(0,0).load(t,e)}))}}),P(Vt,"Image");class $t extends yt{bbox(){let t=-1/0,e=-1/0,r=1/0,n=1/0;return this.forEach((function(i){t=Math.max(i[0],t),e=Math.max(i[1],e),r=Math.min(i[0],r),n=Math.min(i[1],n)})),new tt(r,n,t-r,e-n)}move(t,e){const r=this.bbox();if(t-=r.x,e-=r.y,!isNaN(t)&&!isNaN(e))for(let r=this.length-1;r>=0;r--)this[r]=[this[r][0]+t,this[r][1]+e];return this}parse(t=[0,0]){const e=[];(t=t instanceof Array?Array.prototype.concat.apply([],t):t.trim().split(V).map(parseFloat)).length%2!=0&&t.pop();for(let r=0,n=t.length;r<n;r+=2)e.push([t[r],t[r+1]]);return e}size(t,e){let r;const n=this.bbox();for(r=this.length-1;r>=0;r--)n.width&&(this[r][0]=(this[r][0]-n.x)*t/n.width+n.x),n.height&&(this[r][1]=(this[r][1]-n.y)*e/n.height+n.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const t=[];for(let e=0,r=this.length;e<r;e++)t.push(this[e].join(","));return t.join(" ")}transform(t){return this.clone().transformO(t)}transformO(t){W.isMatrixLike(t)||(t=new W(t));for(let e=this.length;e--;){const[r,n]=this[e];this[e][0]=t.a*r+t.c*n+t.e,this[e][1]=t.b*r+t.d*n+t.f}return this}}var Xt={__proto__:null,MorphArray:$t,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){const e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){const e=this.bbox();return null==t?e.height:this.size(e.width,t)}};class Gt extends At{constructor(t,e=t){super(_("line",t),e)}array(){return new $t([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,e){return this.attr(this.array().move(t,e).toLine())}plot(t,e,r,n){return null==t?this.array():(t=void 0!==e?{x1:t,y1:e,x2:r,y2:n}:new $t(t).toLine(),this.attr(t))}size(t,e){const r=f(this,t,e);return this.attr(this.array().size(r.width,r.height).toLine())}}R(Gt,Xt),i({Container:{line:C((function(...t){return Gt.prototype.plot.apply(this.put(new Gt),null!=t[0]?t:[0,0,0,0])}))}}),P(Gt,"Line");class Ut extends _t{constructor(t,e=t){super(_("marker",t),e)}height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,e){return this.attr("refX",t).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}}function Ht(t,e){return function(r){return null==r?this[t]:(this[t]=r,e&&e.call(this),this)}}i({Container:{marker(...t){return this.defs().marker(...t)}},Defs:{marker:C((function(t,e,r){return this.put(new Ut).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(r)}))},marker:{marker(t,e,r,n){let i=["marker"];return"all"!==t&&i.push(t),i=i.join("-"),t=arguments[1]instanceof Ut?arguments[1]:this.defs().marker(e,r,n),this.attr(i,t)}}}),P(Ut,"Marker");const Zt={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)},bezier:function(t,e,r,n){return function(i){return i<0?t>0?e/t*i:r>0?n/r*i:0:i>1?r<1?(1-n)/(1-r)*i+(n-r)/(1-r):t<1?(1-e)/(1-t)*i+(e-t)/(1-t):1:3*i*(1-i)**2*e+3*i**2*(1-i)*n+i**3}},steps:function(t,e="end"){e=e.split("-").reverse()[0];let r=t;return"none"===e?--r:"both"===e&&++r,(n,i=!1)=>{let s=Math.floor(n*t);const o=n*s%1==0;return"start"!==e&&"both"!==e||++s,i&&o&&--s,n>=0&&s<0&&(s=0),n<=1&&s>r&&(s=r),s/r}}};class Qt{done(){return!1}}class Wt extends Qt{constructor(t=pt){super(),this.ease=Zt[t]||t}step(t,e,r){return"number"!=typeof t?r<1?t:e:t+(e-t)*this.ease(r)}}class Jt extends Qt{constructor(t){super(),this.stepper=t}done(t){return t.done}step(t,e,r,n){return this.stepper(t,e,r,n)}}function Kt(){const t=(this._duration||500)/1e3,e=this._overshoot||0,r=Math.PI,n=Math.log(e/100+1e-10),i=-n/Math.sqrt(r*r+n*n),s=3.9/(i*t);this.d=2*i*s,this.k=s*s}R(class extends Jt{constructor(t=500,e=0){super(),this.duration(t).overshoot(e)}step(t,e,r,n){if("string"==typeof t)return t;if(n.done=r===1/0,r===1/0)return e;if(0===r)return t;r>100&&(r=16),r/=1e3;const i=n.velocity||0,s=-this.d*i-this.k*(t-e),o=t+i*r+s*r*r/2;return n.velocity=i+s*r,n.done=Math.abs(e-o)+Math.abs(i)<.002,n.done?e:o}},{duration:Ht("_duration",Kt),overshoot:Ht("_overshoot",Kt)}),R(class extends Jt{constructor(t=.1,e=.01,r=0,n=1e3){super(),this.p(t).i(e).d(r).windup(n)}step(t,e,r,n){if("string"==typeof t)return t;if(n.done=r===1/0,r===1/0)return e;if(0===r)return t;const i=e-t;let s=(n.integral||0)+i*r;const o=(i-(n.error||0))/r,a=this._windup;return!1!==a&&(s=Math.max(-a,Math.min(s,a))),n.error=i,n.integral=s,n.done=Math.abs(i)<.001,n.done?e:t+(this.P*i+this.I*s+this.D*o)}},{windup:Ht("_windup"),p:Ht("P"),i:Ht("I"),d:Ht("D")});const te={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},ee={M:function(t,e,r){return e.x=r.x=t[0],e.y=r.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},S:function(t,e){return e.x=t[2],e.y=t[3],["S",t[0],t[1],t[2],t[3]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},T:function(t,e){return e.x=t[0],e.y=t[1],["T",t[0],t[1]]},Z:function(t,e,r){return e.x=r.x,e.y=r.y,["Z"]},A:function(t,e){return e.x=t[5],e.y=t[6],["A",t[0],t[1],t[2],t[3],t[4],t[5],t[6]]}},re="mlhvqtcsaz".split("");for(let t=0,e=re.length;t<e;++t)ee[re[t]]=function(t){return function(e,r,n){if("H"===t)e[0]=e[0]+r.x;else if("V"===t)e[0]=e[0]+r.y;else if("A"===t)e[5]=e[5]+r.x,e[6]=e[6]+r.y;else for(let t=0,n=e.length;t<n;++t)e[t]=e[t]+(t%2?r.y:r.x);return ee[t](e,r,n)}}(re[t].toUpperCase());function ne(t){return t.segment.length&&t.segment.length-1===te[t.segment[0].toUpperCase()]}function ie(t,e){t.inNumber&&se(t,!1);const r=$.test(e);if(r)t.segment=[e];else{const e=t.lastCommand,r=e.toLowerCase(),n=e===r;t.segment=["m"===r?n?"l":"L":e]}return t.inSegment=!0,t.lastCommand=t.segment[0],r}function se(t,e){if(!t.inNumber)throw new Error("Parser Error");t.number&&t.segment.push(parseFloat(t.number)),t.inNumber=e,t.number="",t.pointSeen=!1,t.hasExponent=!1,ne(t)&&oe(t)}function oe(t){t.inSegment=!1,t.absolute&&(t.segment=function(t){const e=t.segment[0];return ee[e](t.segment.slice(1),t.p,t.p0)}(t)),t.segments.push(t.segment)}function ae(t){if(!t.segment.length)return!1;const e="A"===t.segment[0].toUpperCase(),r=t.segment.length;return e&&(4===r||5===r)}function he(t){return"E"===t.lastToken.toUpperCase()}class ue extends yt{bbox(){return J().path.setAttribute("d",this.toString()),new tt(J.nodes.path.getBBox())}move(t,e){const r=this.bbox();if(t-=r.x,e-=r.y,!isNaN(t)&&!isNaN(e))for(let r,n=this.length-1;n>=0;n--)r=this[n][0],"M"===r||"L"===r||"T"===r?(this[n][1]+=t,this[n][2]+=e):"H"===r?this[n][1]+=t:"V"===r?this[n][1]+=e:"C"===r||"S"===r||"Q"===r?(this[n][1]+=t,this[n][2]+=e,this[n][3]+=t,this[n][4]+=e,"C"===r&&(this[n][5]+=t,this[n][6]+=e)):"A"===r&&(this[n][6]+=t,this[n][7]+=e);return this}parse(t="M0 0"){return Array.isArray(t)&&(t=Array.prototype.concat.apply([],t).toString()),function(t,e=!0){let r=0,n="";const i={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:e,p0:new Z,p:new Z};for(;i.lastToken=n,n=t.charAt(r++);)if(i.inSegment||!ie(i,n))if("."!==n)if(isNaN(parseInt(n)))if(" "!==n&&","!==n)if("-"!==n)if("E"!==n.toUpperCase()){if($.test(n)){if(i.inNumber)se(i,!1);else{if(!ne(i))throw new Error("parser Error");oe(i)}--r}}else i.number+=n,i.hasExponent=!0;else{if(i.inNumber&&!he(i)){se(i,!1),--r;continue}i.number+=n,i.inNumber=!0}else i.inNumber&&se(i,!1);else{if("0"===i.number||ae(i)){i.inNumber=!0,i.number=n,se(i,!0);continue}i.inNumber=!0,i.number+=n}else{if(i.pointSeen||i.hasExponent){se(i,!1),--r;continue}i.inNumber=!0,i.pointSeen=!0,i.number+=n}return i.inNumber&&se(i,!1),i.inSegment&&ne(i)&&oe(i),i.segments}(t)}size(t,e){const r=this.bbox();let n,i;for(r.width=0===r.width?1:r.width,r.height=0===r.height?1:r.height,n=this.length-1;n>=0;n--)i=this[n][0],"M"===i||"L"===i||"T"===i?(this[n][1]=(this[n][1]-r.x)*t/r.width+r.x,this[n][2]=(this[n][2]-r.y)*e/r.height+r.y):"H"===i?this[n][1]=(this[n][1]-r.x)*t/r.width+r.x:"V"===i?this[n][1]=(this[n][1]-r.y)*e/r.height+r.y:"C"===i||"S"===i||"Q"===i?(this[n][1]=(this[n][1]-r.x)*t/r.width+r.x,this[n][2]=(this[n][2]-r.y)*e/r.height+r.y,this[n][3]=(this[n][3]-r.x)*t/r.width+r.x,this[n][4]=(this[n][4]-r.y)*e/r.height+r.y,"C"===i&&(this[n][5]=(this[n][5]-r.x)*t/r.width+r.x,this[n][6]=(this[n][6]-r.y)*e/r.height+r.y)):"A"===i&&(this[n][1]=this[n][1]*t/r.width,this[n][2]=this[n][2]*e/r.height,this[n][6]=(this[n][6]-r.x)*t/r.width+r.x,this[n][7]=(this[n][7]-r.y)*e/r.height+r.y);return this}toString(){return function(t){let e="";for(let r=0,n=t.length;r<n;r++)e+=t[r][0],null!=t[r][1]&&(e+=t[r][1],null!=t[r][2]&&(e+=" ",e+=t[r][2],null!=t[r][3]&&(e+=" ",e+=t[r][3],e+=" ",e+=t[r][4],null!=t[r][5]&&(e+=" ",e+=t[r][5],e+=" ",e+=t[r][6],null!=t[r][7]&&(e+=" ",e+=t[r][7])))));return e+" "}(this)}}const ce=t=>{const e=typeof t;return"number"===e?vt:"string"===e?H.isColor(t)?H:V.test(t)?$.test(t)?ue:yt:L.test(t)?vt:fe:ge.indexOf(t.constructor)>-1?t.constructor:Array.isArray(t)?yt:"object"===e?me:fe};class le{constructor(t){this._stepper=t||new Wt("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(t){const e=this;return this._morphObj.fromArray(this._from.map((function(r,n){return e._stepper.step(r,e._to[n],t,e._context[n],e._context)})))}done(){return this._context.map(this._stepper.done).reduce((function(t,e){return t&&e}),!0)}from(t){return null==t?this._from:(this._from=this._set(t),this)}stepper(t){return null==t?this._stepper:(this._stepper=t,this)}to(t){return null==t?this._to:(this._to=this._set(t),this)}type(t){return null==t?this._type:(this._type=t,this)}_set(t){this._type||this.type(ce(t));let e=new this._type(t);return this._type===H&&(e=this._to?e[this._to[4]]():this._from?e[this._from[4]]():e),this._type===me&&(e=this._to?e.align(this._to):this._from?e.align(this._from):e),e=e.toArray(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(e.length)).map(Object).map((function(t){return t.done=!0,t})),e}}class fe{constructor(...t){this.init(...t)}init(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}toArray(){return[this.value]}valueOf(){return this.value}}class de{constructor(...t){this.init(...t)}init(t){return Array.isArray(t)&&(t={scaleX:t[0],scaleY:t[1],shear:t[2],rotate:t[3],translateX:t[4],translateY:t[5],originX:t[6],originY:t[7]}),Object.assign(this,de.defaults,t),this}toArray(){const t=this;return[t.scaleX,t.scaleY,t.shear,t.rotate,t.translateX,t.translateY,t.originX,t.originY]}}de.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const pe=(t,e)=>t[0]<e[0]?-1:t[0]>e[0]?1:0;class me{constructor(...t){this.init(...t)}align(t){for(let e=0,r=this.values.length;e<r;++e)if(this.values[e]===H){const r=t[e+6],n=new H(this.values.splice(e+2,5))[r]().toArray();this.values.splice(e+2,0,...n)}return this}init(t){if(this.values=[],Array.isArray(t))return void(this.values=t.slice());t=t||{};const e=[];for(const r in t){const n=ce(t[r]),i=new n(t[r]).toArray();e.push([r,n,i.length,...i])}return e.sort(pe),this.values=e.reduce(((t,e)=>t.concat(e)),[]),this}toArray(){return this.values}valueOf(){const t={},e=this.values;for(;e.length;){const r=e.shift(),n=e.shift(),i=e.shift(),s=e.splice(0,i);t[r]=new n(s).valueOf()}return t}}const ge=[fe,de,me];class ye extends At{constructor(t,e=t){super(_("path",t),e)}array(){return this._array||(this._array=new ue(this.attr("d")))}clear(){return delete this._array,this}height(t){return null==t?this.bbox().height:this.size(this.bbox().width,t)}move(t,e){return this.attr("d",this.array().move(t,e))}plot(t){return null==t?this.array():this.clear().attr("d","string"==typeof t?t:this._array=new ue(t))}size(t,e){const r=f(this,t,e);return this.attr("d",this.array().size(r.width,r.height))}width(t){return null==t?this.bbox().width:this.size(t,this.bbox().height)}x(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)}y(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)}}ye.prototype.MorphArray=ue,i({Container:{path:C((function(t){return this.put(new ye).plot(t||new ue)}))}}),P(ye,"Path");var ve={__proto__:null,array:function(){return this._array||(this._array=new $t(this.attr("points")))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},plot:function(t){return null==t?this.array():this.clear().attr("points","string"==typeof t?t:this._array=new $t(t))},size:function(t,e){const r=f(this,t,e);return this.attr("points",this.array().size(r.width,r.height))}};class be extends At{constructor(t,e=t){super(_("polygon",t),e)}}i({Container:{polygon:C((function(t){return this.put(new be).plot(t||new $t)}))}}),R(be,Xt),R(be,ve),P(be,"Polygon");class xe extends At{constructor(t,e=t){super(_("polyline",t),e)}}i({Container:{polyline:C((function(t){return this.put(new xe).plot(t||new $t)}))}}),R(xe,Xt),R(xe,ve),P(xe,"Polyline");class Me extends At{constructor(t,e=t){super(_("rect",t),e)}}R(Me,{rx:Pt,ry:Et}),i({Container:{rect:C((function(t,e){return this.put(new Me).size(t,e)}))}}),P(Me,"Rect");class we{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(t){const e=void 0!==t.next?t:{value:t,next:null,prev:null};return this._last?(e.prev=this._last,this._last.next=e,this._last=e):(this._last=e,this._first=e),e}remove(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}shift(){const t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}}const _e={nextDraw:null,frames:new we,timeouts:new we,immediates:new we,timer:()=>y.window.performance||y.window.Date,transforms:[],frame(t){const e=_e.frames.push({run:t});return null===_e.nextDraw&&(_e.nextDraw=y.window.requestAnimationFrame(_e._draw)),e},timeout(t,e){e=e||0;const r=_e.timer().now()+e,n=_e.timeouts.push({run:t,time:r});return null===_e.nextDraw&&(_e.nextDraw=y.window.requestAnimationFrame(_e._draw)),n},immediate(t){const e=_e.immediates.push(t);return null===_e.nextDraw&&(_e.nextDraw=y.window.requestAnimationFrame(_e._draw)),e},cancelFrame(t){null!=t&&_e.frames.remove(t)},clearTimeout(t){null!=t&&_e.timeouts.remove(t)},cancelImmediate(t){null!=t&&_e.immediates.remove(t)},_draw(t){let e=null;const r=_e.timeouts.last();for(;(e=_e.timeouts.shift())&&(t>=e.time?e.run():_e.timeouts.push(e),e!==r););let n=null;const i=_e.frames.last();for(;n!==i&&(n=_e.frames.shift());)n.run(t);let s=null;for(;s=_e.immediates.shift();)s();_e.nextDraw=_e.timeouts.first()||_e.frames.first()?y.window.requestAnimationFrame(_e._draw):null}},Se=function(t){const e=t.start,r=t.runner.duration();return{start:e,duration:r,end:e+r,runner:t.runner}},Ae=function(){const t=y.window;return(t.performance||t.Date).now()};class Pe extends lt{constructor(t=Ae){super(),this._timeSource=t,this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const t=this.getLastRunnerInfo(),e=t?t.runner.duration():0;return(t?t.start:this._time)+e}getEndTimeOfTimeline(){const t=this._runners.map((t=>t.start+t.runner.duration()));return Math.max(0,...t)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(t){return this._runners[this._runnerIds.indexOf(t)]||null}pause(){return this._paused=!0,this._continue()}persist(t){return null==t?this._persist:(this._persist=t,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(t){const e=this.speed();if(null==t)return this.speed(-e);const r=Math.abs(e);return this.speed(t?-r:r)}schedule(t,e,r){if(null==t)return this._runners.map(Se);let n=0;const i=this.getEndTime();if(e=e||0,null==r||"last"===r||"after"===r)n=i;else if("absolute"===r||"start"===r)n=e,e=0;else if("now"===r)n=this._time;else if("relative"===r){const r=this.getRunnerInfoById(t.id);r&&(n=r.start+e,e=0)}else{if("with-last"!==r)throw new Error('Invalid value for the "when" parameter');{const t=this.getLastRunnerInfo();n=t?t.start:this._time}}t.unschedule(),t.timeline(this);const s=t.persist(),o={persist:null===s?this._persist:s,start:n+e,runner:t};return this._lastRunnerId=t.id,this._runners.push(o),this._runners.sort(((t,e)=>t.start-e.start)),this._runnerIds=this._runners.map((t=>t.runner.id)),this.updateTime()._continue(),this}seek(t){return this.time(this._time+t)}source(t){return null==t?this._timeSource:(this._timeSource=t,this)}speed(t){return null==t?this._speed:(this._speed=t,this)}stop(){return this.time(0),this.pause()}time(t){return null==t?this._time:(this._time=t,this._continue(!0))}unschedule(t){const e=this._runnerIds.indexOf(t.id);return e<0||(this._runners.splice(e,1),this._runnerIds.splice(e,1),t.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(t=!1){return _e.cancelFrame(this._nextFrame),this._nextFrame=null,t?this._stepImmediate():(this._paused||(this._nextFrame=_e.frame(this._step)),this)}_stepFn(t=!1){const e=this._timeSource();let r=e-this._lastSourceTime;t&&(r=0);const n=this._speed*r+(this._time-this._lastStepTime);this._lastSourceTime=e,t||(this._time+=n,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let t=this._runners.length;t--;){const e=this._runners[t],r=e.runner;this._time-e.start<=0&&r.reset()}let i=!1;for(let t=0,e=this._runners.length;t<e;t++){const r=this._runners[t],s=r.runner;let o=n;const a=this._time-r.start;a<=0?i=!0:(a<o&&(o=a),s.active()&&(s.step(o).done?!0!==r.persist&&s.duration()-s.time()+this._time+r.persist<this._time&&(s.unschedule(),--t,--e):i=!0))}return i&&!(this._speed<0&&0===this._time)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}}i({Element:{timeline:function(t){return null==t?(this._timeline=this._timeline||new Pe,this._timeline):(this._timeline=t,this)}}});class Ee extends lt{constructor(t){super(),this.id=Ee.id++,t="function"==typeof(t=null==t?dt:t)?new Jt(t):t,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration="number"==typeof t&&t,this._isDeclarative=t instanceof Jt,this._stepper=this._isDeclarative?t:new Wt,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new W,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(t,e,r){let n=1,i=!1,s=0;return e=e||mt,r=r||"last","object"!=typeof(t=t||dt)||t instanceof Qt||(e=t.delay||e,r=t.when||r,i=t.swing||i,n=t.times||n,s=t.wait||s,t=t.duration||dt),{duration:t,delay:e,swing:i,times:n,wait:s,when:r}}active(t){return null==t?this.enabled:(this.enabled=t,this)}addTransform(t,e){return this.transforms.lmultiplyO(t),this}after(t){return this.on("finished",t)}animate(t,e,r){const n=Ee.sanitise(t,e,r),i=new Ee(n.duration);return this._timeline&&i.timeline(this._timeline),this._element&&i.element(this._element),i.loop(n).schedule(n.delay,n.when)}clearTransform(){return this.transforms=new W,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter((t=>!t.isTransform)))}delay(t){return this.animate(0,t)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(t){return this.queue(null,t)}ease(t){return this._stepper=new Wt(t),this}element(t){return null==t?this._element:(this._element=t,t._prepareRunner(),this)}finish(){return this.step(1/0)}loop(t,e,r){return"object"==typeof t&&(e=t.swing,r=t.wait,t=t.times),this._times=t||1/0,this._swing=e||!1,this._wait=r||0,!0===this._times&&(this._times=1/0),this}loops(t){const e=this._duration+this._wait;if(null==t){const t=Math.floor(this._time/e),r=(this._time-t*e)/this._duration;return Math.min(t+r,this._times)}const r=t%1,n=e*Math.floor(t)+this._duration*r;return this.time(n)}persist(t){return null==t?this._persist:(this._persist=t,this)}position(t){const e=this._time,r=this._duration,n=this._wait,i=this._times,s=this._swing,o=this._reverse;let a;if(null==t){const t=function(t){const e=s*Math.floor(t%(2*(n+r))/(n+r)),i=e&&!o||!e&&o,a=Math.pow(-1,i)*(t%(n+r))/r+i;return Math.max(Math.min(a,1),0)},h=i*(n+r)-n;return a=e<=0?Math.round(t(1e-5)):e<h?t(e):Math.round(t(h-1e-5)),a}const h=Math.floor(this.loops()),u=s&&h%2==0;return a=h+(u&&!o||o&&u?t:1-t),this.loops(a)}progress(t){return null==t?Math.min(1,this._time/this.duration()):this.time(t*this.duration())}queue(t,e,r,n){return this._queue.push({initialiser:t||ft,runner:e||ft,retarget:r,isTransform:n,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(t){return this._reverse=null==t?!this._reverse:t,this}schedule(t,e,r){if(t instanceof Pe||(r=e,e=t,t=this.timeline()),!t)throw Error("Runner cannot be scheduled without timeline");return t.schedule(this,e,r),this}step(t){if(!this.enabled)return this;t=null==t?16:t,this._time+=t;const e=this.position(),r=this._lastPosition!==e&&this._time>=0;this._lastPosition=e;const n=this.duration(),i=this._lastTime<=0&&this._time>0,s=this._lastTime<n&&this._time>=n;this._lastTime=this._time,i&&this.fire("start",this);const o=this._isDeclarative;this.done=!o&&!s&&this._time>=n,this._reseted=!1;let a=!1;return(r||o)&&(this._initialise(r),this.transforms=new W,a=this._run(o?t:e),this.fire("step",this)),this.done=this.done||a&&o,s&&this.fire("finished",this),this}time(t){if(null==t)return this._time;const e=t-this._time;return this.step(e),this}timeline(t){return void 0===t?this._timeline:(this._timeline=t,this)}unschedule(){const t=this.timeline();return t&&t.unschedule(this),this}_initialise(t){if(t||this._isDeclarative)for(let e=0,r=this._queue.length;e<r;++e){const r=this._queue[e],n=this._isDeclarative||!r.initialised&&t;t=!r.finished,n&&t&&(r.initialiser.call(this),r.initialised=!0)}}_rememberMorpher(t,e){if(this._history[t]={morpher:e,caller:this._queue[this._queue.length-1]},this._isDeclarative){const t=this.timeline();t&&t.play()}}_run(t){let e=!0;for(let r=0,n=this._queue.length;r<n;++r){const n=this._queue[r],i=n.runner.call(this,t);n.finished=n.finished||!0===i,e=e&&n.finished}return e}_tryRetarget(t,e,r){if(this._history[t]){if(!this._history[t].caller.initialised){const e=this._queue.indexOf(this._history[t].caller);return this._queue.splice(e,1),!1}this._history[t].caller.retarget?this._history[t].caller.retarget.call(this,e,r):this._history[t].morpher.to(e),this._history[t].caller.finished=!1;const n=this.timeline();return n&&n.play(),!0}return!1}}Ee.id=0;class Oe{constructor(t=new W,e=-1,r=!0){this.transforms=t,this.id=e,this.done=r}clearTransformsFromQueue(){}}R([Ee,Oe],{mergeWith(t){return new Oe(t.transforms.lmultiply(this.transforms),t.id)}});const Ie=(t,e)=>t.lmultiplyO(e),Re=t=>t.transforms;function Ce(){const t=this._transformationRunners.runners.map(Re).reduce(Ie,new W);this.transform(t),this._transformationRunners.merge(),1===this._transformationRunners.length()&&(this._frameId=null)}class Le{constructor(){this.runners=[],this.ids=[]}add(t){if(this.runners.includes(t))return;const e=t.id+1;return this.runners.push(t),this.ids.push(e),this}clearBefore(t){const e=this.ids.indexOf(t+1)||1;return this.ids.splice(0,e,0),this.runners.splice(0,e,new Oe).forEach((t=>t.clearTransformsFromQueue())),this}edit(t,e){const r=this.ids.indexOf(t+1);return this.ids.splice(r,1,t+1),this.runners.splice(r,1,e),this}getByID(t){return this.runners[this.ids.indexOf(t+1)]}length(){return this.ids.length}merge(){let t=null;for(let e=0;e<this.runners.length;++e){const r=this.runners[e];if(!(t&&r.done&&t.done)||r._timeline&&r._timeline._runnerIds.includes(r.id)||t._timeline&&t._timeline._runnerIds.includes(t.id))t=r;else{this.remove(r.id);const n=r.mergeWith(t);this.edit(t.id,n),t=n,--e}}return this}remove(t){const e=this.ids.indexOf(t+1);return this.ids.splice(e,1),this.runners.splice(e,1),this}}i({Element:{animate(t,e,r){const n=Ee.sanitise(t,e,r),i=this.timeline();return new Ee(n.duration).loop(n).element(this).timeline(i.play()).schedule(n.delay,n.when)},delay(t,e){return this.animate(0,t,e)},_clearTransformRunnersBefore(t){this._transformationRunners.clearBefore(t.id)},_currentTransform(t){return this._transformationRunners.runners.filter((e=>e.id<=t.id)).map(Re).reduce(Ie,new W)},_addRunner(t){this._transformationRunners.add(t),_e.cancelImmediate(this._frameId),this._frameId=_e.immediate(Ce.bind(this))},_prepareRunner(){null==this._frameId&&(this._transformationRunners=(new Le).add(new Oe(new W(this))))}}}),R(Ee,{attr(t,e){return this.styleAttr("attr",t,e)},css(t,e){return this.styleAttr("css",t,e)},styleAttr(t,e,r){if("string"==typeof e)return this.styleAttr(t,{[e]:r});let n=e;if(this._tryRetarget(t,n))return this;let i=new le(this._stepper).to(n),s=Object.keys(n);return this.queue((function(){i=i.from(this.element()[t](s))}),(function(e){return this.element()[t](i.at(e).valueOf()),i.done()}),(function(e){const r=Object.keys(e),o=(a=s,r.filter((t=>!a.includes(t))));var a;if(o.length){const e=this.element()[t](o),r=new me(i.from()).valueOf();Object.assign(r,e),i.from(r)}const h=new me(i.to()).valueOf();Object.assign(h,e),i.to(h),s=r,n=e})),this._rememberMorpher(t,i),this},zoom(t,e){if(this._tryRetarget("zoom",t,e))return this;let r=new le(this._stepper).to(new vt(t));return this.queue((function(){r=r.from(this.element().zoom())}),(function(t){return this.element().zoom(r.at(t),e),r.done()}),(function(t,n){e=n,r.to(t)})),this._rememberMorpher("zoom",r),this},transform(t,e,r){if(e=t.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",t))return this;const n=W.isMatrixLike(t);r=null!=t.affine?t.affine:null!=r?r:!n;const i=new le(this._stepper).type(r?de:W);let s,o,a,h,u;return this.queue((function(){o=o||this.element(),s=s||d(t,o),u=new W(e?void 0:o),o._addRunner(this),e||o._clearTransformRunnersBefore(this)}),(function(c){e||this.clearTransform();const{x:l,y:f}=new Z(s).transform(o._currentTransform(this));let d=new W({...t,origin:[l,f]}),p=this._isDeclarative&&a?a:u;if(r){d=d.decompose(l,f),p=p.decompose(l,f);const t=d.rotate,e=p.rotate,r=[t-360,t,t+360],n=r.map((t=>Math.abs(t-e))),i=Math.min(...n),s=n.indexOf(i);d.rotate=r[s]}e&&(n||(d.rotate=t.rotate||0),this._isDeclarative&&h&&(p.rotate=h)),i.from(p),i.to(d);const m=i.at(c);return h=m.rotate,a=new W(m),this.addTransform(a),o._addRunner(this),i.done()}),(function(e){(e.origin||"center").toString()!==(t.origin||"center").toString()&&(s=d(e,o)),t={...e,origin:s}}),!0),this._isDeclarative&&this._rememberMorpher("transform",i),this},x(t,e){return this._queueNumber("x",t)},y(t){return this._queueNumber("y",t)},dx(t=0){return this._queueNumberDelta("x",t)},dy(t=0){return this._queueNumberDelta("y",t)},dmove(t,e){return this.dx(t).dy(e)},_queueNumberDelta(t,e){if(e=new vt(e),this._tryRetarget(t,e))return this;const r=new le(this._stepper).to(e);let n=null;return this.queue((function(){n=this.element()[t](),r.from(n),r.to(n+e)}),(function(e){return this.element()[t](r.at(e)),r.done()}),(function(t){r.to(n+new vt(t))})),this._rememberMorpher(t,r),this},_queueObject(t,e){if(this._tryRetarget(t,e))return this;const r=new le(this._stepper).to(e);return this.queue((function(){r.from(this.element()[t]())}),(function(e){return this.element()[t](r.at(e)),r.done()})),this._rememberMorpher(t,r),this},_queueNumber(t,e){return this._queueObject(t,new vt(e))},cx(t){return this._queueNumber("cx",t)},cy(t){return this._queueNumber("cy",t)},move(t,e){return this.x(t).y(e)},center(t,e){return this.cx(t).cy(e)},size(t,e){let r;return t&&e||(r=this._element.bbox()),t||(t=r.width/r.height*e),e||(e=r.height/r.width*t),this.width(t).height(e)},width(t){return this._queueNumber("width",t)},height(t){return this._queueNumber("height",t)},plot(t,e,r,n){if(4===arguments.length)return this.plot([t,e,r,n]);if(this._tryRetarget("plot",t))return this;const i=new le(this._stepper).type(this._element.MorphArray).to(t);return this.queue((function(){i.from(this._element.array())}),(function(t){return this._element.plot(i.at(t)),i.done()})),this._rememberMorpher("plot",i),this},leading(t){return this._queueNumber("leading",t)},viewbox(t,e,r,n){return this._queueObject("viewbox",new tt(t,e,r,n))},update(t){return"object"!=typeof t?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",t.offset),this)}}),R(Ee,{rx:Pt,ry:Et,from:Ft,to:jt}),P(Ee,"Runner");class Te extends _t{constructor(t,e=t){super(_("svg",t),e),this.namespace()}defs(){return this.isRoot()?S(this.node.querySelector("defs"))||this.put(new St):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof y.window.SVGElement)&&"#document-fragment"!==this.node.parentNode.nodeName}namespace(){return this.isRoot()?this.attr({xmlns:p,version:"1.1"}).attr("xmlns:xlink",g,m).attr("xmlns:svgjs","http://svgjs.dev/svgjs",m):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,m).attr("xmlns:svgjs",null,m)}root(){return this.isRoot()?this:super.root()}}i({Container:{nested:C((function(){return this.put(new Te)}))}}),P(Te,"Svg",!0);class ke extends _t{constructor(t,e=t){super(_("symbol",t),e)}}i({Container:{symbol:C((function(){return this.put(new ke)}))}}),P(ke,"Symbol");var Be={__proto__:null,plain:function(t){return!1===this._build&&this.clear(),this.node.appendChild(y.document.createTextNode(t)),this},length:function(){return this.node.getComputedTextLength()},x:function(t,e=this.bbox()){return null==t?e.x:this.attr("x",this.attr("x")+t-e.x)},y:function(t,e=this.bbox()){return null==t?e.y:this.attr("y",this.attr("y")+t-e.y)},move:function(t,e,r=this.bbox()){return this.x(t,r).y(e,r)},cx:function(t,e=this.bbox()){return null==t?e.cx:this.attr("x",this.attr("x")+t-e.cx)},cy:function(t,e=this.bbox()){return null==t?e.cy:this.attr("y",this.attr("y")+t-e.cy)},center:function(t,e,r=this.bbox()){return this.cx(t,r).cy(e,r)},ax:function(t){return this.attr("x",t)},ay:function(t){return this.attr("y",t)},amove:function(t,e){return this.ax(t).ay(e)},build:function(t){return this._build=!!t,this}};class Ne extends At{constructor(t,e=t){super(_("text",t),e),this.dom.leading=new vt(1.3),this._rebuild=!0,this._build=!1}leading(t){return null==t?this.dom.leading:(this.dom.leading=new vt(t),this.rebuild())}rebuild(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){const t=this;let e=0;const r=this.dom.leading;this.each((function(n){const i=y.window.getComputedStyle(this.node).getPropertyValue("font-size"),s=r*new vt(i);this.dom.newLined&&(this.attr("x",t.attr("x")),"\n"===this.text()?e+=s:(this.attr("dy",n?s+e:0),e=0))})),this.fire("rebuild")}return this}setData(t){return this.dom=t,this.dom.leading=new vt(t.leading||1.3),this}text(t){if(void 0===t){const e=this.node.childNodes;let r=0;t="";for(let n=0,i=e.length;n<i;++n)"textPath"!==e[n].nodeName?(n!==r&&3!==e[n].nodeType&&!0===S(e[n]).dom.newLined&&(t+="\n"),t+=e[n].textContent):0===n&&(r=1);return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else for(let e=0,r=(t=(t+"").split("\n")).length;e<r;e++)this.newLine(t[e]);return this.build(!1).rebuild()}}R(Ne,Be),i({Container:{text:C((function(t=""){return this.put(new Ne).text(t)})),plain:C((function(t=""){return this.put(new Ne).plain(t)}))}}),P(Ne,"Text");class Fe extends At{constructor(t,e=t){super(_("tspan",t),e),this._build=!1}dx(t){return this.attr("dx",t)}dy(t){return this.attr("dy",t)}newLine(){this.dom.newLined=!0;const t=this.parent();if(!(t instanceof Ne))return this;const e=t.index(this),r=y.window.getComputedStyle(this.node).getPropertyValue("font-size"),n=t.dom.leading*new vt(r);return this.dy(e?n:0).attr("x",t.x())}text(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?(this.clear().build(!0),t.call(this,this),this.build(!1)):this.plain(t),this)}}R(Fe,Be),i({Tspan:{tspan:C((function(t=""){const e=new Fe;return this._build||this.clear(),this.put(e).text(t)}))},Text:{newLine:function(t=""){return this.tspan(t).newLine()}}}),P(Fe,"Tspan");class je extends At{constructor(t,e=t){super(_("circle",t),e)}radius(t){return this.attr("r",t)}rx(t){return this.attr("r",t)}ry(t){return this.rx(t)}size(t){return this.radius(new vt(t).divide(2))}}R(je,{x:Ot,y:It,cx:Rt,cy:Ct,width:Lt,height:Tt}),i({Container:{circle:C((function(t=0){return this.put(new je).size(t).move(0,0)}))}}),P(je,"Circle");class qe extends _t{constructor(t,e=t){super(_("clipPath",t),e)}remove(){return this.targets().forEach((function(t){t.unclip()})),super.remove()}targets(){return it('svg [clip-path*="'+this.id()+'"]')}}i({Container:{clip:C((function(){return this.defs().put(new qe)}))},Element:{clipper(){return this.reference("clip-path")},clipWith(t){const e=t instanceof qe?t:this.parent().clip().add(t);return this.attr("clip-path",'url("#'+e.id()+'")')},unclip(){return this.attr("clip-path",null)}}}),P(qe,"ClipPath");class Ye extends Mt{constructor(t,e=t){super(_("foreignObject",t),e)}}i({Container:{foreignObject:C((function(t,e){return this.put(new Ye).size(t,e)}))}}),P(Ye,"ForeignObject");var De={__proto__:null,dmove:function(t,e){return this.children().forEach(((r,n)=>{let i;try{i=r.bbox()}catch(t){return}const s=new W(r),o=s.translate(t,e).transform(s.inverse()),a=new Z(i.x,i.y).transform(o);r.move(a.x,a.y)})),this},dx:function(t){return this.dmove(t,0)},dy:function(t){return this.dmove(0,t)},height:function(t,e=this.bbox()){return null==t?e.height:this.size(e.width,t,e)},move:function(t=0,e=0,r=this.bbox()){const n=t-r.x,i=e-r.y;return this.dmove(n,i)},size:function(t,e,r=this.bbox()){const n=f(this,t,e,r),i=n.width/r.width,s=n.height/r.height;return this.children().forEach(((t,e)=>{const n=new Z(r).transform(new W(t).inverse());t.scale(i,s,n.x,n.y)})),this},width:function(t,e=this.bbox()){return null==t?e.width:this.size(t,e.height,e)},x:function(t,e=this.bbox()){return null==t?e.x:this.move(t,e.y,e)},y:function(t,e=this.bbox()){return null==t?e.y:this.move(e.x,t,e)}};class ze extends _t{constructor(t,e=t){super(_("g",t),e)}}R(ze,De),i({Container:{group:C((function(){return this.put(new ze)}))}}),P(ze,"G");class Ve extends _t{constructor(t,e=t){super(_("a",t),e)}target(t){return this.attr("target",t)}to(t){return this.attr("href",t,g)}}R(Ve,De),i({Container:{link:C((function(t){return this.put(new Ve).to(t)}))},Element:{unlink(){const t=this.linker();if(!t)return this;const e=t.parent();if(!e)return this.remove();const r=e.index(t);return e.add(this,r),t.remove(),this},linkTo(t){let e=this.linker();return e||(e=new Ve,this.wrap(e)),"function"==typeof t?t.call(e,e):e.to(t),this},linker(){const t=this.parent();return t&&"a"===t.node.nodeName.toLowerCase()?t:null}}}),P(Ve,"A");class $e extends _t{constructor(t,e=t){super(_("mask",t),e)}remove(){return this.targets().forEach((function(t){t.unmask()})),super.remove()}targets(){return it('svg [mask*="'+this.id()+'"]')}}i({Container:{mask:C((function(){return this.defs().put(new $e)}))},Element:{masker(){return this.reference("mask")},maskWith(t){const e=t instanceof $e?t:this.parent().mask().add(t);return this.attr("mask",'url("#'+e.id()+'")')},unmask(){return this.attr("mask",null)}}}),P($e,"Mask");class Xe extends Mt{constructor(t,e=t){super(_("stop",t),e)}update(t){return("number"==typeof t||t instanceof vt)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new vt(t.offset)),this}}i({Gradient:{stop:function(t,e,r){return this.put(new Xe).update(t,e,r)}}}),P(Xe,"Stop");class Ge extends Mt{constructor(t,e=t){super(_("style",t),e)}addText(t=""){return this.node.textContent+=t,this}font(t,e,r={}){return this.rule("@font-face",{fontFamily:t,src:e,...r})}rule(t,e){return this.addText(function(t,e){if(!t)return"";if(!e)return t;let r=t+"{";for(const t in e)r+=t.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()}))+":"+e[t]+";";return r+="}",r}(t,e))}}i("Dom",{style(t,e){return this.put(new Ge).rule(t,e)},fontface(t,e,r){return this.put(new Ge).font(t,e,r)}}),P(Ge,"Style");class Ue extends Ne{constructor(t,e=t){super(_("textPath",t),e)}array(){const t=this.track();return t?t.array():null}plot(t){const e=this.track();let r=null;return e&&(r=e.plot(t)),null==t?r:this}track(){return this.reference("href")}}i({Container:{textPath:C((function(t,e){return t instanceof Ne||(t=this.text(t)),t.path(e)}))},Text:{path:C((function(t,e=!0){const r=new Ue;let n;if(t instanceof ye||(t=this.defs().path(t)),r.attr("href","#"+t,g),e)for(;n=this.node.firstChild;)r.node.appendChild(n);return this.put(r)})),textPath(){return this.findOne("textPath")}},Path:{text:C((function(t){return t instanceof Ne||(t=(new Ne).addTo(this.parent()).text(t)),t.path(this)})),targets(){return it("svg textPath").filter((t=>(t.attr("href")||"").includes(this.id())))}}}),Ue.prototype.MorphArray=ue,P(Ue,"TextPath");class He extends At{constructor(t,e=t){super(_("use",t),e)}use(t,e){return this.attr("href",(e||"")+"#"+t,g)}}i({Container:{use:C((function(t,e){return this.put(new He).use(t,e)}))}}),P(He,"Use"),R([Te,ke,Vt,zt,Ut],s("viewbox")),R([Gt,xe,be,ye],s("marker")),R(Ne,s("Text")),R(ye,s("Path")),R(St,s("Defs")),R([Ne,Fe],s("Tspan")),R([Me,Bt,Dt,Ee],s("radius")),R(lt,s("EventTarget")),R(xt,s("Dom")),R(Mt,s("Element")),R(At,s("Shape")),R([_t,Nt],s("Container")),R(Dt,s("Gradient")),R(Ee,s("Runner")),rt.extend([...new Set(e)]),function(t=[]){ge.push(...[].concat(t))}([vt,H,tt,W,yt,$t,ue]),R(ge,{to(t){return(new le).type(this.constructor).from(this.valueOf()).to(t)},fromArray(t){return this.init(t),this}});var Ze=r(688),Qe=r(926),We=r(479),Je=r.n(We),Ke=r(721);function tr(t){return void 0===t}function er(t,e=0){return{a:1,c:0,e:t,b:0,d:1,f:e}}function rr(...t){const e=(t,e)=>({a:t.a*e.a+t.c*e.b,c:t.a*e.c+t.c*e.d,e:t.a*e.e+t.c*e.f+t.e,b:t.b*e.a+t.d*e.b,d:t.b*e.c+t.d*e.d,f:t.b*e.e+t.d*e.f+t.f});switch((t=Array.isArray(t[0])?t[0]:t).length){case 0:throw new Error("no matrices provided");case 1:return t[0];case 2:return e(t[0],t[1]);default:{const[r,n,...i]=t;return rr(e(r,n),...i)}}}function nr(...t){return rr(...t)}const{cos:ir,sin:sr,PI:or}=Math;function ar(t,e,r){return function(t,e,r){const n=ir(t),i=sr(t),s={a:n,c:-i,e:0,b:i,d:n,f:0};return tr(e)||tr(r)?s:rr([er(e,r),s,er(-e,-r)])}(t*or/180,e,r)}const{tan:hr}=Math;function ur(t,e){return function(t,e){return{a:1,c:hr(t),e:0,b:hr(e),d:1,f:0}}(t*Math.PI/180,e*Math.PI/180)}function cr(t,e,r,n){tr(e)&&(e=t);const i={a:t,c:0,e:0,b:0,d:e,f:0};return tr(r)||tr(n)?i:rr([er(r,n),i,er(-r,-n)])}function lr(t){return Array.isArray(t)?t.map(e):e(t);function e(t){switch(t.type){case"matrix":if("a"in t&&"b"in t&&"c"in t&&"d"in t&&"e"in t&&"f"in t)return e=t,{a:parseFloat(e.a),b:parseFloat(e.b),c:parseFloat(e.c),d:parseFloat(e.d),e:parseFloat(e.e),f:parseFloat(e.f)};throw new Error("MISSING_MANDATORY_PARAM");case"translate":if(!("tx"in t))throw new Error("MISSING_MANDATORY_PARAM");return"ty"in t?er(t.tx,t.ty):er(t.tx);case"scale":if(!("sx"in t))throw new Error("MISSING_MANDATORY_PARAM");return"sy"in t?cr(t.sx,t.sy):cr(t.sx);case"rotate":if(!("angle"in t))throw new Error("MISSING_MANDATORY_PARAM");return"cx"in t&&"cy"in t?ar(t.angle,t.cx,t.cy):ar(t.angle);case"skewX":if(!("angle"in t))throw new Error("MISSING_MANDATORY_PARAM");return ur(t.angle,0);case"skewY":if(!("angle"in t))throw new Error("MISSING_MANDATORY_PARAM");return ur(0,t.angle);case"shear":if(!("shx"in t)||!("shy"in t))throw new Error("MISSING_MANDATORY_PARAM");return{a:1,c:t.shx,e:0,b:t.shy,d:1,f:0};default:throw new Error("UNSUPPORTED_DESCRIPTOR")}var e}}function fr(t,e,r,n){this.message=t,this.expected=e,this.found=r,this.location=n,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,fr)}function dr(t,e){e=void 0!==e?e:{};var r,n={},i={transformList:$},s=$,o="matrix",a="(",h=")",u="translate",c="scale",l="rotate",f="skewX",d="skewY",p=/^[eE]/,m=/^[+\-]/,g=/^[0-9]/,y=/^[ \t\r\n]/,v=N("matrix",!1),b=N("(",!1),x=N(")",!1),M=N("translate",!1),w=N("scale",!1),_=N("rotate",!1),S=N("skewX",!1),A=N("skewY",!1),P=N(",",!1),E={type:"other",description:"fractionalConstant"},O=F(["e","E"],!1,!1),I=F(["+","-"],!1,!1),R=F([["0","9"]],!1,!1),C=F([" ","\t","\r","\n"],!1,!1),L=0,T=[{line:1,column:1}],k=[],B=0;if("startRule"in e){if(!(e.startRule in i))throw new Error("Can't start parsing from rule \""+e.startRule+'".');s=i[e.startRule]}function N(t,e){return{type:"literal",text:t,ignoreCase:e}}function F(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function j(e){var r,n=T[e];if(n)return n;for(r=e-1;!T[r];)r--;for(n={line:(n=T[r]).line,column:n.column};r<e;)10===t.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return T[e]=n,n}var q,Y,D="string"==typeof e.filename&&e.filename.length>0;function z(t,r){var n={};D&&(n.filename=e.filename);var i=j(t);n.start={offset:t,line:i.line,column:i.column};var s=j(r);return n.end={offset:r,line:s.line,column:s.column},n}function V(t){var e=k[k.length-1];L<e.pos||(L>e.pos&&(e.pos=L,e.variants=[]),e.variants.push(t))}function $(){var t,e,r,i;for(L,t=[],e=et();e!==n;)t.push(e),e=et();for((e=X())===n&&(e=null),r=[],i=et();i!==n;)r.push(i),i=et();return e}function X(){var t,e,r,i,s;if(t=L,(e=G())!==n){if(r=[],(i=Z())!==n)for(;i!==n;)r.push(i),i=Z();else r=n;r!==n&&(i=X())!==n?(s=i,t=e.concat(s)):(L=t,t=n)}else L=t,t=n;return t===n&&(t=G()),t}function G(){var e;return(e=function(){var e,r,i,s,u,c,l,f,d,p,m,g,y,M=function(t){0===B&&V(t)};if(e=L,M(v),t.substr(L,6)===o?(r=o,L+=6):r=n,r!==n){for(i=[],s=et();s!==n;)i.push(s),s=et();if(M(b),40===t.charCodeAt(L)?(s=a,L++):s=n,s!==n){for(u=[],c=et();c!==n;)u.push(c),c=et();if((c=U())!==n)if(Z()!==n)if((l=U())!==n)if(Z()!==n)if((f=U())!==n)if(Z()!==n)if((d=U())!==n)if(Z()!==n)if((p=U())!==n)if(Z()!==n)if((m=U())!==n){for(g=[],y=et();y!==n;)g.push(y),y=et();M(x),41===t.charCodeAt(L)?(y=h,L++):y=n,y!==n?e=[{type:"matrix",a:c,b:l,c:f,d,e:p,f:m}]:(L=e,e=n)}else L=e,e=n;else L=e,e=n;else L=e,e=n;else L=e,e=n;else L=e,e=n;else L=e,e=n;else L=e,e=n;else L=e,e=n;else L=e,e=n;else L=e,e=n;else L=e,e=n}else L=e,e=n}else L=e,e=n;return e}())===n&&(e=function(){var e,r,i,s,o,c,l,f,d,p,m,g=function(t){0===B&&V(t)};if(e=L,g(M),t.substr(L,9)===u?(r=u,L+=9):r=n,r!==n){for(i=[],s=et();s!==n;)i.push(s),s=et();if(g(b),40===t.charCodeAt(L)?(s=a,L++):s=n,s!==n){for(o=[],c=et();c!==n;)o.push(c),c=et();if((c=U())!==n){for((l=H())===n&&(l=null),f=[],d=et();d!==n;)f.push(d),d=et();g(x),41===t.charCodeAt(L)?(d=h,L++):d=n,d!==n?(m={type:"translate",tx:c},(p=l)&&(m.ty=p),e=[m]):(L=e,e=n)}else L=e,e=n}else L=e,e=n}else L=e,e=n;return e}())===n&&(e=function(){var e,r,i,s,o,u,l,f,d,p,m,g=function(t){0===B&&V(t)};if(e=L,g(w),t.substr(L,5)===c?(r=c,L+=5):r=n,r!==n){for(i=[],s=et();s!==n;)i.push(s),s=et();if(g(b),40===t.charCodeAt(L)?(s=a,L++):s=n,s!==n){for(o=[],u=et();u!==n;)o.push(u),u=et();if((u=U())!==n){for((l=H())===n&&(l=null),f=[],d=et();d!==n;)f.push(d),d=et();g(x),41===t.charCodeAt(L)?(d=h,L++):d=n,d!==n?(m={type:"scale",sx:u},(p=l)&&(m.sy=p),e=[m]):(L=e,e=n)}else L=e,e=n}else L=e,e=n}else L=e,e=n;return e}())===n&&(e=function(){var e,r,i,s,o,u,c,f,d,p,m,g=function(t){0===B&&V(t)};if(e=L,g(_),t.substr(L,6)===l?(r=l,L+=6):r=n,r!==n){for(i=[],s=et();s!==n;)i.push(s),s=et();if(g(b),40===t.charCodeAt(L)?(s=a,L++):s=n,s!==n){for(o=[],u=et();u!==n;)o.push(u),u=et();if((u=U())!==n){for((c=function(){var t,e,r;return t=L,Z()!==n&&(e=U())!==n&&Z()!==n&&(r=U())!==n?t=[e,r]:(L=t,t=n),t}())===n&&(c=null),f=[],d=et();d!==n;)f.push(d),d=et();g(x),41===t.charCodeAt(L)?(d=h,L++):d=n,d!==n?(m={type:"rotate",angle:u},(p=c)&&(m.cx=p[0],m.cy=p[1]),e=[m]):(L=e,e=n)}else L=e,e=n}else L=e,e=n}else L=e,e=n;return e}())===n&&(e=function(){var e,r,i,s,o,u,c,l,d=function(t){0===B&&V(t)};if(e=L,d(S),t.substr(L,5)===f?(r=f,L+=5):r=n,r!==n){for(i=[],s=et();s!==n;)i.push(s),s=et();if(d(b),40===t.charCodeAt(L)?(s=a,L++):s=n,s!==n){for(o=[],u=et();u!==n;)o.push(u),u=et();if((u=U())!==n){for(c=[],l=et();l!==n;)c.push(l),l=et();d(x),41===t.charCodeAt(L)?(l=h,L++):l=n,l!==n?e=[{type:"skewX",angle:u}]:(L=e,e=n)}else L=e,e=n}else L=e,e=n}else L=e,e=n;return e}())===n&&(e=function(){var e,r,i,s,o,u,c,l,f=function(t){0===B&&V(t)};if(e=L,f(A),t.substr(L,5)===d?(r=d,L+=5):r=n,r!==n){for(i=[],s=et();s!==n;)i.push(s),s=et();if(f(b),40===t.charCodeAt(L)?(s=a,L++):s=n,s!==n){for(o=[],u=et();u!==n;)o.push(u),u=et();if((u=U())!==n){for(c=[],l=et();l!==n;)c.push(l),l=et();f(x),41===t.charCodeAt(L)?(l=h,L++):l=n,l!==n?e=[{type:"skewY",angle:u}]:(L=e,e=n)}else L=e,e=n}else L=e,e=n}else L=e,e=n;return e}()),e}function U(){var e,r,i,s;return e=L,r=L,(i=J())===n&&(i=null),(s=function(){var e,r,i;return e=L,(r=function(){var e,r,i,s,o,a,h;return o=E,0===B&&V(o),B++,e=L,(r=K())===n&&(r=null),46===t.charCodeAt(L)?(i=".",L++):i=n,i!==n&&(s=K())!==n?(h=s,e=[(a=r)?a.join(""):null,".",h.join("")].join("")):(L=e,e=n),e===n&&(e=L,(r=K())!==n?(46===t.charCodeAt(L)?(i=".",L++):i=n,i!==n?e=r.join(""):(L=e,e=n)):(L=e,e=n)),B--,e}())!==n?((i=W())===n&&(i=null),e=[r,i||null].join("")):(L=e,e=n),e===n&&(e=L,(r=K())!==n&&(i=W())!==n?e=[r,i].join(""):(L=e,e=n)),e}())!==n?r=i=[i,s]:(L=r,r=n),r!==n&&(r=parseFloat(r.join(""))),(e=r)===n&&(e=L,r=L,(i=J())===n&&(i=null),(s=function(){var t;return L,(t=K())!==n&&(t=t.join("")),t}())!==n?r=i=[i,s]:(L=r,r=n),r!==n&&(r=parseInt(r.join(""))),e=r),e}function H(){var t,e;return t=L,Z()!==n&&(e=U())!==n?t=e:(L=t,t=n),t}function Z(){var t,e,r,i,s;if(t=L,e=[],(r=et())!==n)for(;r!==n;)e.push(r),r=et();else e=n;if(e!==n){for((r=Q())===n&&(r=null),i=[],s=et();s!==n;)i.push(s),s=et();t=e=[e,r,i]}else L=t,t=n;if(t===n)if(t=L,(e=Q())!==n){for(r=[],i=et();i!==n;)r.push(i),i=et();t=e=[e,r]}else L=t,t=n;return t}function Q(){var e,r;return r=P,0===B&&V(r),44===t.charCodeAt(L)?(e=",",L++):e=n,e}function W(){var e,r,i,s,o;return e=L,o=O,0===B&&V(o),p.test(t.charAt(L))?(r=t.charAt(L),L++):r=n,r!==n?((i=J())===n&&(i=null),(s=K())!==n?e=["e",i,s.join("")].join(""):(L=e,e=n)):(L=e,e=n),e}function J(){var e,r;return r=I,0===B&&V(r),m.test(t.charAt(L))?(e=t.charAt(L),L++):e=n,e}function K(){var t,e;if(t=[],(e=tt())!==n)for(;e!==n;)t.push(e),e=tt();else t=n;return t}function tt(){var e,r;return r=R,0===B&&V(r),g.test(t.charAt(L))?(e=t.charAt(L),L++):e=n,e}function et(){var e,r;return r=C,0===B&&V(r),y.test(t.charAt(L))?(e=t.charAt(L),L++):e=n,e}if(k.push({pos:L,variants:[]}),(r=s())!==n&&L===t.length)return r;throw r!==n&&L<t.length&&V({type:"end"}),q=k[0],Y=q.pos,function(t,e,r){return new fr(fr.buildMessage(t,e,r),t,e,r)}(q.variants,Y<t.length?t.charAt(Y):null,Y<t.length?z(Y,Y+1):z(Y,Y))}function pr(t){return dr(t)}!function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(fr,Error),fr.buildMessage=function(t,e,r){var n={literal:function(t){return'"'+s(t.text)+'"'},class:function(t){var e=t.parts.map((function(t){return Array.isArray(t)?o(t[0])+"-"+o(t[1]):o(t)}));return"["+(t.inverted?"^":"")+e+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(t){return t.description},not:function(t){return"not "+a(t.expected)}};function i(t){return t.charCodeAt(0).toString(16).toUpperCase()}function s(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+i(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+i(t)}))}function o(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+i(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+i(t)}))}function a(t){return n[t.type](t)}return"Expected "+function(t){var e,r,n=t.map(a);if(n.sort(),n.length>0){for(e=1,r=1;e<n.length;e++)n[e-1]!==n[e]&&(n[r]=n[e],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(t)+" but "+function(t){return t?'"'+s(t)+'"':"end of input"}(e)+" found."};const mr=(t,e)=>/%$/.test(t+"")?100*parseFloat((t+"").replace("%",""))/e:+t,gr={rect:t=>{const e=parseFloat(t.getAttribute("width")||"0"),r=parseFloat(t.getAttribute("height")||"0"),n=parseFloat(t.getAttribute("x")||"0"),i=parseFloat(t.getAttribute("y")||"0");let s=t.getAttribute("rx")||"auto",o=t.getAttribute("ry")||"auto";"auto"===s&&"auto"===o?s=o=0:"auto"!==s&&"auto"===o?s=o=mr(s,e):"auto"!==o&&"auto"===s?o=s=mr(o,r):(s=mr(s,e),o=mr(o,r)),s>e/2&&(s=e/2),o>r/2&&(o=r/2);const a=s>0&&o>0;return[`M${n+s} ${i}`,"H"+(n+e-s),...a?[`A${s} ${o} 0 0 1 ${n+e} ${i+o}`]:[],"V"+(i+r-o),...a?[`A${s} ${o} 0 0 1 ${n+e-s} ${i+r}`]:[],`H${n+s}`,...a?[`A${s} ${o} 0 0 1 ${n} ${i+r-o}`]:[],`V${i+o}`,...a?[`A${s} ${o} 0 0 1 ${n+s} ${i}`]:[],"Z"].join(" ")},ellipse:t=>{const e=parseFloat(t.getAttribute("cx")||"0"),r=parseFloat(t.getAttribute("cy")||"0"),n=parseFloat(t.getAttribute("rx")??t.getAttribute("r")??"0"),i=parseFloat(t.getAttribute("ry")??t.getAttribute("r")??"0");return[`M${e+n} ${r}`,`A${n} ${i} 0 0 1 ${e} ${r+i}`,`A${n} ${i} 0 0 1 ${e-n} ${r}`,`A${n} ${i} 0 0 1 ${e+n} ${r}`,"Z"].join(" ")},circle:t=>gr.ellipse(t),line:t=>`M${t.getAttribute("x1")||"0"} ${t.getAttribute("y1")||"0"} L${t.getAttribute("x2")||"0"} ${t.getAttribute("y2")||"0"}`,polyline:t=>((t,e=2)=>{const r=[];for(;t.length>0;)r.push(t.splice(0,e));return r})((t.getAttribute("points")||"").trim().replace(/  +/g," ").split(" ").reduce(((t,e)=>[...t,...e.includes(",")?e.split(","):[e]]),[]),2).map((([t,e],r)=>`${0===r?"M":"L"}${t} ${e}`)).join(" "),polygon:t=>gr.polyline(t)+" Z",path:t=>t.getAttribute("d")+""};class yr{static isSVG(t){return yr.SVG_REGEX.test(t.replace(yr.COMMENT_REGEX,""))}static getWindowInstance(){return yr.windowInstance}static setWindowInstance(t){yr.windowInstance=t}static stringToSVG(t){if(t=t.trim(),!yr.isSVG(t))return console.warn("[Urpflanze:SVGImport] | Input is not valid SVG string",t),null;const e=yr.windowInstance.document.createElement("div");return e.innerHTML=t,e.firstChild}static parse(t,e=.01,r){if(!1===yr.isSVG(t))return console.warn("[Urpflanze:SVGImport] | Input is not valid svg",t),null;const n=yr.svgToBuffers(t,e);return n?yr.parsedToShape(n,r):null}static parsedToShape(t,e){const r=[];if(t.buffers.forEach(((t,n)=>{const i=new Qe.ShapeBuffer({shape:t.buffer,bClosed:t.bClosed,sideLength:e,drawer:t.drawer});i&&r.push(i)})),1===r.length)return r[0];const n=new Qe.Group;return r.forEach((t=>n.add(t))),new Qe.Shape({shape:n})}static svgToBuffers(t,e=.01){const r="string"==typeof t?yr.stringToSVG(t):t;if(null===r)return console.error("[Urpflanze:SVGImport] | Cannot convert string to svg",t),null;const n=yr.getViewbox(r);r.querySelectorAll("g").forEach(yr.propagateGroupTransformAndStyleToChildren);const i=Array.from(r.querySelectorAll("rect, circle, ellipse, line, polyline, polygon, path")),s=[].concat(...i.map((t=>yr.elementToPath(t)))),o=Math.max(n[2]-n[0],n[3]-n[1]).toExponential(1).match(/e(\+?[0-9]+)/),a=10/(1e3/Math.min(10**Math.max(o?+o[1]:0,0),1e3));let h=s.map((t=>yr.pathToBuffer(t,a,n))).filter((t=>!!t&&t.length>=2));h=h.map((t=>yr.simpliyBuffer(t,e))),h=h.map(((t,e)=>yr.pathIsClosed(s[e])&&Qe.Vec2.distance([t[0],t[1]],[t[t.length-2],t[t.length-1]])<1?t.subarray(0,t.length-2):t));const u=Math.sqrt((n[2]-n[0])*(n[3]-n[1])),c=yr.getStyleAttr("fill",r),l=yr.getStyleAttr("stroke",r),f=yr.getStyleAttr("stroke-width",r,u/100),d=[];for(let t=0;t<h.length;t++){const e=s[t].getAttribute("stroke-width");let r;e&&(r=e.indexOf("%")>=0?mr(parseFloat(e),u):parseFloat(e));const n=yr.getStyleAttr("fill",s[t],c||void 0),i=yr.getStyleAttr("stroke",s[t],n?void 0:l||"rgba(255,255,255)"),o=r||(i?f:void 0);d.push({buffer:h[t],bClosed:yr.pathIsClosed(s[t]),drawer:{fill:n,stroke:i,lineWidth:o?o/(u/100):void 0}})}return i.forEach((t=>t.remove())),{viewBox:n,buffers:d}}static getStyleAttr(t,e,r){const n=e.getAttribute(t);if("none"===n)return;let i;if(null!=n)i=n;else{const r="stroke-width"===t?"strokeWidth":t;void 0!==e.style[r]&&e.style[r].length>0&&(i=e.style[r])}if(void 0===i)return r;if("stroke-width"===t)return parseFloat(i);let s=parseFloat(e.getAttribute("opacity")||"1");const o=e.getAttribute("style");if(o&&o.length){const e=new RegExp(`${t}-opacity: +?(\\d?.\\d|\\d)`,"i"),r=o.match(e);r&&(s=parseFloat(r[1]))}const a=(0,Ze.parseColor)(i);return a?(s=1!==a.alpha?a.alpha:s,"rgb"===a.type?`rgba(${a.a}, ${a.b}, ${a.c}, ${s})`:`hsla(${a.a}, ${a.b}%, ${a.c}%, ${s})`):r}static getViewbox(t){const e=t.getAttribute("viewBox");if(e)return e.split(" ").map((t=>parseFloat(t)));const r=t.getAttribute("width"),n=t.getAttribute("height");if(r&&n)return[0,0,parseFloat(r),parseFloat(n)];t=t.cloneNode(!0);const i=Array.from(t.querySelectorAll("rect, circle, ellipse, line, polyline, polygon, path")),s=[].concat.apply([],i.map(yr.elementToPath));let o=0,a=0;for(let t=0,e=s.length;t<e;t++){const e=yr.pathToBuffer(s[t],1);if(e){const t=Qe.Modifiers.Adapt.getBounding(e);t.width+=t.x,t.height+=t.y,t.width>o&&(o=t.width),t.height>a&&(a=t.height)}}return[0,0,o,a]}static pathIsClosed(t){return"z"===t.getAttribute("d")?.trim().substr(-1).toLowerCase()}static simpliyBuffer(t,e=.01){const r=[];for(let e=0,n=t.length;e<n;e+=2)r.push({x:t[e],y:t[e+1]});const n=Je()(r,e,!0),i=new Float32Array(2*n.length);return n.forEach(((t,e)=>{i[2*e]=t.x,i[2*e+1]=t.y})),i}static sanitizePath(t,e){return Ke(t).abs().unarc().transform(e||"").toString()}static pathToBuffer(t,e=.01,r=[-1,-1,1,1]){const n=r[2]-r[0],i=r[3]-r[1],s=2/Math.max(n,i),o=t.getAttribute("d"),a=t.getAttribute("transform")||"",h=new ye({d:yr.sanitizePath(o,a)}),u=Math.floor(h.length()),c=2*Math.floor(u/e),l=new Float32Array(c);let f=0;for(let t=0;t<u;t+=e){const{x:e,y:r}=h.pointAt(t);l[f]=s*(e-n/2),l[f+1]=s*(r-i/2),f+=2}return l.subarray(0,f)}static propagateGroupTransformAndStyleToChildren(t){const e=t.getAttribute("transform");if(e&&e.length>0){const r=nr(lr(pr(e))),n=t.children;Array.from(n).forEach((t=>{let n=t.getAttribute("transform");if(n&&n.length>0){const t=nr(lr(pr(n)));n=function(t){return function(t){return`matrix(${t.a},${t.b},${t.c},${t.d},${t.e},${t.f})`}(t)}(nr(r,t))}else n=e;t.setAttribute("transform",n)}))}["fill","stroke","stroke-width","style"].forEach((e=>{const r=t.getAttribute(e);r&&Array.from(t.children).forEach((t=>{null===t.getAttribute(e)&&t.setAttribute(e,r)}))}))}static elementToPath(t){const e=yr.windowInstance.document;let r=[];return"path"===t.nodeName?r=Ke(t.getAttribute("d")||"").abs().unarc().toString().split("M").filter((t=>t.length>0)).map((t=>"M"+t)):["rect","ellipse","circle","line","polyline","polygon"].includes(t.nodeName)?r=[gr[t.nodeName](t)]:console.warn(`[Urpflanze:SVGImport] | Cannot convert ${t.nodeName} to path`),r.map((r=>{const n=e.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",r),n.setAttribute("transform",t.getAttribute("transform")||""),n.setAttribute("style",t.getAttribute("style")||""),n.setAttribute("fill",yr.getStyleAttr("fill",t,"")+""),n.setAttribute("stroke",yr.getStyleAttr("stroke",t,"")+""),n.setAttribute("opacity",t.getAttribute("opacity")||"1"),n.setAttribute("stroke-width",yr.getStyleAttr("stroke-width",t,"")+""),n}))}}yr.HEX_REGEX="#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})",yr.SVG_REGEX=/^\s*(?:<\?xml[^>]*>\s*)?(?:<!doctype svg[^>]*\s*(?:\[?(?:\s*<![^>]*>\s*)*\]?)*[^>]*>\s*)?(?:<svg[^>]*>[^]*<\/svg>|<svg[^/>]*\/\s*>)\s*$/i,yr.COMMENT_REGEX=/<!--([\s\S]*?)-->/g,yr.setWindowInstance(window);const vr=yr})();var i=n.P,s=n.Z;export{i as SVGImporter,s as default};