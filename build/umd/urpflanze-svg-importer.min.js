/*! For license information please see urpflanze-svg-importer.min.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.SVGImporter=e():t.SVGImporter=e()}(window,(function(){return(()=>{var t={877:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SVGImporter=void 0;const n=r(500),i=r(968),s=r(513),a=r(795),o=r(511),h=r(448),u=r(439),c=r(479),l=r(222),f=r(197),d=r(825);class p{static isSVG(t){return p.SVG_REGEX.test(t.replace(p.COMMENT_REGEX,""))}static getWindowInstance(){return p.windowInstance}static setWindowInstance(t){p.windowInstance=t}static stringToSVG(t){if(t=t.trim(),!p.isSVG(t))return console.warn("[Urpflanze:SVGImport] | Input is not valid SVG string",t),null;const e=p.windowInstance.document.createElement("div");return e.innerHTML=t,e.firstChild}static parse(t,e=50,r=.01){if(!1===p.isSVG(t))return console.warn("[Urpflanze:SVGImport] | Input is not valid svg",t),null;const n=p.svgToBuffers(t,r);return n?p.parsedToShape(n,e):null}static parsedToShape(t,e){const r=[];if(t.buffers.forEach(((t,n)=>{const i=new u.ShapeBuffer({shape:t.buffer,bClosed:t.bClosed,sideLength:e,drawer:t.drawer});i&&r.push(i)})),1===r.length)return r[0];const n=new s.Group;return r.forEach((t=>n.add(t))),new h.Shape({shape:n})}static svgToBuffers(t,e=.01){const r="string"==typeof t?p.stringToSVG(t):t;if(null===r)return console.error("[Urpflanze:SVGImport] | Cannot convert string to svg",t),null;const n=p.getViewbox(r);r.querySelectorAll("g").forEach(p.propagateGroupTransformAndStyleToChildren);const i=Array.from(r.querySelectorAll("rect, circle, ellipse, line, polyline, polygon, path")),s=[].concat(...i.map((t=>p.elementToPath(t)))),o=Math.max(n[2]-n[0],n[3]-n[1]).toExponential(1).match(/e(\+?[0-9]+)/),h=10/(1e3/Math.min(10**Math.max(o?+o[1]:0,0),1e3));let u=s.map((t=>p.pathToBuffer(t,h,n))).filter((t=>!!t&&t.length>=2));u=u.map((t=>p.simpliyBuffer(t,e))),u=u.map(((t,e)=>p.pathIsClosed(s[e])&&a.default.distance([t[0],t[1]],[t[t.length-2],t[t.length-1]])<1?t.subarray(0,t.length-2):t));const c=Math.sqrt((n[2]-n[0])*(n[3]-n[1])),l=p.getStyleAttr("fill",r),f=p.getStyleAttr("stroke",r),m=p.getStyleAttr("stroke-width",r,c/100),g=[];for(let t=0;t<u.length;t++){const e=s[t].getAttribute("stroke-width");let r;e&&(r=e.indexOf("%")>=0?d.fromPercentage(parseFloat(e),c):parseFloat(e));const n=p.getStyleAttr("fill",s[t],l||void 0),i=p.getStyleAttr("stroke",s[t],n?void 0:f||"rgba(255,255,255)"),a=r||(i?m:void 0);g.push({buffer:u[t],bClosed:p.pathIsClosed(s[t]),drawer:{fill:n,stroke:i,lineWidth:a?a/(c/100):void 0}})}return i.forEach((t=>t.remove())),{viewBox:n,buffers:g}}static getStyleAttr(t,e,r){const n=e.getAttribute(t);if("none"===n)return;let s;if(null!=n)s=n;else{const r="stroke-width"===t?"strokeWidth":t;void 0!==e.style[r]&&e.style[r].length>0&&(s=e.style[r])}if(void 0===s)return r;if("stroke-width"===t)return parseFloat(s);let a=parseFloat(e.getAttribute("opacity")||"1");const o=e.getAttribute("style");if(o&&o.length){const e=new RegExp(`${t}-opacity: +?(\\d?.\\d|\\d)`,"i"),r=o.match(e);r&&(a=parseFloat(r[1]))}const h=i.parseColor(s);return h?(a=1!==h.alpha?h.alpha:a,"rgb"===h.type?`rgba(${h.a}, ${h.b}, ${h.c}, ${a})`:`hsla(${h.a}, ${h.b}%, ${h.c}%, ${a})`):r}static getViewbox(t){const e=t.getAttribute("viewBox");if(e)return e.split(" ").map((t=>parseFloat(t)));const r=t.getAttribute("width"),n=t.getAttribute("height");if(r&&n)return[0,0,parseFloat(r),parseFloat(n)];t=t.cloneNode(!0);const i=Array.from(t.querySelectorAll("rect, circle, ellipse, line, polyline, polygon, path")),s=[].concat.apply([],i.map(p.elementToPath));let a=0,h=0;for(let t=0,e=s.length;t<e;t++){const e=p.pathToBuffer(s[t],1);if(e){const t=o.Adapt.getBounding(e);t.width+=t.x,t.height+=t.y,t.width>a&&(a=t.width),t.height>h&&(h=t.height)}}return[0,0,a,h]}static pathIsClosed(t){var e;return"z"===(null===(e=t.getAttribute("d"))||void 0===e?void 0:e.trim().substr(-1).toLowerCase())}static simpliyBuffer(t,e=.01){const r=[];for(let e=0,n=t.length;e<n;e+=2)r.push({x:t[e],y:t[e+1]});const n=c(r,e,!0),i=new Float32Array(2*n.length);return n.forEach(((t,e)=>{i[2*e]=t.x,i[2*e+1]=t.y})),i}static sanitizePath(t,e){return l(t).abs().unarc().transform(e||"").toString()}static pathToBuffer(t,e=.01,r=[-1,-1,1,1]){const i=r[2]-r[0],s=r[3]-r[1],a=2/Math.max(i,s),o=t.getAttribute("d"),h=t.getAttribute("transform")||"",u=new n.Path({d:p.sanitizePath(o,h)}),c=Math.floor(u.length()),l=2*Math.floor(c/e),f=new Float32Array(l);let d=0;for(let t=0;t<c;t+=e){const{x:e,y:r}=u.pointAt(t);f[d]=a*(e-i/2),f[d+1]=a*(r-s/2),d+=2}return f.subarray(0,d)}static propagateGroupTransformAndStyleToChildren(t){const e=t.getAttribute("transform");if(e&&e.length>0){const r=f.compose(f.fromDefinition(f.fromTransformAttribute(e))),n=t.children;Array.from(n).forEach((t=>{let n=t.getAttribute("transform");if(n&&n.length>0){const t=f.compose(f.fromDefinition(f.fromTransformAttribute(n))),e=f.compose(r,t);n=f.toSVG(e)}else n=e;t.setAttribute("transform",n)}))}["fill","stroke","stroke-width","style"].forEach((e=>{const r=t.getAttribute(e);r&&Array.from(t.children).forEach((t=>{null===t.getAttribute(e)&&t.setAttribute(e,r)}))}))}static elementToPath(t){const e=p.windowInstance.document;let r=[];return"path"===t.nodeName?r=l(t.getAttribute("d")||"").abs().unarc().toString().split("M").filter((t=>t.length>0)).map((t=>"M"+t)):["rect","ellipse","circle","line","polyline","polygon"].includes(t.nodeName)?r=[d.conversion[t.nodeName](t)]:console.warn(`[Urpflanze:SVGImport] | Cannot convert ${t.nodeName} to path`),r.map((r=>{const n=e.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",r),n.setAttribute("transform",t.getAttribute("transform")||""),n.setAttribute("style",t.getAttribute("style")||""),n.setAttribute("fill",p.getStyleAttr("fill",t,"")+""),n.setAttribute("stroke",p.getStyleAttr("stroke",t,"")+""),n.setAttribute("opacity",t.getAttribute("opacity")||"1"),n.setAttribute("stroke-width",p.getStyleAttr("stroke-width",t,"")+""),n}))}}e.SVGImporter=p,p.HEX_REGEX="#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})",p.SVG_REGEX=/^\s*(?:<\?xml[^>]*>\s*)?(?:<!doctype svg[^>]*\s*(?:\[?(?:\s*<![^>]*>\s*)*\]?)*[^>]*>\s*)?(?:<svg[^>]*>[^]*<\/svg>|<svg[^/>]*\/\s*>)\s*$/i,p.COMMENT_REGEX=/<!--([\s\S]*?)-->/g},625:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.SVGImporter=void 0;const s=r(877);Object.defineProperty(e,"SVGImporter",{enumerable:!0,get:function(){return s.SVGImporter}}),i(r(291),e),s.SVGImporter.setWindowInstance(window),e.default=s.SVGImporter},291:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},825:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.conversion=e.fromPercentage=void 0,e.fromPercentage=(t,e)=>/%$/.test(t+"")?100*parseFloat((t+"").replace("%",""))/e:+t;const r={rect:t=>{const r=parseFloat(t.getAttribute("width")||"0"),n=parseFloat(t.getAttribute("height")||"0"),i=parseFloat(t.getAttribute("x")||"0"),s=parseFloat(t.getAttribute("y")||"0");let a=t.getAttribute("rx")||"auto",o=t.getAttribute("ry")||"auto";"auto"===a&&"auto"===o?a=o=0:"auto"!==a&&"auto"===o?a=o=e.fromPercentage(a,r):"auto"!==o&&"auto"===a?o=a=e.fromPercentage(o,n):(a=e.fromPercentage(a,r),o=e.fromPercentage(o,n)),a>r/2&&(a=r/2),o>n/2&&(o=n/2);const h=a>0&&o>0;return[`M${i+a} ${s}`,"H"+(i+r-a),...h?[`A${a} ${o} 0 0 1 ${i+r} ${s+o}`]:[],"V"+(s+n-o),...h?[`A${a} ${o} 0 0 1 ${i+r-a} ${s+n}`]:[],`H${i+a}`,...h?[`A${a} ${o} 0 0 1 ${i} ${s+n-o}`]:[],`V${s+o}`,...h?[`A${a} ${o} 0 0 1 ${i+a} ${s}`]:[],"Z"].join(" ")},ellipse:t=>{var e,r,n,i;const s=parseFloat(t.getAttribute("cx")||"0"),a=parseFloat(t.getAttribute("cy")||"0"),o=parseFloat(null!==(r=null!==(e=t.getAttribute("rx"))&&void 0!==e?e:t.getAttribute("r"))&&void 0!==r?r:"0"),h=parseFloat(null!==(i=null!==(n=t.getAttribute("ry"))&&void 0!==n?n:t.getAttribute("r"))&&void 0!==i?i:"0");return[`M${s+o} ${a}`,`A${o} ${h} 0 0 1 ${s} ${a+h}`,`A${o} ${h} 0 0 1 ${s-o} ${a}`,`A${o} ${h} 0 0 1 ${s+o} ${a}`,"Z"].join(" ")},circle:t=>r.ellipse(t),line:t=>`M${t.getAttribute("x1")||"0"} ${t.getAttribute("y1")||"0"} L${t.getAttribute("x2")||"0"} ${t.getAttribute("y2")||"0"}`,polyline:t=>((t,e=2)=>{const r=[];for(;t.length>0;)r.push(t.splice(0,e));return r})((t.getAttribute("points")||"").trim().replace(/  +/g," ").split(" ").reduce(((t,e)=>[...t,...e.includes(",")?e.split(","):[e]]),[]),2).map((([t,e],r)=>`${0===r?"M":"L"}${t} ${e}`)).join(" "),polygon:t=>r.polyline(t)+" Z",path:t=>t.getAttribute("d")+""};e.conversion=r},500:(t,e,r)=>{"use strict";r.r(e),r.d(e,{A:()=>ur,Animator:()=>$e,Array:()=>qt,Box:()=>mt,Circle:()=>ir,ClipPath:()=>sr,Color:()=>ut,Container:()=>Lt,Controller:()=>pe,Defs:()=>zt,Dom:()=>jt,Ease:()=>de,Element:()=>Bt,Ellipse:()=>Wt,EventTarget:()=>Et,ForeignObject:()=>ar,Fragment:()=>Jt,G:()=>hr,Gradient:()=>ne,Image:()=>se,Line:()=>he,List:()=>yt,Marker:()=>ue,Mask:()=>cr,Matrix:()=>ft,Morphable:()=>Oe,NonMorphable:()=>Pe,Number:()=>Rt,ObjectBag:()=>qe,PID:()=>ye,Path:()=>Be,PathArray:()=>Ce,Pattern:()=>ie,Point:()=>ct,PointArray:()=>ae,Polygon:()=>Le,Polyline:()=>ze,Queue:()=>Ve,Rect:()=>De,Runner:()=>Ue,SVG:()=>mr,Shape:()=>Dt,Spring:()=>ge,Stop:()=>lr,Style:()=>fr,Svg:()=>Ke,Symbol:()=>tr,Text:()=>rr,TextPath:()=>dr,Timeline:()=>Xe,TransformBag:()=>Te,Tspan:()=>nr,Use:()=>pr,adopt:()=>j,assignNewId:()=>$,clearEvents:()=>At,create:()=>q,defaults:()=>It,dispatch:()=>Ct,easing:()=>le,eid:()=>V,extend:()=>Y,find:()=>bt,getClass:()=>z,getEventTarget:()=>_t,getEvents:()=>wt,getWindow:()=>O,makeInstance:()=>R,makeMorphable:()=>je,mockAdopt:()=>N,namespaces:()=>w,nodeOrNew:()=>F,off:()=>kt,on:()=>St,parser:()=>dt,regex:()=>st,register:()=>L,registerMorphableType:()=>Fe,registerWindow:()=>A,restoreWindow:()=>C,root:()=>I,saveWindow:()=>k,utils:()=>g,windowEvents:()=>Mt,withWindow:()=>E,wrapWithAttrCheck:()=>G});const n={},i=[];function s(t,e){if(Array.isArray(t))for(const r of t)s(r,e);else if("object"!=typeof t)o(Object.getOwnPropertyNames(e)),n[t]=Object.assign(n[t]||{},e);else for(const e in t)s(e,t[e])}function a(t){return n[t]||{}}function o(t){i.push(...t)}function h(t,e){let r;const n=t.length,i=[];for(r=0;r<n;r++)i.push(e(t[r]));return i}function u(t,e){let r;const n=t.length,i=[];for(r=0;r<n;r++)e(t[r])&&i.push(t[r]);return i}function c(t){return t%360*Math.PI/180}function l(t){return t.toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))}function f(t){return t.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()}))}function d(t){return t.charAt(0).toUpperCase()+t.slice(1)}function p(t,e,r,n){return null!=e&&null!=r||(n=n||t.bbox(),null==e?e=n.width/n.height*r:null==r&&(r=n.height/n.width*e)),{width:e,height:r}}function m(t,e){const r=t.origin;let n=null!=t.ox?t.ox:null!=t.originX?t.originX:"center",i=null!=t.oy?t.oy:null!=t.originY?t.originY:"center";null!=r&&([n,i]=Array.isArray(r)?r:"object"==typeof r?[r.x,r.y]:[r,r]);const s="string"==typeof n,a="string"==typeof i;if(s||a){const{height:t,width:r,x:o,y:h}=e.bbox();s&&(n=n.includes("left")?o:n.includes("right")?o+r:o+r/2),a&&(i=i.includes("top")?h:i.includes("bottom")?h+t:h+t/2)}return[n,i]}var g={__proto__:null,map:h,filter:u,radians:c,degrees:function(t){return 180*t/Math.PI%360},camelCase:l,unCamelCase:f,capitalize:d,proportionalSize:p,getOrigin:m};const y="http://www.w3.org/2000/svg",v="http://www.w3.org/1999/xhtml",b="http://www.w3.org/2000/xmlns/",x="http://www.w3.org/1999/xlink",M="http://svgjs.dev/svgjs";var w={__proto__:null,svg:y,html:v,xmlns:b,xlink:x,svgjs:M};const _={window:"undefined"==typeof window?null:window,document:"undefined"==typeof document?null:document};function A(t=null,e=null){_.window=t,_.document=e}const S={};function k(){S.window=_.window,S.document=_.document}function C(){_.window=S.window,_.document=S.document}function E(t,e){k(),A(t,t.document),e(t,t.document),C()}function O(){return _.window}class P{}const T={},I="___SYMBOL___ROOT___";function q(t,e=y){return _.document.createElementNS(e,t)}function R(t,e=!1){if(t instanceof P)return t;if("object"==typeof t)return B(t);if(null==t)return new T[I];if("string"==typeof t&&"<"!==t.charAt(0))return B(_.document.querySelector(t));const r=e?_.document.createElement("div"):q("svg");return r.innerHTML=t,t=B(r.firstChild),r.removeChild(r.firstChild),t}function F(t,e){return e instanceof _.window.Node?e:q(t)}function j(t){if(!t)return null;if(t.instance instanceof P)return t.instance;if("#document-fragment"===t.nodeName)return new T.Fragment(t);let e=d(t.nodeName||"Dom");return"LinearGradient"===e||"RadialGradient"===e?e="Gradient":T[e]||(e="Dom"),new T[e](t)}let B=j;function N(t=j){B=t}function L(t,e=t.name,r=!1){return T[e]=t,r&&(T[I]=t),o(Object.getOwnPropertyNames(t.prototype)),t}function z(t){return T[t]}let D=1e3;function V(t){return"Svgjs"+d(t)+D++}function $(t){for(let e=t.children.length-1;e>=0;e--)$(t.children[e]);return t.id?(t.id=V(t.nodeName),t):t}function Y(t,e){let r,n;for(n=(t=Array.isArray(t)?t:[t]).length-1;n>=0;n--)for(r in e)t[n].prototype[r]=e[r]}function G(t){return function(...e){const r=e[e.length-1];return!r||r.constructor!==Object||r instanceof Array?t.apply(this,e):t.apply(this,e.slice(0,-1)).attr(r)}}s("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const t=this.position();return this.parent().add(this.remove(),t+1),this},backward:function(){const t=this.position();return this.parent().add(this.remove(),t?t-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(t){(t=R(t)).remove();const e=this.position();return this.parent().add(t,e),this},after:function(t){(t=R(t)).remove();const e=this.position();return this.parent().add(t,e+1),this},insertBefore:function(t){return(t=R(t)).before(this),this},insertAfter:function(t){return(t=R(t)).after(this),this}});const X=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,U=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,H=/rgb\((\d+),(\d+),(\d+)\)/,Z=/(#[a-z_][a-z0-9\-_]*)/i,Q=/\)\s*,?\s*/,W=/\s/g,J=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,K=/^rgb\(/,tt=/^(\s+)?$/,et=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rt=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,nt=/[\s,]+/,it=/[MLHVCSQTAZ]/i;var st={__proto__:null,numberAndUnit:X,hex:U,rgb:H,reference:Z,transforms:Q,whitespace:W,isHex:J,isRgb:K,isBlank:tt,isNumber:et,isImage:rt,delimiter:nt,isPathLetter:it};function at(t){const e=Math.round(t),r=Math.max(0,Math.min(255,e)).toString(16);return 1===r.length?"0"+r:r}function ot(t,e){for(let r=e.length;r--;)if(null==t[e[r]])return!1;return!0}function ht(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}s("Dom",{classes:function(){const t=this.attr("class");return null==t?[]:t.trim().split(nt)},hasClass:function(t){return-1!==this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){const e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter((function(e){return e!==t})).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)}}),s("Dom",{css:function(t,e){const r={};if(0===arguments.length)return this.node.style.cssText.split(/\s*;\s*/).filter((function(t){return!!t.length})).forEach((function(t){const e=t.split(/\s*:\s*/);r[e[0]]=e[1]})),r;if(arguments.length<2){if(Array.isArray(t)){for(const e of t){const t=l(e);r[t]=this.node.style[t]}return r}if("string"==typeof t)return this.node.style[l(t)];if("object"==typeof t)for(const e in t)this.node.style[l(e)]=null==t[e]||tt.test(t[e])?"":t[e]}return 2===arguments.length&&(this.node.style[l(t)]=null==e||tt.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return"none"!==this.css("display")}}),s("Dom",{data:function(t,e,r){if(null==t)return this.data(h(u(this.node.attributes,(t=>0===t.nodeName.indexOf("data-"))),(t=>t.nodeName.slice(5))));if(t instanceof Array){const e={};for(const r of t)e[r]=this.data(r);return e}if("object"==typeof t)for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch(e){return this.attr("data-"+t)}else this.attr("data-"+t,null===e?null:!0===r||"string"==typeof e||"number"==typeof e?e:JSON.stringify(e));return this}}),s("Dom",{remember:function(t,e){if("object"==typeof arguments[0])for(const e in t)this.remember(e,t[e]);else{if(1===arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0===arguments.length)this._memory={};else for(let t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory=this._memory||{}}});class ut{constructor(...t){this.init(...t)}static isColor(t){return t&&(t instanceof ut||this.isRgb(t)||this.test(t))}static isRgb(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b}static random(t="vibrant",e,r){const{random:n,round:i,sin:s,PI:a}=Math;if("vibrant"===t){const t=24*n()+57,e=38*n()+45,r=360*n();return new ut(t,e,r,"lch")}if("sine"===t){const t=i(80*s(2*a*(e=null==e?n():e)/.5+.01)+150),r=i(50*s(2*a*e/.5+4.6)+200),o=i(100*s(2*a*e/.5+2.3)+150);return new ut(t,r,o)}if("pastel"===t){const t=8*n()+86,e=17*n()+9,r=360*n();return new ut(t,e,r,"lch")}if("dark"===t){const t=10+10*n(),e=50*n()+86,r=360*n();return new ut(t,e,r,"lch")}if("rgb"===t){const t=255*n(),e=255*n(),r=255*n();return new ut(t,e,r)}if("lab"===t){const t=100*n(),e=256*n()-128,r=256*n()-128;return new ut(t,e,r,"lab")}if("grey"===t){const t=255*n();return new ut(t,t,t)}throw new Error("Unsupported random color mode")}static test(t){return"string"==typeof t&&(J.test(t)||K.test(t))}cmyk(){const{_a:t,_b:e,_c:r}=this.rgb(),[n,i,s]=[t,e,r].map((t=>t/255)),a=Math.min(1-n,1-i,1-s);return 1===a?new ut(0,0,0,1,"cmyk"):new ut((1-n-a)/(1-a),(1-i-a)/(1-a),(1-s-a)/(1-a),a,"cmyk")}hsl(){const{_a:t,_b:e,_c:r}=this.rgb(),[n,i,s]=[t,e,r].map((t=>t/255)),a=Math.max(n,i,s),o=Math.min(n,i,s),h=(a+o)/2,u=a===o,c=a-o;return new ut(360*(u?0:a===n?((i-s)/c+(i<s?6:0))/6:a===i?((s-n)/c+2)/6:a===s?((n-i)/c+4)/6:0),100*(u?0:h>.5?c/(2-a-o):c/(a+o)),100*h,"hsl")}init(t=0,e=0,r=0,n=0,i="rgb"){if(t=t||0,this.space)for(const t in this.space)delete this[this.space[t]];if("number"==typeof t)i="string"==typeof n?n:i,n="string"==typeof n?0:n,Object.assign(this,{_a:t,_b:e,_c:r,_d:n,space:i});else if(t instanceof Array)this.space=e||("string"==typeof t[3]?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object){const r=function(t,e){const r=ot(t,"rgb")?{_a:t.r,_b:t.g,_c:t.b,_d:0,space:"rgb"}:ot(t,"xyz")?{_a:t.x,_b:t.y,_c:t.z,_d:0,space:"xyz"}:ot(t,"hsl")?{_a:t.h,_b:t.s,_c:t.l,_d:0,space:"hsl"}:ot(t,"lab")?{_a:t.l,_b:t.a,_c:t.b,_d:0,space:"lab"}:ot(t,"lch")?{_a:t.l,_b:t.c,_c:t.h,_d:0,space:"lch"}:ot(t,"cmyk")?{_a:t.c,_b:t.m,_c:t.y,_d:t.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return r.space=e||r.space,r}(t,e);Object.assign(this,r)}else if("string"==typeof t)if(K.test(t)){const e=t.replace(W,""),[r,n,i]=H.exec(e).slice(1,4).map((t=>parseInt(t)));Object.assign(this,{_a:r,_b:n,_c:i,_d:0,space:"rgb"})}else{if(!J.test(t))throw Error("Unsupported string format, can't construct Color");{const e=t=>parseInt(t,16),[,r,n,i]=U.exec(function(t){return 4===t.length?["#",t.substring(1,2),t.substring(1,2),t.substring(2,3),t.substring(2,3),t.substring(3,4),t.substring(3,4)].join(""):t}(t)).map(e);Object.assign(this,{_a:r,_b:n,_c:i,_d:0,space:"rgb"})}}const{_a:s,_b:a,_c:o,_d:h}=this,u="rgb"===this.space?{r:s,g:a,b:o}:"xyz"===this.space?{x:s,y:a,z:o}:"hsl"===this.space?{h:s,s:a,l:o}:"lab"===this.space?{l:s,a,b:o}:"lch"===this.space?{l:s,c:a,h:o}:"cmyk"===this.space?{c:s,m:a,y:o,k:h}:{};Object.assign(this,u)}lab(){const{x:t,y:e,z:r}=this.xyz();return new ut(116*e-16,500*(t-e),200*(e-r),"lab")}lch(){const{l:t,a:e,b:r}=this.lab(),n=Math.sqrt(e**2+r**2);let i=180*Math.atan2(r,e)/Math.PI;return i<0&&(i*=-1,i=360-i),new ut(t,n,i,"lch")}rgb(){if("rgb"===this.space)return this;if("lab"===(t=this.space)||"xyz"===t||"lch"===t){let{x:t,y:e,z:r}=this;if("lab"===this.space||"lch"===this.space){let{l:n,a:i,b:s}=this;if("lch"===this.space){const{c:t,h:e}=this,r=Math.PI/180;i=t*Math.cos(r*e),s=t*Math.sin(r*e)}const a=(n+16)/116,o=i/500+a,h=a-s/200,u=16/116,c=.008856,l=7.787;t=.95047*(o**3>c?o**3:(o-u)/l),e=1*(a**3>c?a**3:(a-u)/l),r=1.08883*(h**3>c?h**3:(h-u)/l)}const n=3.2406*t+-1.5372*e+-.4986*r,i=-.9689*t+1.8758*e+.0415*r,s=.0557*t+-.204*e+1.057*r,a=Math.pow,o=.0031308,h=n>o?1.055*a(n,1/2.4)-.055:12.92*n,u=i>o?1.055*a(i,1/2.4)-.055:12.92*i,c=s>o?1.055*a(s,1/2.4)-.055:12.92*s;return new ut(255*h,255*u,255*c)}if("hsl"===this.space){let{h:t,s:e,l:r}=this;if(t/=360,e/=100,r/=100,0===e)return r*=255,new ut(r,r,r);const n=r<.5?r*(1+e):r+e-r*e,i=2*r-n,s=255*ht(i,n,t+1/3),a=255*ht(i,n,t),o=255*ht(i,n,t-1/3);return new ut(s,a,o)}if("cmyk"===this.space){const{c:t,m:e,y:r,k:n}=this,i=255*(1-Math.min(1,t*(1-n)+n)),s=255*(1-Math.min(1,e*(1-n)+n)),a=255*(1-Math.min(1,r*(1-n)+n));return new ut(i,s,a)}return this;var t}toArray(){const{_a:t,_b:e,_c:r,_d:n,space:i}=this;return[t,e,r,n,i]}toHex(){const[t,e,r]=this._clamped().map(at);return`#${t}${e}${r}`}toRgb(){const[t,e,r]=this._clamped();return`rgb(${t},${e},${r})`}toString(){return this.toHex()}xyz(){const{_a:t,_b:e,_c:r}=this.rgb(),[n,i,s]=[t,e,r].map((t=>t/255)),a=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,o=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,h=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,u=(.4124*a+.3576*o+.1805*h)/.95047,c=(.2126*a+.7152*o+.0722*h)/1,l=(.0193*a+.1192*o+.9505*h)/1.08883,f=u>.008856?Math.pow(u,1/3):7.787*u+16/116,d=c>.008856?Math.pow(c,1/3):7.787*c+16/116,p=l>.008856?Math.pow(l,1/3):7.787*l+16/116;return new ut(f,d,p,"xyz")}_clamped(){const{_a:t,_b:e,_c:r}=this.rgb(),{max:n,min:i,round:s}=Math;return[t,e,r].map((t=>n(0,i(s(t),255))))}}class ct{constructor(...t){this.init(...t)}clone(){return new ct(this)}init(t,e){const r=Array.isArray(t)?{x:t[0],y:t[1]}:"object"==typeof t?{x:t.x,y:t.y}:{x:t,y:e};return this.x=null==r.x?0:r.x,this.y=null==r.y?0:r.y,this}toArray(){return[this.x,this.y]}transform(t){return this.clone().transformO(t)}transformO(t){ft.isMatrixLike(t)||(t=new ft(t));const{x:e,y:r}=this;return this.x=t.a*e+t.c*r+t.e,this.y=t.b*e+t.d*r+t.f,this}}function lt(t,e,r){return Math.abs(e-t)<(r||1e-6)}class ft{constructor(...t){this.init(...t)}static formatTransforms(t){const e="both"===t.flip||!0===t.flip,r=t.flip&&(e||"x"===t.flip)?-1:1,n=t.flip&&(e||"y"===t.flip)?-1:1,i=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,s=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,a=t.scale&&t.scale.length?t.scale[0]*r:isFinite(t.scale)?t.scale*r:isFinite(t.scaleX)?t.scaleX*r:r,o=t.scale&&t.scale.length?t.scale[1]*n:isFinite(t.scale)?t.scale*n:isFinite(t.scaleY)?t.scaleY*n:n,h=t.shear||0,u=t.rotate||t.theta||0,c=new ct(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),l=c.x,f=c.y,d=new ct(t.position||t.px||t.positionX||NaN,t.py||t.positionY||NaN),p=d.x,m=d.y,g=new ct(t.translate||t.tx||t.translateX,t.ty||t.translateY),y=g.x,v=g.y,b=new ct(t.relative||t.rx||t.relativeX,t.ry||t.relativeY);return{scaleX:a,scaleY:o,skewX:i,skewY:s,shear:h,theta:u,rx:b.x,ry:b.y,tx:y,ty:v,ox:l,oy:f,px:p,py:m}}static fromArray(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}static isMatrixLike(t){return null!=t.a||null!=t.b||null!=t.c||null!=t.d||null!=t.e||null!=t.f}static matrixMultiply(t,e,r){const n=t.a*e.a+t.c*e.b,i=t.b*e.a+t.d*e.b,s=t.a*e.c+t.c*e.d,a=t.b*e.c+t.d*e.d,o=t.e+t.a*e.e+t.c*e.f,h=t.f+t.b*e.e+t.d*e.f;return r.a=n,r.b=i,r.c=s,r.d=a,r.e=o,r.f=h,r}around(t,e,r){return this.clone().aroundO(t,e,r)}aroundO(t,e,r){const n=t||0,i=e||0;return this.translateO(-n,-i).lmultiplyO(r).translateO(n,i)}clone(){return new ft(this)}decompose(t=0,e=0){const r=this.a,n=this.b,i=this.c,s=this.d,a=this.e,o=this.f,h=r*s-n*i,u=h>0?1:-1,c=u*Math.sqrt(r*r+n*n),l=Math.atan2(u*n,u*r),f=180/Math.PI*l,d=Math.cos(l),p=Math.sin(l),m=(r*i+n*s)/h,g=i*c/(m*r-n)||s*c/(m*n+r);return{scaleX:c,scaleY:g,shear:m,rotate:f,translateX:a-t+t*d*c+e*(m*d*c-p*g),translateY:o-e+t*p*c+e*(m*p*c+d*g),originX:t,originY:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(t){if(t===this)return!0;const e=new ft(t);return lt(this.a,e.a)&&lt(this.b,e.b)&&lt(this.c,e.c)&&lt(this.d,e.d)&&lt(this.e,e.e)&&lt(this.f,e.f)}flip(t,e){return this.clone().flipO(t,e)}flipO(t,e){return"x"===t?this.scaleO(-1,1,e,0):"y"===t?this.scaleO(1,-1,0,e):this.scaleO(-1,-1,t,e||t)}init(t){const e=ft.fromArray([1,0,0,1,0,0]);return t=t instanceof Bt?t.matrixify():"string"==typeof t?ft.fromArray(t.split(nt).map(parseFloat)):Array.isArray(t)?ft.fromArray(t):"object"==typeof t&&ft.isMatrixLike(t)?t:"object"==typeof t?(new ft).transform(t):6===arguments.length?ft.fromArray([].slice.call(arguments)):e,this.a=null!=t.a?t.a:e.a,this.b=null!=t.b?t.b:e.b,this.c=null!=t.c?t.c:e.c,this.d=null!=t.d?t.d:e.d,this.e=null!=t.e?t.e:e.e,this.f=null!=t.f?t.f:e.f,this}inverse(){return this.clone().inverseO()}inverseO(){const t=this.a,e=this.b,r=this.c,n=this.d,i=this.e,s=this.f,a=t*n-e*r;if(!a)throw new Error("Cannot invert "+this);const o=n/a,h=-e/a,u=-r/a,c=t/a,l=-(o*i+u*s),f=-(h*i+c*s);return this.a=o,this.b=h,this.c=u,this.d=c,this.e=l,this.f=f,this}lmultiply(t){return this.clone().lmultiplyO(t)}lmultiplyO(t){const e=t instanceof ft?t:new ft(t);return ft.matrixMultiply(e,this,this)}multiply(t){return this.clone().multiplyO(t)}multiplyO(t){const e=t instanceof ft?t:new ft(t);return ft.matrixMultiply(this,e,this)}rotate(t,e,r){return this.clone().rotateO(t,e,r)}rotateO(t,e=0,r=0){t=c(t);const n=Math.cos(t),i=Math.sin(t),{a:s,b:a,c:o,d:h,e:u,f:l}=this;return this.a=s*n-a*i,this.b=a*n+s*i,this.c=o*n-h*i,this.d=h*n+o*i,this.e=u*n-l*i+r*i-e*n+e,this.f=l*n+u*i-e*i-r*n+r,this}scale(t,e,r,n){return this.clone().scaleO(...arguments)}scaleO(t,e=t,r=0,n=0){3===arguments.length&&(n=r,r=e,e=t);const{a:i,b:s,c:a,d:o,e:h,f:u}=this;return this.a=i*t,this.b=s*e,this.c=a*t,this.d=o*e,this.e=h*t-r*t+r,this.f=u*e-n*e+n,this}shear(t,e,r){return this.clone().shearO(t,e,r)}shearO(t,e=0,r=0){const{a:n,b:i,c:s,d:a,e:o,f:h}=this;return this.a=n+i*t,this.c=s+a*t,this.e=o+h*t-r*t,this}skew(t,e,r,n){return this.clone().skewO(...arguments)}skewO(t,e=t,r=0,n=0){3===arguments.length&&(n=r,r=e,e=t),t=c(t),e=c(e);const i=Math.tan(t),s=Math.tan(e),{a,b:o,c:h,d:u,e:l,f}=this;return this.a=a+o*i,this.b=o+a*s,this.c=h+u*i,this.d=u+h*s,this.e=l+f*i-n*i,this.f=f+l*s-r*s,this}skewX(t,e,r){return this.skew(t,0,e,r)}skewY(t,e,r){return this.skew(0,t,e,r)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(t){if(ft.isMatrixLike(t))return new ft(t).multiplyO(this);const e=ft.formatTransforms(t),{x:r,y:n}=new ct(e.ox,e.oy).transform(this),i=(new ft).translateO(e.rx,e.ry).lmultiplyO(this).translateO(-r,-n).scaleO(e.scaleX,e.scaleY).skewO(e.skewX,e.skewY).shearO(e.shear).rotateO(e.theta).translateO(r,n);if(isFinite(e.px)||isFinite(e.py)){const t=new ct(r,n).transform(i),s=isFinite(e.px)?e.px-t.x:0,a=isFinite(e.py)?e.py-t.y:0;i.translateO(s,a)}return i.translateO(e.tx,e.ty),i}translate(t,e){return this.clone().translateO(t,e)}translateO(t,e){return this.e+=t||0,this.f+=e||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function dt(){if(!dt.nodes){const t=R().size(2,0);t.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),t.attr("focusable","false"),t.attr("aria-hidden","true");const e=t.path().node;dt.nodes={svg:t,path:e}}if(!dt.nodes.svg.node.parentNode){const t=_.document.body||_.document.documentElement;dt.nodes.svg.addTo(t)}return dt.nodes}function pt(t){return!(t.width||t.height||t.x||t.y)}L(ft,"Matrix");class mt{constructor(...t){this.init(...t)}addOffset(){return this.x+=_.window.pageXOffset,this.y+=_.window.pageYOffset,new mt(this)}init(t){return t="string"==typeof t?t.split(nt).map(parseFloat):Array.isArray(t)?t:"object"==typeof t?[null!=t.left?t.left:t.x,null!=t.top?t.top:t.y,t.width,t.height]:4===arguments.length?[].slice.call(arguments):[0,0,0,0],this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return pt(this)}merge(t){const e=Math.min(this.x,t.x),r=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x+t.width)-e,i=Math.max(this.y+this.height,t.y+t.height)-r;return new mt(e,r,n,i)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(t){t instanceof ft||(t=new ft(t));let e=1/0,r=-1/0,n=1/0,i=-1/0;return[new ct(this.x,this.y),new ct(this.x2,this.y),new ct(this.x,this.y2),new ct(this.x2,this.y2)].forEach((function(s){s=s.transform(t),e=Math.min(e,s.x),r=Math.max(r,s.x),n=Math.min(n,s.y),i=Math.max(i,s.y)})),new mt(e,n,r-e,i-n)}}function gt(t,e,r){let n;try{if(n=e(t.node),pt(n)&&(i=t.node)!==_.document&&!(_.document.documentElement.contains||function(t){for(;t.parentNode;)t=t.parentNode;return t===_.document}).call(_.document.documentElement,i))throw new Error("Element not in the dom")}catch(e){n=r(t)}var i;return n}s({viewbox:{viewbox(t,e,r,n){return null==t?new mt(this.attr("viewBox")):this.attr("viewBox",new mt(t,e,r,n))},zoom(t,e){let{width:r,height:n}=this.attr(["width","height"]);if((r||n)&&"string"!=typeof r&&"string"!=typeof n||(r=this.node.clientWidth,n=this.node.clientHeight),!r||!n)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const i=this.viewbox(),s=r/i.width,a=n/i.height,o=Math.min(s,a);if(null==t)return o;let h=o/t;h===1/0&&(h=Number.MAX_SAFE_INTEGER/100),e=e||new ct(r/2/s+i.x,n/2/a+i.y);const u=new mt(i).transform(new ft({scale:h,origin:e}));return this.viewbox(u)}}}),L(mt,"Box");class yt extends Array{constructor(t=[],...e){if(super(t,...e),"number"==typeof t)return this;this.length=0,this.push(...t)}}Y([yt],{each(t,...e){return"function"==typeof t?this.map(((e,r,n)=>t.call(e,e,r,n))):this.map((r=>r[t](...e)))},toArray(){return Array.prototype.concat.apply([],this)}});const vt=["toArray","constructor","each"];function bt(t,e){return new yt(h((e||_.document).querySelectorAll(t),(function(t){return j(t)})))}yt.extend=function(t){t=t.reduce(((t,e)=>(vt.includes(e)||"_"===e[0]||(t[e]=function(...t){return this.each(e,...t)}),t)),{}),Y([yt],t)};let xt=0;const Mt={};function wt(t){let e=t.getEventHolder();return e===_.window&&(e=Mt),e.events||(e.events={}),e.events}function _t(t){return t.getEventTarget()}function At(t){let e=t.getEventHolder();e===_.window&&(e=Mt),e.events&&(e.events={})}function St(t,e,r,n,i){const s=r.bind(n||t),a=R(t),o=wt(a),h=_t(a);e=Array.isArray(e)?e:e.split(nt),r._svgjsListenerId||(r._svgjsListenerId=++xt),e.forEach((function(t){const e=t.split(".")[0],n=t.split(".")[1]||"*";o[e]=o[e]||{},o[e][n]=o[e][n]||{},o[e][n][r._svgjsListenerId]=s,h.addEventListener(e,s,i||!1)}))}function kt(t,e,r,n){const i=R(t),s=wt(i),a=_t(i);("function"!=typeof r||(r=r._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(nt)).forEach((function(t){const e=t&&t.split(".")[0],o=t&&t.split(".")[1];let h,u;if(r)s[e]&&s[e][o||"*"]&&(a.removeEventListener(e,s[e][o||"*"][r],n||!1),delete s[e][o||"*"][r]);else if(e&&o){if(s[e]&&s[e][o]){for(u in s[e][o])kt(a,[e,o].join("."),u);delete s[e][o]}}else if(o)for(t in s)for(h in s[t])o===h&&kt(a,[t,o].join("."));else if(e){if(s[e]){for(h in s[e])kt(a,[e,h].join("."));delete s[e]}}else{for(t in s)kt(a,t);At(i)}}))}function Ct(t,e,r,n){const i=_t(t);return e instanceof _.window.Event||(e=new _.window.CustomEvent(e,{detail:r,cancelable:!0,...n})),i.dispatchEvent(e),e}class Et extends P{addEventListener(){}dispatch(t,e,r){return Ct(this,t,e,r)}dispatchEvent(t){const e=this.getEventHolder().events;if(!e)return!0;const r=e[t.type];for(const e in r)for(const n in r[e])r[e][n](t);return!t.defaultPrevented}fire(t,e,r){return this.dispatch(t,e,r),this}getEventHolder(){return this}getEventTarget(){return this}off(t,e){return kt(this,t,e),this}on(t,e,r,n){return St(this,t,e,r,n),this}removeEventListener(){}}function Ot(){}L(Et,"EventTarget");const Pt={duration:400,ease:">",delay:0},Tt={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};var It={__proto__:null,noop:Ot,timeline:Pt,attrs:Tt};class qt extends Array{constructor(...t){super(...t),this.init(...t)}clone(){return new this.constructor(this)}init(t){return"number"==typeof t||(this.length=0,this.push(...this.parse(t))),this}parse(t=[]){return t instanceof Array?t:t.trim().split(nt).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const t=[];return t.push(...this),t}}class Rt{constructor(...t){this.init(...t)}convert(t){return new Rt(this.value,t)}divide(t){return t=new Rt(t),new Rt(this/t,this.unit||t.unit)}init(t,e){return e=Array.isArray(t)?t[1]:e,t=Array.isArray(t)?t[0]:t,this.value=0,this.unit=e||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:"string"==typeof t?(e=t.match(X))&&(this.value=parseFloat(e[1]),"%"===e[5]?this.value/=100:"s"===e[5]&&(this.value*=1e3),this.unit=e[5]):t instanceof Rt&&(this.value=t.valueOf(),this.unit=t.unit),this}minus(t){return t=new Rt(t),new Rt(this-t,this.unit||t.unit)}plus(t){return t=new Rt(t),new Rt(this+t,this.unit||t.unit)}times(t){return t=new Rt(t),new Rt(this*t,this.unit||t.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return("%"===this.unit?~~(1e8*this.value)/1e6:"s"===this.unit?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const Ft=[];class jt extends Et{constructor(t,e){super(),this.node=t,this.type=t.nodeName,e&&t!==e&&this.attr(e)}add(t,e){return(t=R(t)).removeNamespace&&this.node instanceof _.window.SVGElement&&t.removeNamespace(),null==e?this.node.appendChild(t.node):t.node!==this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this}addTo(t,e){return R(t).put(this,e)}children(){return new yt(h(this.node.children,(function(t){return j(t)})))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(t=!0){return this.writeDataToDom(),new this.constructor($(this.node.cloneNode(t)))}each(t,e){const r=this.children();let n,i;for(n=0,i=r.length;n<i;n++)t.apply(r[n],[n,r]),e&&r[n].each(t,e);return this}element(t,e){return this.put(new jt(q(t),e))}first(){return j(this.node.firstChild)}get(t){return j(this.node.childNodes[t])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(t){return this.index(t)>=0}html(t,e){return this.xml(t,e,v)}id(t){return void 0!==t||this.node.id||(this.node.id=V(this.type)),this.attr("id",t)}index(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}last(){return j(this.node.lastChild)}matches(t){const e=this.node,r=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector||null;return r&&r.call(e,t)}parent(t){let e=this;if(!e.node.parentNode)return null;if(e=j(e.node.parentNode),!t)return e;do{if("string"==typeof t?e.matches(t):e instanceof t)return e}while(e=j(e.node.parentNode));return e}put(t,e){return t=R(t),this.add(t,e),t}putIn(t,e){return R(t).add(this,e)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(t){return this.node.removeChild(t.node),this}replace(t){return t=R(t),this.node.parentNode&&this.node.parentNode.replaceChild(t.node,this.node),t}round(t=2,e=null){const r=10**t,n=this.attr(e);for(const t in n)"number"==typeof n[t]&&(n[t]=Math.round(n[t]*r)/r);return this.attr(n),this}svg(t,e){return this.xml(t,e,y)}toString(){return this.id()}words(t){return this.node.textContent=t,this}wrap(t){const e=this.parent();if(!e)return this.addTo(t);const r=e.index(this);return e.put(t,r).put(this)}writeDataToDom(){return this.each((function(){this.writeDataToDom()})),this}xml(t,e,r){if("boolean"==typeof t&&(r=e,e=t,t=null),null==t||"function"==typeof t){e=null==e||e,this.writeDataToDom();let r=this;if(null!=t){if(r=j(r.node.cloneNode(!0)),e){const e=t(r);if(r=e||r,!1===e)return""}r.each((function(){const e=t(this),r=e||this;!1===e?this.remove():e&&this!==r&&this.replace(r)}),!0)}return e?r.node.outerHTML:r.node.innerHTML}e=null!=e&&e;const n=q("wrapper",r),i=_.document.createDocumentFragment();n.innerHTML=t;for(let t=n.children.length;t--;)i.appendChild(n.firstElementChild);const s=this.parent();return e?this.replace(i)&&s:this.add(i)}}Y(jt,{attr:function(t,e,r){if(null==t){t={},e=this.node.attributes;for(const r of e)t[r.nodeName]=et.test(r.nodeValue)?parseFloat(r.nodeValue):r.nodeValue;return t}if(t instanceof Array)return t.reduce(((t,e)=>(t[e]=this.attr(e),t)),{});if("object"==typeof t&&t.constructor===Object)for(e in t)this.attr(e,t[e]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return null==(e=this.node.getAttribute(t))?Tt[t]:et.test(e)?parseFloat(e):e;"number"==typeof(e=Ft.reduce(((e,r)=>r(t,e,this)),e))?e=new Rt(e):ut.isColor(e)?e=new ut(e):e.constructor===Array&&(e=new qt(e)),"leading"===t?this.leading&&this.leading(e):"string"==typeof r?this.node.setAttributeNS(r,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!==t&&"x"!==t||this.rebuild()}return this},find:function(t){return bt(t,this.node)},findOne:function(t){return j(this.node.querySelector(t))}}),L(jt,"Dom");class Bt extends jt{constructor(t,e){super(t,e),this.dom={},this.node.instance=this,t.hasAttribute("svgjs:data")&&this.setData(JSON.parse(t.getAttribute("svgjs:data"))||{})}center(t,e){return this.cx(t).cy(e)}cx(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)}cy(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)}defs(){const t=this.root();return t&&t.defs()}dmove(t,e){return this.dx(t).dy(e)}dx(t=0){return this.x(new Rt(t).plus(this.x()))}dy(t=0){return this.y(new Rt(t).plus(this.y()))}getEventHolder(){return this}height(t){return this.attr("height",t)}move(t,e){return this.x(t).y(e)}parents(t=this.root()){t=R(t);const e=new yt;let r=this;for(;(r=r.parent())&&r.node!==_.document&&"#document-fragment"!==r.nodeName&&(e.push(r),r.node!==t.node););return e}reference(t){if(!(t=this.attr(t)))return null;const e=(t+"").match(Z);return e?R(e[1]):null}root(){const t=this.parent(z(I));return t&&t.root()}setData(t){return this.dom=t,this}size(t,e){const r=p(this,t,e);return this.width(new Rt(r.width)).height(new Rt(r.height))}width(t){return this.attr("width",t)}writeDataToDom(){return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),super.writeDataToDom()}x(t){return this.attr("x",t)}y(t){return this.attr("y",t)}}Y(Bt,{bbox:function(){const t=gt(this,(t=>t.getBBox()),(t=>{try{const e=t.clone().addTo(dt().svg).show(),r=e.node.getBBox();return e.remove(),r}catch(e){throw new Error(`Getting bbox of element "${t.node.nodeName}" is not possible: ${e.toString()}`)}}));return new mt(t)},rbox:function(t){const e=gt(this,(t=>t.getBoundingClientRect()),(t=>{throw new Error(`Getting rbox of element "${t.node.nodeName}" is not possible`)})),r=new mt(e);return t?r.transform(t.screenCTM().inverseO()):r.addOffset()},inside:function(t,e){const r=this.bbox();return t>r.x&&e>r.y&&t<r.x+r.width&&e<r.y+r.height},point:function(t,e){return new ct(t,e).transform(this.screenCTM().inverse())},ctm:function(){return new ft(this.node.getCTM())},screenCTM:function(){if("function"==typeof this.isRoot&&!this.isRoot()){const t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new ft(e)}return new ft(this.node.getScreenCTM())}}),L(Bt,"Element");const Nt={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"===e?t:t+"-"+e}};["fill","stroke"].forEach((function(t){const e={};let r;e[t]=function(e){if(void 0===e)return this.attr(t);if("string"==typeof e||e instanceof ut||ut.isRgb(e)||e instanceof Bt)this.attr(t,e);else for(r=Nt[t].length-1;r>=0;r--)null!=e[Nt[t][r]]&&this.attr(Nt.prefix(t,Nt[t][r]),e[Nt[t][r]]);return this},s(["Element","Runner"],e)})),s(["Element","Runner"],{matrix:function(t,e,r,n,i,s){return null==t?new ft(this):this.attr("transform",new ft(t,e,r,n,i,s))},rotate:function(t,e,r){return this.transform({rotate:t,ox:e,oy:r},!0)},skew:function(t,e,r,n){return 1===arguments.length||3===arguments.length?this.transform({skew:t,ox:e,oy:r},!0):this.transform({skew:[t,e],ox:r,oy:n},!0)},shear:function(t,e,r){return this.transform({shear:t,ox:e,oy:r},!0)},scale:function(t,e,r,n){return 1===arguments.length||3===arguments.length?this.transform({scale:t,ox:e,oy:r},!0):this.transform({scale:[t,e],ox:r,oy:n},!0)},translate:function(t,e){return this.transform({translate:[t,e]},!0)},relative:function(t,e){return this.transform({relative:[t,e]},!0)},flip:function(t="both",e="center"){return-1==="xybothtrue".indexOf(t)&&(e=t,t="both"),this.transform({flip:t,origin:e},!0)},opacity:function(t){return this.attr("opacity",t)}}),s("radius",{radius:function(t,e=t){return"radialGradient"===(this._element||this).type?this.attr("r",new Rt(t)):this.rx(t).ry(e)}}),s("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(t){return new ct(this.node.getPointAtLength(t))}}),s(["Element","Runner"],{font:function(t,e){if("object"==typeof t){for(e in t)this.font(e,t[e]);return this}return"leading"===t?this.leading(e):"anchor"===t?this.attr("text-anchor",e):"size"===t||"family"===t||"weight"===t||"stretch"===t||"variant"===t||"style"===t?this.attr("font-"+t,e):this.attr(t,e)}}),s("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].reduce((function(t,e){return t[e]=function(t){return null===t?this.off(e):this.on(e,t),this},t}),{})),s("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(Q).slice(0,-1).map((function(t){const e=t.trim().split("(");return[e[0],e[1].split(nt).map((function(t){return parseFloat(t)}))]})).reverse().reduce((function(t,e){return"matrix"===e[0]?t.lmultiply(ft.fromArray(e[1])):t[e[0]].apply(t,e[1])}),new ft)},toParent:function(t,e){if(this===t)return this;const r=this.screenCTM(),n=t.screenCTM().inverse();return this.addTo(t,e).untransform().transform(n.multiply(r)),this},toRoot:function(t){return this.toParent(this.root(),t)},transform:function(t,e){if(null==t||"string"==typeof t){const e=new ft(this).decompose();return null==t?e:e[t]}ft.isMatrixLike(t)||(t={...t,origin:m(t,this)});const r=new ft(!0===e?this:e||!1).transform(t);return this.attr("transform",r)}});class Lt extends Bt{flatten(t=this,e){return this.each((function(){if(this instanceof Lt)return this.flatten().ungroup()})),this}ungroup(t=this.parent(),e=t.index(this)){return e=-1===e?t.children().length:e,this.each((function(r,n){return n[n.length-r-1].toParent(t,e)})),this.remove()}}L(Lt,"Container");class zt extends Lt{constructor(t,e=t){super(F("defs",t),e)}flatten(){return this}ungroup(){return this}}L(zt,"Defs");class Dt extends Bt{}function Vt(t){return this.attr("rx",t)}function $t(t){return this.attr("ry",t)}function Yt(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())}function Gt(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())}function Xt(t){return this.attr("cx",t)}function Ut(t){return this.attr("cy",t)}function Ht(t){return null==t?2*this.rx():this.rx(new Rt(t).divide(2))}function Zt(t){return null==t?2*this.ry():this.ry(new Rt(t).divide(2))}L(Dt,"Shape");var Qt={__proto__:null,rx:Vt,ry:$t,x:Yt,y:Gt,cx:Xt,cy:Ut,width:Ht,height:Zt};class Wt extends Dt{constructor(t,e=t){super(F("ellipse",t),e)}size(t,e){const r=p(this,t,e);return this.rx(new Rt(r.width).divide(2)).ry(new Rt(r.height).divide(2))}}Y(Wt,Qt),s("Container",{ellipse:G((function(t=0,e=t){return this.put(new Wt).size(t,e).move(0,0)}))}),L(Wt,"Ellipse");class Jt extends jt{constructor(t=_.document.createDocumentFragment()){super(t)}xml(t,e,r){if("boolean"==typeof t&&(r=e,e=t,t=null),null==t||"function"==typeof t){const t=new jt(q("wrapper",r));return t.add(this.node.cloneNode(!0)),t.xml(!1,r)}return super.xml(t,!1,r)}}function Kt(t,e){return"radialGradient"===(this._element||this).type?this.attr({fx:new Rt(t),fy:new Rt(e)}):this.attr({x1:new Rt(t),y1:new Rt(e)})}function te(t,e){return"radialGradient"===(this._element||this).type?this.attr({cx:new Rt(t),cy:new Rt(e)}):this.attr({x2:new Rt(t),y2:new Rt(e)})}L(Jt,"Fragment");var ee,re={__proto__:null,from:Kt,to:te};class ne extends Lt{constructor(t,e){super(F(t+"Gradient","string"==typeof t?null:t),e)}attr(t,e,r){return"transform"===t&&(t="gradientTransform"),super.attr(t,e,r)}bbox(){return new mt}targets(){return bt('svg [fill*="'+this.id()+'"]')}toString(){return this.url()}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}url(){return'url("#'+this.id()+'")'}}Y(ne,re),s({Container:{gradient(...t){return this.defs().gradient(...t)}},Defs:{gradient:G((function(t,e){return this.put(new ne(t)).update(e)}))}}),L(ne,"Gradient");class ie extends Lt{constructor(t,e=t){super(F("pattern",t),e)}attr(t,e,r){return"transform"===t&&(t="patternTransform"),super.attr(t,e,r)}bbox(){return new mt}targets(){return bt('svg [fill*="'+this.id()+'"]')}toString(){return this.url()}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}url(){return'url("#'+this.id()+'")'}}s({Container:{pattern(...t){return this.defs().pattern(...t)}},Defs:{pattern:G((function(t,e,r){return this.put(new ie).update(r).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}))}}),L(ie,"Pattern");class se extends Dt{constructor(t,e=t){super(F("image",t),e)}load(t,e){if(!t)return this;const r=new _.window.Image;return St(r,"load",(function(t){const n=this.parent(ie);0===this.width()&&0===this.height()&&this.size(r.width,r.height),n instanceof ie&&0===n.width()&&0===n.height()&&n.size(this.width(),this.height()),"function"==typeof e&&e.call(this,t)}),this),St(r,"load error",(function(){kt(r)})),this.attr("href",r.src=t,x)}}ee=function(t,e,r){return"fill"!==t&&"stroke"!==t||rt.test(e)&&(e=r.root().defs().image(e)),e instanceof se&&(e=r.root().defs().pattern(0,0,(t=>{t.add(e)}))),e},Ft.push(ee),s({Container:{image:G((function(t,e){return this.put(new se).size(0,0).load(t,e)}))}}),L(se,"Image");class ae extends qt{bbox(){let t=-1/0,e=-1/0,r=1/0,n=1/0;return this.forEach((function(i){t=Math.max(i[0],t),e=Math.max(i[1],e),r=Math.min(i[0],r),n=Math.min(i[1],n)})),new mt(r,n,t-r,e-n)}move(t,e){const r=this.bbox();if(t-=r.x,e-=r.y,!isNaN(t)&&!isNaN(e))for(let r=this.length-1;r>=0;r--)this[r]=[this[r][0]+t,this[r][1]+e];return this}parse(t=[0,0]){const e=[];(t=t instanceof Array?Array.prototype.concat.apply([],t):t.trim().split(nt).map(parseFloat)).length%2!=0&&t.pop();for(let r=0,n=t.length;r<n;r+=2)e.push([t[r],t[r+1]]);return e}size(t,e){let r;const n=this.bbox();for(r=this.length-1;r>=0;r--)n.width&&(this[r][0]=(this[r][0]-n.x)*t/n.width+n.x),n.height&&(this[r][1]=(this[r][1]-n.y)*e/n.height+n.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const t=[];for(let e=0,r=this.length;e<r;e++)t.push(this[e].join(","));return t.join(" ")}transform(t){return this.clone().transformO(t)}transformO(t){ft.isMatrixLike(t)||(t=new ft(t));for(let e=this.length;e--;){const[r,n]=this[e];this[e][0]=t.a*r+t.c*n+t.e,this[e][1]=t.b*r+t.d*n+t.f}return this}}var oe={__proto__:null,MorphArray:ae,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){const e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){const e=this.bbox();return null==t?e.height:this.size(e.width,t)}};class he extends Dt{constructor(t,e=t){super(F("line",t),e)}array(){return new ae([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,e){return this.attr(this.array().move(t,e).toLine())}plot(t,e,r,n){return null==t?this.array():(t=void 0!==e?{x1:t,y1:e,x2:r,y2:n}:new ae(t).toLine(),this.attr(t))}size(t,e){const r=p(this,t,e);return this.attr(this.array().size(r.width,r.height).toLine())}}Y(he,oe),s({Container:{line:G((function(...t){return he.prototype.plot.apply(this.put(new he),null!=t[0]?t:[0,0,0,0])}))}}),L(he,"Line");class ue extends Lt{constructor(t,e=t){super(F("marker",t),e)}height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,e){return this.attr("refX",t).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}}function ce(t,e){return function(r){return null==r?this[t]:(this[t]=r,e&&e.call(this),this)}}s({Container:{marker(...t){return this.defs().marker(...t)}},Defs:{marker:G((function(t,e,r){return this.put(new ue).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(r)}))},marker:{marker(t,e,r,n){let i=["marker"];return"all"!==t&&i.push(t),i=i.join("-"),t=arguments[1]instanceof ue?arguments[1]:this.defs().marker(e,r,n),this.attr(i,t)}}}),L(ue,"Marker");const le={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)},bezier:function(t,e,r,n){return function(i){return i<0?t>0?e/t*i:r>0?n/r*i:0:i>1?r<1?(1-n)/(1-r)*i+(n-r)/(1-r):t<1?(1-e)/(1-t)*i+(e-t)/(1-t):1:3*i*(1-i)**2*e+3*i**2*(1-i)*n+i**3}},steps:function(t,e="end"){e=e.split("-").reverse()[0];let r=t;return"none"===e?--r:"both"===e&&++r,(n,i=!1)=>{let s=Math.floor(n*t);const a=n*s%1==0;return"start"!==e&&"both"!==e||++s,i&&a&&--s,n>=0&&s<0&&(s=0),n<=1&&s>r&&(s=r),s/r}}};class fe{done(){return!1}}class de extends fe{constructor(t=Pt.ease){super(),this.ease=le[t]||t}step(t,e,r){return"number"!=typeof t?r<1?t:e:t+(e-t)*this.ease(r)}}class pe extends fe{constructor(t){super(),this.stepper=t}done(t){return t.done}step(t,e,r,n){return this.stepper(t,e,r,n)}}function me(){const t=(this._duration||500)/1e3,e=this._overshoot||0,r=Math.PI,n=Math.log(e/100+1e-10),i=-n/Math.sqrt(r*r+n*n),s=3.9/(i*t);this.d=2*i*s,this.k=s*s}class ge extends pe{constructor(t=500,e=0){super(),this.duration(t).overshoot(e)}step(t,e,r,n){if("string"==typeof t)return t;if(n.done=r===1/0,r===1/0)return e;if(0===r)return t;r>100&&(r=16),r/=1e3;const i=n.velocity||0,s=-this.d*i-this.k*(t-e),a=t+i*r+s*r*r/2;return n.velocity=i+s*r,n.done=Math.abs(e-a)+Math.abs(i)<.002,n.done?e:a}}Y(ge,{duration:ce("_duration",me),overshoot:ce("_overshoot",me)});class ye extends pe{constructor(t=.1,e=.01,r=0,n=1e3){super(),this.p(t).i(e).d(r).windup(n)}step(t,e,r,n){if("string"==typeof t)return t;if(n.done=r===1/0,r===1/0)return e;if(0===r)return t;const i=e-t;let s=(n.integral||0)+i*r;const a=(i-(n.error||0))/r,o=this._windup;return!1!==o&&(s=Math.max(-o,Math.min(s,o))),n.error=i,n.integral=s,n.done=Math.abs(i)<.001,n.done?e:t+(this.P*i+this.I*s+this.D*a)}}Y(ye,{windup:ce("_windup"),p:ce("P"),i:ce("I"),d:ce("D")});const ve={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},be={M:function(t,e,r){return e.x=r.x=t[0],e.y=r.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},S:function(t,e){return e.x=t[2],e.y=t[3],["S",t[0],t[1],t[2],t[3]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},T:function(t,e){return e.x=t[0],e.y=t[1],["T",t[0],t[1]]},Z:function(t,e,r){return e.x=r.x,e.y=r.y,["Z"]},A:function(t,e){return e.x=t[5],e.y=t[6],["A",t[0],t[1],t[2],t[3],t[4],t[5],t[6]]}},xe="mlhvqtcsaz".split("");for(let t=0,e=xe.length;t<e;++t)be[xe[t]]=function(t){return function(e,r,n){if("H"===t)e[0]=e[0]+r.x;else if("V"===t)e[0]=e[0]+r.y;else if("A"===t)e[5]=e[5]+r.x,e[6]=e[6]+r.y;else for(let t=0,n=e.length;t<n;++t)e[t]=e[t]+(t%2?r.y:r.x);return be[t](e,r,n)}}(xe[t].toUpperCase());function Me(t){return t.segment.length&&t.segment.length-1===ve[t.segment[0].toUpperCase()]}function we(t,e){t.inNumber&&_e(t,!1);const r=it.test(e);if(r)t.segment=[e];else{const e=t.lastCommand,r=e.toLowerCase(),n=e===r;t.segment=["m"===r?n?"l":"L":e]}return t.inSegment=!0,t.lastCommand=t.segment[0],r}function _e(t,e){if(!t.inNumber)throw new Error("Parser Error");t.number&&t.segment.push(parseFloat(t.number)),t.inNumber=e,t.number="",t.pointSeen=!1,t.hasExponent=!1,Me(t)&&Ae(t)}function Ae(t){t.inSegment=!1,t.absolute&&(t.segment=function(t){const e=t.segment[0];return be[e](t.segment.slice(1),t.p,t.p0)}(t)),t.segments.push(t.segment)}function Se(t){if(!t.segment.length)return!1;const e="A"===t.segment[0].toUpperCase(),r=t.segment.length;return e&&(4===r||5===r)}function ke(t){return"E"===t.lastToken.toUpperCase()}class Ce extends qt{bbox(){return dt().path.setAttribute("d",this.toString()),new mt(dt.nodes.path.getBBox())}move(t,e){const r=this.bbox();if(t-=r.x,e-=r.y,!isNaN(t)&&!isNaN(e))for(let r,n=this.length-1;n>=0;n--)r=this[n][0],"M"===r||"L"===r||"T"===r?(this[n][1]+=t,this[n][2]+=e):"H"===r?this[n][1]+=t:"V"===r?this[n][1]+=e:"C"===r||"S"===r||"Q"===r?(this[n][1]+=t,this[n][2]+=e,this[n][3]+=t,this[n][4]+=e,"C"===r&&(this[n][5]+=t,this[n][6]+=e)):"A"===r&&(this[n][6]+=t,this[n][7]+=e);return this}parse(t="M0 0"){return Array.isArray(t)&&(t=Array.prototype.concat.apply([],t).toString()),function(t,e=!0){let r=0,n="";const i={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:e,p0:new ct,p:new ct};for(;i.lastToken=n,n=t.charAt(r++);)if(i.inSegment||!we(i,n))if("."!==n)if(isNaN(parseInt(n)))if(" "!==n&&","!==n)if("-"!==n)if("E"!==n.toUpperCase()){if(it.test(n)){if(i.inNumber)_e(i,!1);else{if(!Me(i))throw new Error("parser Error");Ae(i)}--r}}else i.number+=n,i.hasExponent=!0;else{if(i.inNumber&&!ke(i)){_e(i,!1),--r;continue}i.number+=n,i.inNumber=!0}else i.inNumber&&_e(i,!1);else{if("0"===i.number||Se(i)){i.inNumber=!0,i.number=n,_e(i,!0);continue}i.inNumber=!0,i.number+=n}else{if(i.pointSeen||i.hasExponent){_e(i,!1),--r;continue}i.inNumber=!0,i.pointSeen=!0,i.number+=n}return i.inNumber&&_e(i,!1),i.inSegment&&Me(i)&&Ae(i),i.segments}(t)}size(t,e){const r=this.bbox();let n,i;for(r.width=0===r.width?1:r.width,r.height=0===r.height?1:r.height,n=this.length-1;n>=0;n--)i=this[n][0],"M"===i||"L"===i||"T"===i?(this[n][1]=(this[n][1]-r.x)*t/r.width+r.x,this[n][2]=(this[n][2]-r.y)*e/r.height+r.y):"H"===i?this[n][1]=(this[n][1]-r.x)*t/r.width+r.x:"V"===i?this[n][1]=(this[n][1]-r.y)*e/r.height+r.y:"C"===i||"S"===i||"Q"===i?(this[n][1]=(this[n][1]-r.x)*t/r.width+r.x,this[n][2]=(this[n][2]-r.y)*e/r.height+r.y,this[n][3]=(this[n][3]-r.x)*t/r.width+r.x,this[n][4]=(this[n][4]-r.y)*e/r.height+r.y,"C"===i&&(this[n][5]=(this[n][5]-r.x)*t/r.width+r.x,this[n][6]=(this[n][6]-r.y)*e/r.height+r.y)):"A"===i&&(this[n][1]=this[n][1]*t/r.width,this[n][2]=this[n][2]*e/r.height,this[n][6]=(this[n][6]-r.x)*t/r.width+r.x,this[n][7]=(this[n][7]-r.y)*e/r.height+r.y);return this}toString(){return function(t){let e="";for(let r=0,n=t.length;r<n;r++)e+=t[r][0],null!=t[r][1]&&(e+=t[r][1],null!=t[r][2]&&(e+=" ",e+=t[r][2],null!=t[r][3]&&(e+=" ",e+=t[r][3],e+=" ",e+=t[r][4],null!=t[r][5]&&(e+=" ",e+=t[r][5],e+=" ",e+=t[r][6],null!=t[r][7]&&(e+=" ",e+=t[r][7])))));return e+" "}(this)}}const Ee=t=>{const e=typeof t;return"number"===e?Rt:"string"===e?ut.isColor(t)?ut:nt.test(t)?it.test(t)?Ce:qt:X.test(t)?Rt:Pe:Re.indexOf(t.constructor)>-1?t.constructor:Array.isArray(t)?qt:"object"===e?qe:Pe};class Oe{constructor(t){this._stepper=t||new de("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(t){const e=this;return this._morphObj.fromArray(this._from.map((function(r,n){return e._stepper.step(r,e._to[n],t,e._context[n],e._context)})))}done(){return this._context.map(this._stepper.done).reduce((function(t,e){return t&&e}),!0)}from(t){return null==t?this._from:(this._from=this._set(t),this)}stepper(t){return null==t?this._stepper:(this._stepper=t,this)}to(t){return null==t?this._to:(this._to=this._set(t),this)}type(t){return null==t?this._type:(this._type=t,this)}_set(t){this._type||this.type(Ee(t));let e=new this._type(t);return this._type===ut&&(e=this._to?e[this._to[4]]():this._from?e[this._from[4]]():e),this._type===qe&&(e=this._to?e.align(this._to):this._from?e.align(this._from):e),e=e.toArray(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(e.length)).map(Object).map((function(t){return t.done=!0,t})),e}}class Pe{constructor(...t){this.init(...t)}init(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}toArray(){return[this.value]}valueOf(){return this.value}}class Te{constructor(...t){this.init(...t)}init(t){return Array.isArray(t)&&(t={scaleX:t[0],scaleY:t[1],shear:t[2],rotate:t[3],translateX:t[4],translateY:t[5],originX:t[6],originY:t[7]}),Object.assign(this,Te.defaults,t),this}toArray(){const t=this;return[t.scaleX,t.scaleY,t.shear,t.rotate,t.translateX,t.translateY,t.originX,t.originY]}}Te.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const Ie=(t,e)=>t[0]<e[0]?-1:t[0]>e[0]?1:0;class qe{constructor(...t){this.init(...t)}align(t){for(let e=0,r=this.values.length;e<r;++e)if(this.values[e]===ut){const r=t[e+6],n=new ut(this.values.splice(e+2,5))[r]().toArray();this.values.splice(e+2,0,...n)}return this}init(t){if(this.values=[],Array.isArray(t))return void(this.values=t.slice());t=t||{};const e=[];for(const r in t){const n=Ee(t[r]),i=new n(t[r]).toArray();e.push([r,n,i.length,...i])}return e.sort(Ie),this.values=e.reduce(((t,e)=>t.concat(e)),[]),this}toArray(){return this.values}valueOf(){const t={},e=this.values;for(;e.length;){const r=e.shift(),n=e.shift(),i=e.shift(),s=e.splice(0,i);t[r]=new n(s).valueOf()}return t}}const Re=[Pe,Te,qe];function Fe(t=[]){Re.push(...[].concat(t))}function je(){Y(Re,{to(t){return(new Oe).type(this.constructor).from(this.valueOf()).to(t)},fromArray(t){return this.init(t),this}})}class Be extends Dt{constructor(t,e=t){super(F("path",t),e)}array(){return this._array||(this._array=new Ce(this.attr("d")))}clear(){return delete this._array,this}height(t){return null==t?this.bbox().height:this.size(this.bbox().width,t)}move(t,e){return this.attr("d",this.array().move(t,e))}plot(t){return null==t?this.array():this.clear().attr("d","string"==typeof t?t:this._array=new Ce(t))}size(t,e){const r=p(this,t,e);return this.attr("d",this.array().size(r.width,r.height))}width(t){return null==t?this.bbox().width:this.size(t,this.bbox().height)}x(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)}y(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)}}Be.prototype.MorphArray=Ce,s({Container:{path:G((function(t){return this.put(new Be).plot(t||new Ce)}))}}),L(Be,"Path");var Ne={__proto__:null,array:function(){return this._array||(this._array=new ae(this.attr("points")))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},plot:function(t){return null==t?this.array():this.clear().attr("points","string"==typeof t?t:this._array=new ae(t))},size:function(t,e){const r=p(this,t,e);return this.attr("points",this.array().size(r.width,r.height))}};class Le extends Dt{constructor(t,e=t){super(F("polygon",t),e)}}s({Container:{polygon:G((function(t){return this.put(new Le).plot(t||new ae)}))}}),Y(Le,oe),Y(Le,Ne),L(Le,"Polygon");class ze extends Dt{constructor(t,e=t){super(F("polyline",t),e)}}s({Container:{polyline:G((function(t){return this.put(new ze).plot(t||new ae)}))}}),Y(ze,oe),Y(ze,Ne),L(ze,"Polyline");class De extends Dt{constructor(t,e=t){super(F("rect",t),e)}}Y(De,{rx:Vt,ry:$t}),s({Container:{rect:G((function(t,e){return this.put(new De).size(t,e)}))}}),L(De,"Rect");class Ve{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(t){const e=void 0!==t.next?t:{value:t,next:null,prev:null};return this._last?(e.prev=this._last,this._last.next=e,this._last=e):(this._last=e,this._first=e),e}remove(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}shift(){const t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}}const $e={nextDraw:null,frames:new Ve,timeouts:new Ve,immediates:new Ve,timer:()=>_.window.performance||_.window.Date,transforms:[],frame(t){const e=$e.frames.push({run:t});return null===$e.nextDraw&&($e.nextDraw=_.window.requestAnimationFrame($e._draw)),e},timeout(t,e){e=e||0;const r=$e.timer().now()+e,n=$e.timeouts.push({run:t,time:r});return null===$e.nextDraw&&($e.nextDraw=_.window.requestAnimationFrame($e._draw)),n},immediate(t){const e=$e.immediates.push(t);return null===$e.nextDraw&&($e.nextDraw=_.window.requestAnimationFrame($e._draw)),e},cancelFrame(t){null!=t&&$e.frames.remove(t)},clearTimeout(t){null!=t&&$e.timeouts.remove(t)},cancelImmediate(t){null!=t&&$e.immediates.remove(t)},_draw(t){let e=null;const r=$e.timeouts.last();for(;(e=$e.timeouts.shift())&&(t>=e.time?e.run():$e.timeouts.push(e),e!==r););let n=null;const i=$e.frames.last();for(;n!==i&&(n=$e.frames.shift());)n.run(t);let s=null;for(;s=$e.immediates.shift();)s();$e.nextDraw=$e.timeouts.first()||$e.frames.first()?_.window.requestAnimationFrame($e._draw):null}},Ye=function(t){const e=t.start,r=t.runner.duration();return{start:e,duration:r,end:e+r,runner:t.runner}},Ge=function(){const t=_.window;return(t.performance||t.Date).now()};class Xe extends Et{constructor(t=Ge){super(),this._timeSource=t,this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const t=this.getLastRunnerInfo(),e=t?t.runner.duration():0;return(t?t.start:this._time)+e}getEndTimeOfTimeline(){const t=this._runners.map((t=>t.start+t.runner.duration()));return Math.max(0,...t)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(t){return this._runners[this._runnerIds.indexOf(t)]||null}pause(){return this._paused=!0,this._continue()}persist(t){return null==t?this._persist:(this._persist=t,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(t){const e=this.speed();if(null==t)return this.speed(-e);const r=Math.abs(e);return this.speed(t?-r:r)}schedule(t,e,r){if(null==t)return this._runners.map(Ye);let n=0;const i=this.getEndTime();if(e=e||0,null==r||"last"===r||"after"===r)n=i;else if("absolute"===r||"start"===r)n=e,e=0;else if("now"===r)n=this._time;else if("relative"===r){const r=this.getRunnerInfoById(t.id);r&&(n=r.start+e,e=0)}else{if("with-last"!==r)throw new Error('Invalid value for the "when" parameter');{const t=this.getLastRunnerInfo();n=t?t.start:this._time}}t.unschedule(),t.timeline(this);const s=t.persist(),a={persist:null===s?this._persist:s,start:n+e,runner:t};return this._lastRunnerId=t.id,this._runners.push(a),this._runners.sort(((t,e)=>t.start-e.start)),this._runnerIds=this._runners.map((t=>t.runner.id)),this.updateTime()._continue(),this}seek(t){return this.time(this._time+t)}source(t){return null==t?this._timeSource:(this._timeSource=t,this)}speed(t){return null==t?this._speed:(this._speed=t,this)}stop(){return this.time(0),this.pause()}time(t){return null==t?this._time:(this._time=t,this._continue(!0))}unschedule(t){const e=this._runnerIds.indexOf(t.id);return e<0||(this._runners.splice(e,1),this._runnerIds.splice(e,1),t.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(t=!1){return $e.cancelFrame(this._nextFrame),this._nextFrame=null,t?this._stepImmediate():(this._paused||(this._nextFrame=$e.frame(this._step)),this)}_stepFn(t=!1){const e=this._timeSource();let r=e-this._lastSourceTime;t&&(r=0);const n=this._speed*r+(this._time-this._lastStepTime);this._lastSourceTime=e,t||(this._time+=n,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let t=this._runners.length;t--;){const e=this._runners[t],r=e.runner;this._time-e.start<=0&&r.reset()}let i=!1;for(let t=0,e=this._runners.length;t<e;t++){const r=this._runners[t],s=r.runner;let a=n;const o=this._time-r.start;o<=0?i=!0:(o<a&&(a=o),s.active()&&(s.step(a).done?!0!==r.persist&&s.duration()-s.time()+this._time+r.persist<this._time&&(s.unschedule(),--t,--e):i=!0))}return i&&!(this._speed<0&&0===this._time)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}}s({Element:{timeline:function(t){return null==t?(this._timeline=this._timeline||new Xe,this._timeline):(this._timeline=t,this)}}});class Ue extends Et{constructor(t){super(),this.id=Ue.id++,t="function"==typeof(t=null==t?Pt.duration:t)?new pe(t):t,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration="number"==typeof t&&t,this._isDeclarative=t instanceof pe,this._stepper=this._isDeclarative?t:new de,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new ft,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(t,e,r){let n=1,i=!1,s=0;return e=e||Pt.delay,r=r||"last","object"!=typeof(t=t||Pt.duration)||t instanceof fe||(e=t.delay||e,r=t.when||r,i=t.swing||i,n=t.times||n,s=t.wait||s,t=t.duration||Pt.duration),{duration:t,delay:e,swing:i,times:n,wait:s,when:r}}active(t){return null==t?this.enabled:(this.enabled=t,this)}addTransform(t,e){return this.transforms.lmultiplyO(t),this}after(t){return this.on("finished",t)}animate(t,e,r){const n=Ue.sanitise(t,e,r),i=new Ue(n.duration);return this._timeline&&i.timeline(this._timeline),this._element&&i.element(this._element),i.loop(n).schedule(n.delay,n.when)}clearTransform(){return this.transforms=new ft,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter((t=>!t.isTransform)))}delay(t){return this.animate(0,t)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(t){return this.queue(null,t)}ease(t){return this._stepper=new de(t),this}element(t){return null==t?this._element:(this._element=t,t._prepareRunner(),this)}finish(){return this.step(1/0)}loop(t,e,r){return"object"==typeof t&&(e=t.swing,r=t.wait,t=t.times),this._times=t||1/0,this._swing=e||!1,this._wait=r||0,!0===this._times&&(this._times=1/0),this}loops(t){const e=this._duration+this._wait;if(null==t){const t=Math.floor(this._time/e),r=(this._time-t*e)/this._duration;return Math.min(t+r,this._times)}const r=t%1,n=e*Math.floor(t)+this._duration*r;return this.time(n)}persist(t){return null==t?this._persist:(this._persist=t,this)}position(t){const e=this._time,r=this._duration,n=this._wait,i=this._times,s=this._swing,a=this._reverse;let o;if(null==t){const t=function(t){const e=s*Math.floor(t%(2*(n+r))/(n+r)),i=e&&!a||!e&&a,o=Math.pow(-1,i)*(t%(n+r))/r+i;return Math.max(Math.min(o,1),0)},h=i*(n+r)-n;return o=e<=0?Math.round(t(1e-5)):e<h?t(e):Math.round(t(h-1e-5)),o}const h=Math.floor(this.loops()),u=s&&h%2==0;return o=h+(u&&!a||a&&u?t:1-t),this.loops(o)}progress(t){return null==t?Math.min(1,this._time/this.duration()):this.time(t*this.duration())}queue(t,e,r,n){return this._queue.push({initialiser:t||Ot,runner:e||Ot,retarget:r,isTransform:n,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(t){return this._reverse=null==t?!this._reverse:t,this}schedule(t,e,r){if(t instanceof Xe||(r=e,e=t,t=this.timeline()),!t)throw Error("Runner cannot be scheduled without timeline");return t.schedule(this,e,r),this}step(t){if(!this.enabled)return this;t=null==t?16:t,this._time+=t;const e=this.position(),r=this._lastPosition!==e&&this._time>=0;this._lastPosition=e;const n=this.duration(),i=this._lastTime<=0&&this._time>0,s=this._lastTime<n&&this._time>=n;this._lastTime=this._time,i&&this.fire("start",this);const a=this._isDeclarative;this.done=!a&&!s&&this._time>=n,this._reseted=!1;let o=!1;return(r||a)&&(this._initialise(r),this.transforms=new ft,o=this._run(a?t:e),this.fire("step",this)),this.done=this.done||o&&a,s&&this.fire("finished",this),this}time(t){if(null==t)return this._time;const e=t-this._time;return this.step(e),this}timeline(t){return void 0===t?this._timeline:(this._timeline=t,this)}unschedule(){const t=this.timeline();return t&&t.unschedule(this),this}_initialise(t){if(t||this._isDeclarative)for(let e=0,r=this._queue.length;e<r;++e){const r=this._queue[e],n=this._isDeclarative||!r.initialised&&t;t=!r.finished,n&&t&&(r.initialiser.call(this),r.initialised=!0)}}_rememberMorpher(t,e){if(this._history[t]={morpher:e,caller:this._queue[this._queue.length-1]},this._isDeclarative){const t=this.timeline();t&&t.play()}}_run(t){let e=!0;for(let r=0,n=this._queue.length;r<n;++r){const n=this._queue[r],i=n.runner.call(this,t);n.finished=n.finished||!0===i,e=e&&n.finished}return e}_tryRetarget(t,e,r){if(this._history[t]){if(!this._history[t].caller.initialised){const e=this._queue.indexOf(this._history[t].caller);return this._queue.splice(e,1),!1}this._history[t].caller.retarget?this._history[t].caller.retarget.call(this,e,r):this._history[t].morpher.to(e),this._history[t].caller.finished=!1;const n=this.timeline();return n&&n.play(),!0}return!1}}Ue.id=0;class He{constructor(t=new ft,e=-1,r=!0){this.transforms=t,this.id=e,this.done=r}clearTransformsFromQueue(){}}Y([Ue,He],{mergeWith(t){return new He(t.transforms.lmultiply(this.transforms),t.id)}});const Ze=(t,e)=>t.lmultiplyO(e),Qe=t=>t.transforms;function We(){const t=this._transformationRunners.runners.map(Qe).reduce(Ze,new ft);this.transform(t),this._transformationRunners.merge(),1===this._transformationRunners.length()&&(this._frameId=null)}class Je{constructor(){this.runners=[],this.ids=[]}add(t){if(this.runners.includes(t))return;const e=t.id+1;return this.runners.push(t),this.ids.push(e),this}clearBefore(t){const e=this.ids.indexOf(t+1)||1;return this.ids.splice(0,e,0),this.runners.splice(0,e,new He).forEach((t=>t.clearTransformsFromQueue())),this}edit(t,e){const r=this.ids.indexOf(t+1);return this.ids.splice(r,1,t+1),this.runners.splice(r,1,e),this}getByID(t){return this.runners[this.ids.indexOf(t+1)]}length(){return this.ids.length}merge(){let t=null;for(let e=0;e<this.runners.length;++e){const r=this.runners[e];if(!(t&&r.done&&t.done)||r._timeline&&r._timeline._runnerIds.includes(r.id)||t._timeline&&t._timeline._runnerIds.includes(t.id))t=r;else{this.remove(r.id);const n=r.mergeWith(t);this.edit(t.id,n),t=n,--e}}return this}remove(t){const e=this.ids.indexOf(t+1);return this.ids.splice(e,1),this.runners.splice(e,1),this}}s({Element:{animate(t,e,r){const n=Ue.sanitise(t,e,r),i=this.timeline();return new Ue(n.duration).loop(n).element(this).timeline(i.play()).schedule(n.delay,n.when)},delay(t,e){return this.animate(0,t,e)},_clearTransformRunnersBefore(t){this._transformationRunners.clearBefore(t.id)},_currentTransform(t){return this._transformationRunners.runners.filter((e=>e.id<=t.id)).map(Qe).reduce(Ze,new ft)},_addRunner(t){this._transformationRunners.add(t),$e.cancelImmediate(this._frameId),this._frameId=$e.immediate(We.bind(this))},_prepareRunner(){null==this._frameId&&(this._transformationRunners=(new Je).add(new He(new ft(this))))}}}),Y(Ue,{attr(t,e){return this.styleAttr("attr",t,e)},css(t,e){return this.styleAttr("css",t,e)},styleAttr(t,e,r){if("string"==typeof e)return this.styleAttr(t,{[e]:r});let n=e;if(this._tryRetarget(t,n))return this;let i=new Oe(this._stepper).to(n),s=Object.keys(n);return this.queue((function(){i=i.from(this.element()[t](s))}),(function(e){return this.element()[t](i.at(e).valueOf()),i.done()}),(function(e){const r=Object.keys(e),a=(o=s,r.filter((t=>!o.includes(t))));var o;if(a.length){const e=this.element()[t](a),r=new qe(i.from()).valueOf();Object.assign(r,e),i.from(r)}const h=new qe(i.to()).valueOf();Object.assign(h,e),i.to(h),s=r,n=e})),this._rememberMorpher(t,i),this},zoom(t,e){if(this._tryRetarget("zoom",t,e))return this;let r=new Oe(this._stepper).to(new Rt(t));return this.queue((function(){r=r.from(this.element().zoom())}),(function(t){return this.element().zoom(r.at(t),e),r.done()}),(function(t,n){e=n,r.to(t)})),this._rememberMorpher("zoom",r),this},transform(t,e,r){if(e=t.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",t))return this;const n=ft.isMatrixLike(t);r=null!=t.affine?t.affine:null!=r?r:!n;const i=new Oe(this._stepper).type(r?Te:ft);let s,a,o,h,u;return this.queue((function(){a=a||this.element(),s=s||m(t,a),u=new ft(e?void 0:a),a._addRunner(this),e||a._clearTransformRunnersBefore(this)}),(function(c){e||this.clearTransform();const{x:l,y:f}=new ct(s).transform(a._currentTransform(this));let d=new ft({...t,origin:[l,f]}),p=this._isDeclarative&&o?o:u;if(r){d=d.decompose(l,f),p=p.decompose(l,f);const t=d.rotate,e=p.rotate,r=[t-360,t,t+360],n=r.map((t=>Math.abs(t-e))),i=Math.min(...n),s=n.indexOf(i);d.rotate=r[s]}e&&(n||(d.rotate=t.rotate||0),this._isDeclarative&&h&&(p.rotate=h)),i.from(p),i.to(d);const m=i.at(c);return h=m.rotate,o=new ft(m),this.addTransform(o),a._addRunner(this),i.done()}),(function(e){(e.origin||"center").toString()!==(t.origin||"center").toString()&&(s=m(e,a)),t={...e,origin:s}}),!0),this._isDeclarative&&this._rememberMorpher("transform",i),this},x(t,e){return this._queueNumber("x",t)},y(t){return this._queueNumber("y",t)},dx(t=0){return this._queueNumberDelta("x",t)},dy(t=0){return this._queueNumberDelta("y",t)},dmove(t,e){return this.dx(t).dy(e)},_queueNumberDelta(t,e){if(e=new Rt(e),this._tryRetarget(t,e))return this;const r=new Oe(this._stepper).to(e);let n=null;return this.queue((function(){n=this.element()[t](),r.from(n),r.to(n+e)}),(function(e){return this.element()[t](r.at(e)),r.done()}),(function(t){r.to(n+new Rt(t))})),this._rememberMorpher(t,r),this},_queueObject(t,e){if(this._tryRetarget(t,e))return this;const r=new Oe(this._stepper).to(e);return this.queue((function(){r.from(this.element()[t]())}),(function(e){return this.element()[t](r.at(e)),r.done()})),this._rememberMorpher(t,r),this},_queueNumber(t,e){return this._queueObject(t,new Rt(e))},cx(t){return this._queueNumber("cx",t)},cy(t){return this._queueNumber("cy",t)},move(t,e){return this.x(t).y(e)},center(t,e){return this.cx(t).cy(e)},size(t,e){let r;return t&&e||(r=this._element.bbox()),t||(t=r.width/r.height*e),e||(e=r.height/r.width*t),this.width(t).height(e)},width(t){return this._queueNumber("width",t)},height(t){return this._queueNumber("height",t)},plot(t,e,r,n){if(4===arguments.length)return this.plot([t,e,r,n]);if(this._tryRetarget("plot",t))return this;const i=new Oe(this._stepper).type(this._element.MorphArray).to(t);return this.queue((function(){i.from(this._element.array())}),(function(t){return this._element.plot(i.at(t)),i.done()})),this._rememberMorpher("plot",i),this},leading(t){return this._queueNumber("leading",t)},viewbox(t,e,r,n){return this._queueObject("viewbox",new mt(t,e,r,n))},update(t){return"object"!=typeof t?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",t.offset),this)}}),Y(Ue,{rx:Vt,ry:$t,from:Kt,to:te}),L(Ue,"Runner");class Ke extends Lt{constructor(t,e=t){super(F("svg",t),e),this.namespace()}defs(){return this.isRoot()?j(this.node.querySelector("defs"))||this.put(new zt):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof _.window.SVGElement)&&"#document-fragment"!==this.node.parentNode.nodeName}namespace(){return this.isRoot()?this.attr({xmlns:y,version:"1.1"}).attr("xmlns:xlink",x,b).attr("xmlns:svgjs",M,b):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,b).attr("xmlns:svgjs",null,b)}root(){return this.isRoot()?this:super.root()}}s({Container:{nested:G((function(){return this.put(new Ke)}))}}),L(Ke,"Svg",!0);class tr extends Lt{constructor(t,e=t){super(F("symbol",t),e)}}s({Container:{symbol:G((function(){return this.put(new tr)}))}}),L(tr,"Symbol");var er={__proto__:null,plain:function(t){return!1===this._build&&this.clear(),this.node.appendChild(_.document.createTextNode(t)),this},length:function(){return this.node.getComputedTextLength()},x:function(t,e=this.bbox()){return null==t?e.x:this.attr("x",this.attr("x")+t-e.x)},y:function(t,e=this.bbox()){return null==t?e.y:this.attr("y",this.attr("y")+t-e.y)},move:function(t,e,r=this.bbox()){return this.x(t,r).y(e,r)},cx:function(t,e=this.bbox()){return null==t?e.cx:this.attr("x",this.attr("x")+t-e.cx)},cy:function(t,e=this.bbox()){return null==t?e.cy:this.attr("y",this.attr("y")+t-e.cy)},center:function(t,e,r=this.bbox()){return this.cx(t,r).cy(e,r)},ax:function(t){return this.attr("x",t)},ay:function(t){return this.attr("y",t)},amove:function(t,e){return this.ax(t).ay(e)},build:function(t){return this._build=!!t,this}};class rr extends Dt{constructor(t,e=t){super(F("text",t),e),this.dom.leading=new Rt(1.3),this._rebuild=!0,this._build=!1}leading(t){return null==t?this.dom.leading:(this.dom.leading=new Rt(t),this.rebuild())}rebuild(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){const t=this;let e=0;const r=this.dom.leading;this.each((function(n){const i=_.window.getComputedStyle(this.node).getPropertyValue("font-size"),s=r*new Rt(i);this.dom.newLined&&(this.attr("x",t.attr("x")),"\n"===this.text()?e+=s:(this.attr("dy",n?s+e:0),e=0))})),this.fire("rebuild")}return this}setData(t){return this.dom=t,this.dom.leading=new Rt(t.leading||1.3),this}text(t){if(void 0===t){const e=this.node.childNodes;let r=0;t="";for(let n=0,i=e.length;n<i;++n)"textPath"!==e[n].nodeName?(n!==r&&3!==e[n].nodeType&&!0===j(e[n]).dom.newLined&&(t+="\n"),t+=e[n].textContent):0===n&&(r=1);return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else for(let e=0,r=(t=(t+"").split("\n")).length;e<r;e++)this.newLine(t[e]);return this.build(!1).rebuild()}}Y(rr,er),s({Container:{text:G((function(t=""){return this.put(new rr).text(t)})),plain:G((function(t=""){return this.put(new rr).plain(t)}))}}),L(rr,"Text");class nr extends Dt{constructor(t,e=t){super(F("tspan",t),e),this._build=!1}dx(t){return this.attr("dx",t)}dy(t){return this.attr("dy",t)}newLine(){this.dom.newLined=!0;const t=this.parent();if(!(t instanceof rr))return this;const e=t.index(this),r=_.window.getComputedStyle(this.node).getPropertyValue("font-size"),n=t.dom.leading*new Rt(r);return this.dy(e?n:0).attr("x",t.x())}text(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?(this.clear().build(!0),t.call(this,this),this.build(!1)):this.plain(t),this)}}Y(nr,er),s({Tspan:{tspan:G((function(t=""){const e=new nr;return this._build||this.clear(),this.put(e).text(t)}))},Text:{newLine:function(t=""){return this.tspan(t).newLine()}}}),L(nr,"Tspan");class ir extends Dt{constructor(t,e=t){super(F("circle",t),e)}radius(t){return this.attr("r",t)}rx(t){return this.attr("r",t)}ry(t){return this.rx(t)}size(t){return this.radius(new Rt(t).divide(2))}}Y(ir,{x:Yt,y:Gt,cx:Xt,cy:Ut,width:Ht,height:Zt}),s({Container:{circle:G((function(t=0){return this.put(new ir).size(t).move(0,0)}))}}),L(ir,"Circle");class sr extends Lt{constructor(t,e=t){super(F("clipPath",t),e)}remove(){return this.targets().forEach((function(t){t.unclip()})),super.remove()}targets(){return bt('svg [clip-path*="'+this.id()+'"]')}}s({Container:{clip:G((function(){return this.defs().put(new sr)}))},Element:{clipper(){return this.reference("clip-path")},clipWith(t){const e=t instanceof sr?t:this.parent().clip().add(t);return this.attr("clip-path",'url("#'+e.id()+'")')},unclip(){return this.attr("clip-path",null)}}}),L(sr,"ClipPath");class ar extends Bt{constructor(t,e=t){super(F("foreignObject",t),e)}}s({Container:{foreignObject:G((function(t,e){return this.put(new ar).size(t,e)}))}}),L(ar,"ForeignObject");var or={__proto__:null,dmove:function(t,e){return this.children().forEach(((r,n)=>{let i;try{i=r.bbox()}catch(t){return}const s=new ft(r),a=s.translate(t,e).transform(s.inverse()),o=new ct(i.x,i.y).transform(a);r.move(o.x,o.y)})),this},dx:function(t){return this.dmove(t,0)},dy:function(t){return this.dmove(0,t)},height:function(t,e=this.bbox()){return null==t?e.height:this.size(e.width,t,e)},move:function(t=0,e=0,r=this.bbox()){const n=t-r.x,i=e-r.y;return this.dmove(n,i)},size:function(t,e,r=this.bbox()){const n=p(this,t,e,r),i=n.width/r.width,s=n.height/r.height;return this.children().forEach(((t,e)=>{const n=new ct(r).transform(new ft(t).inverse());t.scale(i,s,n.x,n.y)})),this},width:function(t,e=this.bbox()){return null==t?e.width:this.size(t,e.height,e)},x:function(t,e=this.bbox()){return null==t?e.x:this.move(t,e.y,e)},y:function(t,e=this.bbox()){return null==t?e.y:this.move(e.x,t,e)}};class hr extends Lt{constructor(t,e=t){super(F("g",t),e)}}Y(hr,or),s({Container:{group:G((function(){return this.put(new hr)}))}}),L(hr,"G");class ur extends Lt{constructor(t,e=t){super(F("a",t),e)}target(t){return this.attr("target",t)}to(t){return this.attr("href",t,x)}}Y(ur,or),s({Container:{link:G((function(t){return this.put(new ur).to(t)}))},Element:{unlink(){const t=this.linker();if(!t)return this;const e=t.parent();if(!e)return this.remove();const r=e.index(t);return e.add(this,r),t.remove(),this},linkTo(t){let e=this.linker();return e||(e=new ur,this.wrap(e)),"function"==typeof t?t.call(e,e):e.to(t),this},linker(){const t=this.parent();return t&&"a"===t.node.nodeName.toLowerCase()?t:null}}}),L(ur,"A");class cr extends Lt{constructor(t,e=t){super(F("mask",t),e)}remove(){return this.targets().forEach((function(t){t.unmask()})),super.remove()}targets(){return bt('svg [mask*="'+this.id()+'"]')}}s({Container:{mask:G((function(){return this.defs().put(new cr)}))},Element:{masker(){return this.reference("mask")},maskWith(t){const e=t instanceof cr?t:this.parent().mask().add(t);return this.attr("mask",'url("#'+e.id()+'")')},unmask(){return this.attr("mask",null)}}}),L(cr,"Mask");class lr extends Bt{constructor(t,e=t){super(F("stop",t),e)}update(t){return("number"==typeof t||t instanceof Rt)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new Rt(t.offset)),this}}s({Gradient:{stop:function(t,e,r){return this.put(new lr).update(t,e,r)}}}),L(lr,"Stop");class fr extends Bt{constructor(t,e=t){super(F("style",t),e)}addText(t=""){return this.node.textContent+=t,this}font(t,e,r={}){return this.rule("@font-face",{fontFamily:t,src:e,...r})}rule(t,e){return this.addText(function(t,e){if(!t)return"";if(!e)return t;let r=t+"{";for(const t in e)r+=f(t)+":"+e[t]+";";return r+="}",r}(t,e))}}s("Dom",{style(t,e){return this.put(new fr).rule(t,e)},fontface(t,e,r){return this.put(new fr).font(t,e,r)}}),L(fr,"Style");class dr extends rr{constructor(t,e=t){super(F("textPath",t),e)}array(){const t=this.track();return t?t.array():null}plot(t){const e=this.track();let r=null;return e&&(r=e.plot(t)),null==t?r:this}track(){return this.reference("href")}}s({Container:{textPath:G((function(t,e){return t instanceof rr||(t=this.text(t)),t.path(e)}))},Text:{path:G((function(t,e=!0){const r=new dr;let n;if(t instanceof Be||(t=this.defs().path(t)),r.attr("href","#"+t,x),e)for(;n=this.node.firstChild;)r.node.appendChild(n);return this.put(r)})),textPath(){return this.findOne("textPath")}},Path:{text:G((function(t){return t instanceof rr||(t=(new rr).addTo(this.parent()).text(t)),t.path(this)})),targets(){return bt("svg textPath").filter((t=>(t.attr("href")||"").includes(this.id())))}}}),dr.prototype.MorphArray=Ce,L(dr,"TextPath");class pr extends Dt{constructor(t,e=t){super(F("use",t),e)}use(t,e){return this.attr("href",(e||"")+"#"+t,x)}}s({Container:{use:G((function(t,e){return this.put(new pr).use(t,e)}))}}),L(pr,"Use");const mr=R;Y([Ke,tr,se,ie,ue],a("viewbox")),Y([he,ze,Le,Be],a("marker")),Y(rr,a("Text")),Y(Be,a("Path")),Y(zt,a("Defs")),Y([rr,nr],a("Tspan")),Y([De,Wt,ne,Ue],a("radius")),Y(Et,a("EventTarget")),Y(jt,a("Dom")),Y(Bt,a("Element")),Y(Dt,a("Shape")),Y([Lt,Jt],a("Container")),Y(ne,a("Gradient")),Y(Ue,a("Runner")),yt.extend([...new Set(i)]),Fe([Rt,ut,mt,ft,qt,ae,Ce]),je()},968:t=>{var e;window,e=function(){return(()=>{"use strict";var t=[function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(1),e),i(r(2),e),i(r(3),e)},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.rgbToHsl=e.hslToRgb=e.rgbToHex=void 0,e.rgbToHex=function(t,e,r){return`#${((1<<24)+(t<<16)+(e<<8)+r).toString(16).slice(1)}`},e.hslToRgb=function(t,e,r){let n,i,s;if(t/=360,r/=100,0==(e/=100))n=i=s=r;else{const a=(t,e,r)=>(r+=r<0?1:r>1?-1:0)<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t,o=r<.5?r*(1+e):r+e-r*e,h=2*r-o;n=a(h,o,t+1/3),i=a(h,o,t),s=a(h,o,t-1/3)}return[.5+255*n<<0,.5+255*i<<0,.5+255*s<<0]},e.rgbToHsl=function(t,e,r){t/=255,e/=255,r/=255;const n=Math.max(t,e,r),i=Math.min(t,e,r),s=(n+i)/2;let a,o;if(n===i)a=o=0;else{const h=n-i;switch(o=s>.5?h/(2-n-i):h/(n+i),n){case t:a=(e-r)/h+(e<r?6:0);break;case e:a=(r-t)/h+2;break;case r:a=(t-e)/h+4}a/=6}return[.5+360*a<<0,.5+100*o<<0,.5+100*s<<0]}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseColor=e.parseColorAndConvert=void 0;const n=r(4),i=r(2);function s(t){if("number"==typeof t)return t>16777215?{type:"rgb",a:t>>24&255,b:t>>16&255,c:t>>8&255,alpha:(255&t)/255}:{type:"rgb",a:t>>16&255,b:t>>8&255,c:255&t,alpha:1};t=t.replace(/\s/g,""),n.default[t]&&(t=n.default[t]);let e=/^#([0-9a-f]{3,8})$/i.exec(t);if(e){const t=e[1];return 3===t.length?{type:"rgb",a:parseInt(t[0]+t[0],16),b:parseInt(t[1]+t[1],16),c:parseInt(t[2]+t[2],16),alpha:1}:{type:"rgb",a:parseInt(t[0]+t[1],16),b:parseInt(t[2]+t[3],16),c:parseInt(t[4]+t[5],16),alpha:t.length>6?parseInt(t.substring(6),16)/255:1}}if(e=/^((hsl|rgb)a?)\((\d+),(\d+)%?,(\d+)%?,?(.+)?\)$/i.exec(t),e){const[,,t,r,n,i,s]=e;return{type:t,a:+r,b:+n,c:+i,alpha:s?+s:1}}}e.parseColorAndConvert=function(t){const e=s(t);if(e){if("hsl"===e.type){const[t,r,n]=i.hslToRgb(e.a,e.b,e.c);return{r:t,g:r,b:n,h:e.a,s:e.b,l:e.c,alpha:e.alpha}}{const[t,r,n]=i.rgbToHsl(e.a,e.b,e.c);return{h:t,s:r,l:n,r:e.a,g:e.b,b:e.c,alpha:e.alpha}}}},e.parseColor=s},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}}],e={},r=function r(n){var i=e[n];if(void 0!==i)return i.exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,r),s.exports}(0);return r})()},t.exports=e()},513:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Group=void 0;const n=r(378),i=r(541),s=r(648),a=r(511);class o extends i.SceneChild{constructor(t={}){t.type="Group",super(t),this.children=[],["id","name","data","order","type"].forEach((e=>{e in t&&delete t[e]})),this.props=t}isStatic(){const t=this.children;for(let e=0,r=t.length;e<r;e++)if(!t[e].isStatic())return!1;return!0}isStaticIndexed(){const t=this.children;for(let e=0,r=t.length;e<r;e++)if(!t[e].isStaticIndexed())return!1;return!0}add(...t){for(let e=0,r=t.length;e<r;e++){const r=t[e],i=r.getProps();Object.keys(this.props).forEach((t=>{void 0===i[t]&&r.setProp(t,this.props[t])})),r.order=void 0!==r.order?r.order:this.children.length>0?Math.max.apply(this,this.children.map((t=>t.order||0)))+1:0,this.scene&&n.Scene.propagateToChilden(r,this.scene),this.children.push(r)}this.sortChildren()}sortChildren(){this.children.sort(((t,e)=>t.order-e.order)),this.children=this.children.map(((t,e)=>(t.order=e,t))),this.clearBuffer(!0)}getChildren(){return this.children}find(t){if(this.id===t||this.name===t)return this;const e=this.getChildren();for(let r=0,n=e.length;r<n;r++){const n=e[r].find(t);if(null!==n)return n}return null}get(t){return t>=0&&t<this.children.length?this.children[t]:null}remove(t){if(t>=0&&t<this.children.length){const e=this.children.splice(t,1);return this.clearBuffer(!0),e}return!1}removeFromId(t){for(let e=0,r=this.children.length;e<r;e++)if(this.children[e].id==t)return this.children.splice(e,1),this.clearBuffer(!0)}generate(t,e=!1,r){this.generateId=t,this.children.forEach((n=>n.generate(t,e,r)))}getBounding(){const t=[],e=a.Bounding.empty();if(this.children.length>0){this.children.forEach((e=>t.push(e.getBounding())));for(let r=0,n=this.children.length;r<n;r++)e.x=e.x>t[r].x?t[r].x:e.x,e.y=e.y>t[r].y?t[r].y:e.y,e.width=e.width<t[r].width?t[r].width:e.width,e.height=e.height<t[r].height?t[r].height:e.height;e.cx=e.x+e.width/2,e.cy=e.y+e.height/2}return e}clearBuffer(t=!1,e=!0){if(this.children.forEach((e=>e.clearBuffer(t,!1))),this.scene&&e){const r=this.scene.getParentsOfSceneChild(this);r.length>0&&r[r.length-1].clearBuffer(t,e)}}setProp(t,e){"object"==typeof t?Object.keys(t).forEach((e=>this.props[e]=t[e])):this.props[t]=e,this.children.forEach((r=>r.setProp(t,e)))}setPropUnsafe(t,e){super.setPropUnsafe(t,e),this.children.forEach((r=>r.setPropUnsafe(t,e)))}getBufferLength(t){return this.children.map((e=>e.getBufferLength(t))).reduce(((t,e)=>t+e),0)}getBuffer(){const t=this.children.map((t=>t.getBuffer())).filter((t=>void 0!==t)),e=t.reduce(((t,e)=>t+e.length),0);if(e>0){const r=new Float32Array(e);r.set(t[0],0);for(let e=1,n=0,i=t.length;e<i;e++)n+=t[e-1].length,r.set(t[e],n);return r}return s.ShapeBase.EMPTY_BUFFER}getIndexedBuffer(){const t=this.children.map((t=>t.getIndexedBuffer())).filter((t=>void 0!==t));return[].concat.apply([],t)}stream(t){this.children.forEach((e=>e.stream(t)))}}e.Group=o},378:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Scene=void 0;const n=r(541),i=r(513),s=r(448),a=r(313);class o{constructor(t={}){this.width=400,this.height=400,this.background="hsla(0, 0%, 0%, 1)",this.color="hsla(0, 0%, 100%, 1)",this.currentTime=0,void 0!==t.width&&(this.width=t.width),void 0!==t.height&&(this.height=t.height),void 0!==t.background&&(this.background=t.background),void 0!==t.color&&(this.color=t.color),this.children=[],this.anchorSettings=t.anchor,this.setSize(t.width||this.width,t.height||this.height,t.anchor)}setSize(t,e,r){this.width=t,this.height=e,this.center=[this.width/2,this.height/2],this.anchor=r&&Array.isArray(r)?["number"==typeof r[0]?(.5+.5*a.clamp(-1,1,r[0]))*this.width:"left"===r[0]?0:"right"===r[0]?this.width:this.center[0],"number"==typeof r[1]?(.5+.5*a.clamp(-1,1,r[1]))*this.height:"top"===r[1]?0:"bottom"===r[1]?this.height:this.center[1]]:[this.center[0],this.center[1]]}getWidth(t=100){return this.width*t/100}getHeight(t=100){return this.height*t/100}resize(t,e=t){this.setSize(t,e,this.anchorSettings),this.children.forEach((t=>t.clearBuffer(!0,!1)))}update(t=0){this.currentTime=t;for(let t=0,e=this.children.length;t<e;t++)this.children[t].generate(this.currentTime,!0)}stream(t){this.children.forEach((e=>e.stream(t)))}getChildren(){return this.children}add(...t){const e="number"==typeof t[t.length-1]?t[t.length-1]:void 0,r=t.length-(void 0===e?0:1);for(let n=0;n<r;n++){const r=t[n];r.order=void 0!==e?e+n:void 0!==r.order?r.order:this.children.length>0?Math.max.apply(this,this.children.map((t=>t.order||0)))+1:0,o.propagateToChilden(r,this),this.children.push(r),r.clearBuffer(!0,!1),r.generate(0,!0)}this.sortChildren()}sortChildren(){this.children.sort(((t,e)=>t.order-e.order)),this.children=this.children.map(((t,e)=>(t.order=e,t)))}find(t){const e=this.getChildren();for(let r=0,n=e.length;r<n;r++){const n=e[r].find(t);if(null!==n)return n}return null}get(t){return t>=0&&t<this.children.length?this.children[t]:null}remove(t){t>=0&&t<this.children.length&&this.children.splice(t,1)}removeChildren(){this.children=[]}removeFromId(t){for(let e=0,r=this.children.length;e<r;e++)if(this.children[e].id===t||this.children[e].name===t)return void this.children.splice(e,1)}isFirstLevelChild(t){for(let e=0,r=this.children.length;e<r;e++)if(this.children[e].id===t.id)return!0;const e=this.getParentsOfSceneChild(t);return 1===e.length&&e[0]instanceof i.Group}getParentsOfSceneChild(t){const e=o.getParentsOfSceneChild(this,t);return e?(e.splice(0,1),e):[]}static getParentsOfSceneChild(t,e,r=[]){let a;if(t instanceof n.SceneChild){if(t.id==e.id)return r;if(t instanceof s.Shape&&t.shape){const n=r.slice();if(n.push(t),a=o.getParentsOfSceneChild(t.shape,e,n))return a}}if(t instanceof o||t instanceof i.Group){const n=t.getChildren();r.push(t);for(let t=0,i=n.length;t<i;t++){const i=n[t];if(a=o.getParentsOfSceneChild(i,e,r))return a}r.pop()}return null}static walk(t,e){if(e instanceof n.SceneChild){if(!1===t(e))return!1;if(e instanceof s.Shape&&e.shape&&!1===o.walk(t,e.shape))return!1}if(e instanceof o||e instanceof i.Group){const r=e.getChildren();for(let e=0,n=r.length;e<n;e++){const n=r[e];if(!1===o.walk(t,n))return!1}}}static propagateToChilden(t,e){t.scene=e,t instanceof i.Group?t.getChildren().forEach((t=>{o.propagateToChilden(t,e)})):t instanceof s.Shape&&t.shape&&(t.shape.scene=e,o.propagateToChilden(t.shape,e))}}e.Scene=o},541:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SceneChild=void 0;let r=0;e.SceneChild=class{constructor(t){var e;this.generateId=-1,this.id=null!==(e=t.id)&&void 0!==e?e:++r,this.type=t.type||"SceneChild",this.name=t.name||this.type+"_"+this.id,this.data=t.data||{},this.props={}}find(t){return this.id===t||this.name===t?this:null}getProps(){return this.props}getProp(t,e,r){var n;return null!==(n=this.props[t])&&void 0!==n?n:r}hasProp(t){return void 0!==this.props[t]}setPropUnsafe(t,e){"string"==typeof t?this.props[t]=e:Object.keys(t).forEach((e=>this.props[e]=t[e]))}}},313:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.interpolate=e.prepareBufferForInterpolation=e.distributePointsInBuffer=e.distanceFromRepetition=e.angle2FromRepetition=e.angleFromRepetition=e.random=e.noise=e.relativeClamp=e.clamp=e.lerp=e.toRadians=e.toDegrees=e.now=void 0;const n=r(21),i=r(769),s=r(795),a="undefined"!=typeof performance?performance:Date;function o(t,e,r){return r<=t?t:r>=e?e:r}e.now=function(){return a.now()},e.toDegrees=function(t){return 180*t/Math.PI},e.toRadians=function(t){return t*Math.PI/180},e.lerp=function(t,e,r){return(1-r)*t+r*e},e.clamp=o,e.relativeClamp=function(t,e,r,n,i){return o(n,i,(r-t)/(e-t)*(i-n)+n)};const h={random:new n(Math.random)};e.noise=function(t="random",e=0,r=0,i=0,s=-1,a=1){void 0===h[t]&&(h[t]=new n(t));const o=h[t].noise3D(e,r,i);return-1!==s||1!==a?(.5+.5*o)*(a-s)+s:o};const u={};function c(t,e){const r=t.length,n=r/2,i=2*(n+e),s=n-1;if(s>1){const n=r-2,a=Math.floor(e/s);let o=(i-(r+a*n))/2;const h=Math.round(s/o),u=new Float32Array(i);for(let e=0,r=0,i=0;e<n;e+=2,r++,i+=2){const s=t[e],c=t[e+1],l=t[e+2],f=t[e+3];u[i]=s,u[i+1]=c;const d=o>0&&(r%h==0||e===n-2),p=a+(d?1:0),m=1/(p+1);for(let t=0;t<p;t++,i+=2){const e=m*(t+1);u[i+2]=(1-e)*s+e*l,u[i+3]=(1-e)*c+e*f}d&&o--}return u[i-2]=t[r-2],u[i-1]=t[r-1],u}const a=new Float32Array(i);for(let e=0;e<i;e+=2)a[e]=t[e%r],a[e+1]=t[(e+1)%r];return a}function l(t,e){const r=t.length,n=e.length;if(r===n)return[t,e];const i=Math.abs(r-n),s=r<n?e:t,a=c(r<n?t:e,Math.floor(i/2));return r>n?[s,a]:[a,s]}e.random=function(t,e=0,r=1,n){const i=t+"";if(void 0===u[i]){const t=function(t){let e=0,r=1779033703^t.length;for(;e<t.length;e++)r=Math.imul(r^t.charCodeAt(e),3432918353),r=r<<13|r>>>19;return function(){return r=Math.imul(r^r>>>16,2246822507),r=Math.imul(r^r>>>13,3266489909),(r^=r>>>16)>>>0}}(i);u[i]=(s=t(),a=t(),o=t(),h=t(),function(){let t=(s>>>=0)+(a>>>=0)|0;return s=a^a>>>9,a=(o>>>=0)+(o<<3)|0,t=t+(h=1+(h>>>=0)|0)|0,o=(o=o<<21|o>>>11)+t|0,(t>>>0)/4294967296})}var s,a,o,h;const c=e+u[i]()*(r-e);return void 0!==n?Math.round(c*10**n)/10**n:c},e.angleFromRepetition=function(t,e=[0,0]){if(t.type===i.ERepetitionType.Matrix){const r=[(t.col.count-1)/2,(t.row.count-1)/2];r[0]+=r[0]*e[0],r[1]+=r[1]*e[1];const n=t.col.index-1-r[0],i=t.row.index-1-r[1];return 0===n?0:Math.atan(i/n)}return(t.angle-Math.PI)/2},e.angle2FromRepetition=function(t,e=[0,0]){if(t.type===i.ERepetitionType.Matrix){const r=[(t.col.count-1)/2,(t.row.count-1)/2];r[0]+=r[0]*e[0],r[1]+=r[1]*e[1];const n=t.col.index-1-r[0],i=t.row.index-1-r[1];return 0===n?0:Math.atan2(i,n)}return t.angle-Math.PI},e.distanceFromRepetition=function(t,e=[0,0]){if(t.type===i.ERepetitionType.Matrix){const r=[.5,.5];r[0]+=r[0]*e[0],r[1]+=r[1]*e[1];const n=[t.col.offset,t.row.offset];return s.default.distance(n,r)}return 1},e.distributePointsInBuffer=c,e.prepareBufferForInterpolation=l,e.interpolate=function(t,e,r=.5){const[n,i]=l(t,e),s=Math.max(n.length,i.length),a="number"==typeof r?[r]:r,o=s/2;if(a.length!==o){const t=a.length;for(let e=0;e<o;e++)a[e]=a[e%t]}const h=new Float32Array(s);for(let t=0,e=0;t<s;t+=2,e++)h[t]=(1-a[e])*n[t]+a[e]*i[t],h[t+1]=(1-a[e])*n[t+1]+a[e]*i[t+1];return h}},795:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=new Array(4),n={from:(t=0,e)=>{const r=new Array(2);return"number"==typeof t?(r[0]=t,r[1]=null!=e?e:t):(r[0]=t[0],r[1]=t[1]),r},normalize:t=>{const e=n.length(t);return 0!==e?[t[0]/e,t[1]/e]:[0,0]},distance:(t,e)=>Math.hypot(t[0]-e[0],t[1]-e[1]),dot:(t,e)=>t[0]*e[0]+t[1]*e[1],length:t=>Math.hypot(t[0],t[1]),angle:(t,e)=>(t=n.normalize(t),e=n.normalize(e),Math.acos(n.dot(t,e))),skewX:(t,e)=>{t[0]+=Math.tan(e)*t[1]},skewY:(t,e)=>{t[1]+=Math.tan(e)*t[0]},squeezeX:(t,e)=>{t[1]+=t[1]*(t[0]*-e)},squeezeY:(t,e)=>{t[0]+=t[0]*(t[1]*e)},rotate:(t,e,r)=>{const n=t[0]-r[0],i=t[1]-r[1];t[0]=n*e[0]+i*e[1]+r[0],t[1]=n*e[2]+i*e[3]+r[1]},rotateX:(t,e,i)=>{r[0]=1,r[1]=0,r[2]=0,r[3]=Math.cos(i),n.rotate(t,r,e)},rotateY:(t,e,i)=>{r[0]=Math.cos(i),r[1]=0,r[2]=0,r[3]=1,n.rotate(t,r,e)},rotateZ:(t,e,i)=>{r[0]=Math.cos(i),r[1]=-Math.sin(i),r[2]=Math.sin(i),r[3]=Math.cos(i),n.rotate(t,r,e)},translate:(t,e)=>{t[0]+=e[0],t[1]+=e[1]},scale:(t,e)=>{t[0]*=e[0],t[1]*=e[1]},divide:(t,e)=>{t[0]/=e[0],t[1]/=e[1]},toString:t=>`x: ${t[0]}, y: ${t[1]}`,ZERO:Array.from([0,0]),ONE:Array.from([1,1])};e.default=n},721:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toVec3=e.toVec2=e.fromSkew=e.VEC2_ONE=e.VEC2_ZERO=e.VEC3_ONE=e.VEC3_ZERO=void 0;const n=r(887);e.VEC3_ZERO=[0,0,0],e.VEC3_ONE=[1,1,1],e.VEC2_ZERO=[0,0],e.VEC2_ONE=[1,1],n.glMatrix.setMatrixArrayType(Array),e.fromSkew=function(t,e){return t[0]=1,t[1]=Math.tan(e[1]),t[2]=0,t[3]=0,t[4]=Math.tan(e[0]),t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.toVec2=function(t){return Array.isArray(t)?[t[0],t[1]]:[t,t]},e.toVec3=function(t,e=0){return Array.isArray(t)?[t[0],t[1],e]:[t,t,e]}},792:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mod=e.PHI=e.PI2=e.log=void 0,e.log=(t,e)=>Math.log(t)/Math.log(e),e.PI2=2*Math.PI,e.PHI=(1+Math.sqrt(5))/2,e.mod=(t,e)=>{const r=t%e;return r<0?r+e:r}},511:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Adapt=e.Bounding=e.EAdaptMode=void 0;const n=r(958);var i;!function(t){t[t.None=0]="None",t[t.Scale=2]="Scale",t[t.Center=4]="Center",t[t.Fill=8]="Fill"}(i=e.EAdaptMode||(e.EAdaptMode={})),e.Bounding={empty:()=>({cx:0,cy:0,x:-1,y:-1,width:2,height:2}),clear:t=>{t[0]=void 0,t[1]=void 0,t[2]=void 0,t[3]=void 0},add:(t,e,r)=>{(void 0===t[0]||e<t[0])&&(t[0]=e),(void 0===t[2]||e>t[2])&&(t[2]=e),(void 0===t[1]||r<t[1])&&(t[1]=r),(void 0===t[3]||r>t[3])&&(t[3]=r)},sum:(t,e)=>{void 0!==e[0]&&void 0!==e[1]&&void 0!==e[2]&&void 0!==e[3]?void 0===t[0]||void 0===t[1]||void 0===t[2]||void 0===t[3]?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]):(t[0]<e[0]&&(t[0]=e[0]),t[2]>e[2]&&(t[2]=e[2]),t[1]<e[1]&&(t[1]=e[1]),t[3]>e[3]&&(t[3]=e[3])):console.warn("[Urplfanze:Bounding] cannot sum bounding")},bind:(t,e)=>{void 0!==e[0]&&void 0!==e[1]&&void 0!==e[2]&&void 0!==e[3]?(t.x=e[0],t.y=e[1],t.width=e[2]-e[0],t.height=e[3]-e[1],t.cx=t.x+t.width/2,t.cy=t.y+t.height/2):console.warn("[Urplfanze:Bounding] cannot bind bounding")}};class s extends n.Modifier{constructor(t){super(),this.mode=t.mode||i.Fill,this.rect=t.rect}apply(t,e){return s.adapt(t,this.mode,this.rect)}static adapt(t,e,r){if(e===i.None)return Float32Array.from(t);const n=new Float32Array(t.length);r||(r=s.getBounding(t));const a=r.width>=2||r.height>=2||e>=i.Fill&&(r.width<2||r.height<2)?2/Math.max(r.width,r.height):1,o=e>=i.Center?r.cx:0,h=e>=i.Center?r.cy:0;for(let e=0,r=t.length;e<r;e+=2)n[e]=(t[e]-o)*a,n[e+1]=(t[e+1]-h)*a;return n}static getBounding(t,r){void 0===r&&(r=e.Bounding.empty());const n=[void 0,void 0,void 0,void 0];for(let r=0,i=t.length;r<i;r+=2)e.Bounding.add(n,t[r],t[r+1]);return e.Bounding.bind(r,n),r}}e.Adapt=s,s.MODES=i},958:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Modifier=void 0,e.Modifier=class{}},448:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=void 0;const n=r(378),i=r(541),s=r(648);class a extends s.ShapeBase{constructor(t){t.type=t.type||"Shape",super(t),t.shape instanceof i.SceneChild?this.shape=t.shape:console.warn("[Urpflanze:Shape] requires the 'shape' property to be instance of SceneChild,\nYou passed:",t.shape),this.shapeUseParent=!!t.shapeUseParent,this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}isStatic(){return super.isStatic()&&(!this.shape||this.shape.isStatic())}isStaticIndexed(){return super.isStaticIndexed()&&(!this.shape||this.shape.isStaticIndexed())}find(t){return this.id===t||this.name===t?this:this.shape?this.shape.find(t):null}getBufferLength(t){return this.bStatic&&this.buffer&&this.buffer.length>0?this.buffer.length:(this.shape?this.shape.getBufferLength(t):0)*this.getRepetitionCount()}generateBuffer(t,e){return this.shape?((this.shapeUseParent||this.shape.generateId!==t)&&(this.shapeUseParent&&this.shape.clearBuffer(!0,!1),this.shape.generate(t,!1,e)),this.shape.getBuffer()):a.EMPTY_BUFFER}getShapeBounding(){return this.shape?this.shape.getBounding():this.bounding}addIndex(t,e,r){if(this.shape){const n=this.shape.getIndexedBuffer()||[],i={shape:this,frameLength:t,singleRepetitionBounding:r,repetition:{type:e.type,angle:e.angle,index:e.index,count:e.count,offset:e.offset,row:{index:e.row.index,count:e.row.count,offset:e.row.offset},col:{index:e.col.index,count:e.col.count,offset:e.col.offset}}};for(let t=0,e=n.length;t<e;t++){const e={...n[t]},r=e.parent?a.setIndexedParent(e.parent,i):i;this.indexedBuffer.push({...e,parent:r})}}}static setIndexedParent(t,e){const r={...t};return r.parent=t.parent?a.setIndexedParent(t.parent,e):e,r}setShape(t){void 0===t?(this.shape=void 0,this.clearBuffer(!0,!0)):(this.scene&&n.Scene.propagateToChilden(t,this.scene),this.shape=t,this.shape.clearBuffer(!0,!0))}}e.Shape=a},648:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeBase=void 0;const n=r(887),i=r(757),s=r(721),a=r(795),o=r(792),h=r(511),u=r(313),c=r(541),l=n.mat4.create(),f=n.mat4.create(),d=n.mat4.create(),p=n.mat4.create();class m extends c.SceneChild{constructor(t={}){super(t),this.bIndexed=!1,this.indexedBuffer=[],this.bounding={cx:0,cy:0,x:-1,y:-1,width:2,height:2},this.props={distance:t.distance,repetitions:t.repetitions,rotateX:t.rotateX,rotateY:t.rotateY,rotateZ:t.rotateZ,skewX:t.skewX,skewY:t.skewY,squeezeX:t.squeezeX,squeezeY:t.squeezeY,displace:t.displace,translate:t.translate,scale:t.scale,transformOrigin:t.transformOrigin,perspective:t.perspective,perspectiveOrigin:t.perspectiveOrigin},this.anchor=t.anchor&&Array.isArray(t.anchor)?["number"==typeof t.anchor[0]?-1*u.clamp(-1,1,t.anchor[0]):"left"===t.anchor[0]?1:"right"===t.anchor[0]?-1:0,"number"==typeof t.anchor[1]?-1*u.clamp(-1,1,t.anchor[1]):"top"===t.anchor[1]?1:"bottom"===t.anchor[1]?-1:0]:[0,0],this.boundingType="string"==typeof t.boundingType?"relative"===t.boundingType?i.EBoundingType.Relative:i.EBoundingType.Fixed:t.boundingType||i.EBoundingType.Fixed,this.vertexCallback=t.vertexCallback}isStatic(){const t=this.props;return"function"!=typeof t.repetitions&&"function"!=typeof t.distance&&"function"!=typeof t.displace&&"function"!=typeof t.scale&&"function"!=typeof t.translate&&"function"!=typeof t.skewX&&"function"!=typeof t.skewY&&"function"!=typeof t.squeezeX&&"function"!=typeof t.squeezeY&&"function"!=typeof t.rotateX&&"function"!=typeof t.rotateY&&"function"!=typeof t.rotateZ&&"function"!=typeof t.transformOrigin&&"function"!=typeof t.perspective&&"function"!=typeof t.perspectiveOrigin}isStaticIndexed(){return"function"!=typeof this.props.repetitions}getProp(t,e,r){let n=this.props[t];return"function"==typeof n&&(n=n(e)),void 0===n||Number.isNaN(n)?r:n}setProp(t,e,r=!1){"string"==typeof t?(r=r||"repetitions"==t,this.props[t]=e):(r=r||"repetitions"in t,Object.keys(t).forEach((e=>this.props[e]=t[e]))),this.clearBuffer(r,!0)}clearBuffer(t=!1,e=!0){if(this.buffer=void 0,t&&(this.bIndexed=!1,this.indexedBuffer=[]),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed(),e&&this.scene&&!this.scene.isFirstLevelChild(this)){const r=this.scene.getParentsOfSceneChild(this);r.length>0&&r[r.length-1].clearBuffer(t,e)}}generate(t=0,e=!1,r){var c,g;if(this.buffer&&this.bStatic)return;this.generateId=t,this.bStaticIndexed&&this.bIndexed||(this.indexedBuffer=[]);const y=m.getEmptyPropArguments(this,r),v=y.repetition,b=this.getProp("repetitions",y,1),x=Array.isArray(b)?i.ERepetitionType.Matrix:i.ERepetitionType.Ring,M=Array.isArray(b)?b[0]*(null!==(c=b[1])&&void 0!==c?c:b[0]):b,w=Array.isArray(b)?b[0]:M,_=Array.isArray(b)?null!==(g=b[1])&&void 0!==g?g:b[0]:1,A=v.row;A.count=w;const S=v.col;S.count=_,v.count=M,v.col.count=_,v.row.count=w,v.type=x;let k=0;const C=[];let E=0;const O=n.vec2.fromValues((_-1)/2,(w-1)/2),P=this.scene?[this.scene.anchor[0],this.scene.anchor[1],0]:[0,0,0],T=[void 0,void 0,void 0,void 0],I=[void 0,void 0,void 0,void 0];for(let r=0;r<w;r++)for(let c=0;c<_;c++,E++){v.index=E+1,v.offset=M>1?E/(M-1):1,v.angle=x===i.ERepetitionType.Ring?o.PI2/M*E:0,S.index=c+1,S.offset=_>1?c/(_-1):1,A.index=r+1,A.offset=w>1?r/(w-1):1;const m=this.generateBuffer(t,y),g=m.length,b=this.getShapeBounding();C[E]=new Float32Array(g),k+=g;{const t=s.toVec2(this.getProp("distance",y,s.VEC2_ZERO)),o=this.getProp("displace",y,0),M=s.toVec3(this.getProp("scale",y,s.VEC2_ONE),1),w=s.toVec3(this.getProp("translate",y,s.VEC2_ZERO),0),_=this.getProp("skewX",y,0),A=this.getProp("skewY",y,0),S=this.getProp("squeezeX",y,0),k=this.getProp("squeezeY",y,0),q=this.getProp("rotateX",y,0),R=this.getProp("rotateY",y,0),F=this.getProp("rotateZ",y,0),j=u.clamp(0,1,this.getProp("perspective",y,0)),B=s.toVec3(this.getProp("perspectiveOrigin",y,s.VEC2_ZERO),0),N=s.toVec3(this.getProp("transformOrigin",y,s.VEC2_ZERO),0);let L;switch(x){case i.ERepetitionType.Ring:L=n.vec3.fromValues(t[0],0,0),n.vec3.rotateZ(L,L,s.VEC3_ZERO,v.angle+o);break;case i.ERepetitionType.Matrix:L=n.vec3.fromValues(t[1]*(c-O[0]),t[0]*(r-O[1]),0)}const z=j>0?Math.max(b.width,b.height)/2:1,D=j>0?z+10*z*(1-j):0,V=this.boundingType!==i.EBoundingType.Relative||0!==b.cx||0!==b.cy||0!==j||0!==N[0]||0!==N[1],$=0!==B[0]||0!==B[1];V&&(this.boundingType===i.EBoundingType.Relative?(N[0]=N[0]*(b.width/2)+b.cx,N[1]=N[1]*(b.height/2)+b.cy):(N[0]*=b.width/2,N[1]*=b.height/2),N[2]=D);{n.mat4.identity(f),V&&n.mat4.translate(f,f,N),0===w[0]&&0===w[1]||n.mat4.translate(f,f,w),0===_&&0===A||(s.fromSkew(l,[_,A]),n.mat4.multiply(f,f,l)),0!==q&&n.mat4.rotateX(f,f,q),0!==R&&n.mat4.rotateY(f,f,R),0!==F&&n.mat4.rotateZ(f,f,F),1===M[0]&&1===M[1]||n.mat4.scale(f,f,M),V&&n.mat4.translate(f,f,n.vec3.scale(N,N,-1)),D>0&&($&&(this.boundingType===i.EBoundingType.Relative?(B[0]=B[0]*(b.width/2)+b.cx,B[1]=B[1]*(b.height/2)+b.cy):(B[0]*=b.width/2,B[1]*=b.height/2),B[2]=0),n.mat4.perspective(d,-Math.PI/2,1,0,1/0)),n.mat4.identity(p),n.mat4.translate(p,p,L),e&&n.mat4.translate(p,p,P);const t=[this.anchor[0]*(b.width/2),this.anchor[1]*(b.height/2),0];n.mat4.translate(p,p,t),x===i.ERepetitionType.Ring&&n.mat4.rotateZ(p,p,v.angle+o)}h.Bounding.clear(I);for(let t=0;t<g;t+=2){const e=[m[t],m[t+1],D];if(0!==S&&a.default.squeezeX(e,S),0!==k&&a.default.squeezeY(e,k),n.vec3.transformMat4(e,e,f),D>0&&($&&n.vec3.add(e,e,B),n.vec3.transformMat4(e,e,d),n.vec3.scale(e,e,D),$&&n.vec3.sub(e,e,B)),n.vec3.transformMat4(e,e,p),void 0!==this.vertexCallback){const r=t/2,n=g/2,i={index:r+1,count:n,offset:n>1?r/(n-1):1};this.vertexCallback(e,i,y)}C[E][t]=e[0],C[E][t+1]=e[1],h.Bounding.add(I,e[0],e[1]),h.Bounding.add(T,e[0],e[1])}}const q={cx:0,cy:0,x:-1,y:-1,width:2,height:2};h.Bounding.bind(q,I),this.bStaticIndexed&&this.bIndexed||this.addIndex(g,v,q)}h.Bounding.bind(this.bounding,T),this.buffer=new Float32Array(k);for(let t=0,e=0,r=C.length;t<r;e+=C[t].length,t++)this.buffer.set(C[t],e);this.bIndexed=!0}getBounding(){return this.bounding}getRepetitionCount(){var t;const e=this.getProp("repetitions",void 0,1);return Array.isArray(e)?e[0]*(null!==(t=e[1])&&void 0!==t?t:e[0]):e}getBuffer(){return this.buffer}getIndexedBuffer(){return this.indexedBuffer}static getIndexParentLevel(t){if(void 0===t.parent)return 0;let e=t.parent,r=1;for(;void 0!==e.parent;)r++,e=e.parent;return r}stream(t){if(this.buffer&&this.indexedBuffer)for(let e=0,r=0,n=this.indexedBuffer.length;e<n;e++){const i=this.indexedBuffer[e];t({buffer:this.buffer,frameLength:i.frameLength,frameBufferIndex:r,currentIndexing:i,currentShapeIndex:e,totalShapes:n}),r+=i.frameLength}}static getEmptyPropArguments(t,e){return{repetition:{type:i.ERepetitionType.Ring,angle:0,index:1,offset:1,count:1,row:{index:1,offset:1,count:1},col:{index:1,offset:1,count:1}},shape:t,parent:e}}}e.ShapeBase=m,m.EMPTY_BUFFER=new Float32Array(0),m.getEmptySimpleRepetition=()=>({index:1,offset:1,count:1}),m.getEmptyRepetition=()=>({type:i.ERepetitionType.Ring,angle:0,...m.getEmptySimpleRepetition(),row:m.getEmptySimpleRepetition(),col:m.getEmptySimpleRepetition()})},439:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeBuffer=void 0;const n=r(511),i=r(674);class s extends i.ShapePrimitive{constructor(t={}){var e,r;t.type=t.type||"ShapeBuffer",t.adaptMode=null!==(e=t.adaptMode)&&void 0!==e?e:n.EAdaptMode.Scale,super(t),this.adaptMode=null!==(r=t.adaptMode)&&void 0!==r?r:n.EAdaptMode.Fill,void 0===t.shape?(console.warn("[Urpflanze:ShapeBuffer] ShapeBuffer require a buffer passed from `shape` property"),this.shape=s.EMPTY_BUFFER):this.shape="function"!=typeof t.shape?n.Adapt.adapt(t.shape,this.adaptMode):t.shape,this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}isStatic(){return"function"!=typeof this.shape&&super.isStatic()}isStaticIndexed(){return"function"!=typeof this.shape&&super.isStaticIndexed()}clearBuffer(t=!1,e=!0){super.clearBuffer(t,e),this.shapeBuffer=void 0}bindBuffer(t){const e=this.getRepetitionSideLength(t),r=this.applyModifiers(Float32Array.from("function"==typeof this.shape?this.shape(t):this.shape),t),i=[void 0,void 0,void 0,void 0];for(let t=0,s=r.length;t<s;t+=2)r[t]=r[t]*e[0],r[t+1]=r[t+1]*e[1],n.Bounding.add(i,r[t],r[t+1]);n.Bounding.bind(this.currentGenerationPrimitiveBounding,i),this.shapeBuffer=r}getBufferLength(){return this.buffer&&this.buffer.length>0?this.buffer.length:this.shape.length*this.getRepetitionCount()}generateBuffer(t,e){return void 0!==this.shapeBuffer&&"function"!=typeof this.props.sideLength&&"function"!=typeof this.shape||this.bindBuffer(e),this.shapeBuffer}setShape(t){this.shape=n.Adapt.adapt(t,this.adaptMode),this.clearBuffer(!0)}getAdaptMode(){return this.adaptMode}static getBuffer(t={}){const e=new this({...t,sideLength:t.sideLength||1});return e.generate(),e.getBuffer()||new Float32Array}}e.ShapeBuffer=s},674:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShapePrimitive=void 0;const n=r(721),i=r(648),s=r(958),a=r(511);class o extends i.ShapeBase{constructor(t={}){var e;super(t),this.currentGenerationPrimitiveBounding=a.Bounding.empty(),this.props.sideLength=void 0===t.sideLength?void 0:"function"==typeof t.sideLength?t.sideLength:n.toVec2(t.sideLength),this.drawer=t.drawer||{},this.modifiers=t.modifiers,this.bClosed=null===(e=t.bClosed)||void 0===e||e}isStatic(){return"function"!=typeof this.props.sideLength&&super.isStatic()}getRepetitionSideLength(t){return this.bStatic?(void 0===this.props.sideLength?this.props.sideLength=[50,50]:"number"==typeof this.props.sideLength&&(this.props.sideLength=[this.props.sideLength,this.props.sideLength]),this.props.sideLength):n.toVec2(this.getProp("sideLength",t,[50,50]))}applyModifiers(t,e){if(void 0===this.modifiers)return t;let r=t;const n=Array.isArray(this.modifiers)?this.modifiers:[this.modifiers];for(let t=0,i=n.length;t<i;t++)r=(n[t]instanceof s.Modifier?n[t]:n[t](e)).apply(r,this.bClosed,this);return r}getShapeBounding(){return this.currentGenerationPrimitiveBounding}addIndex(t,e,r){const n={shape:this,frameLength:t,singleRepetitionBounding:r,repetition:{type:e.type,angle:e.angle,index:e.index,count:e.count,offset:e.offset,row:{index:e.row.index,count:e.row.count,offset:e.row.offset},col:{index:e.col.index,count:e.col.count,offset:e.col.offset}}};this.indexedBuffer.push(n)}isClosed(){return this.bClosed}setClosed(t){this.bClosed=t}}e.ShapePrimitive=o},757:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(678),e),i(r(66),e),i(r(769),e),i(r(266),e),i(r(647),e),i(r(526),e),i(r(618),e),i(r(787),e)},678:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},66:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},769:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.ERepetitionType=void 0,(r=e.ERepetitionType||(e.ERepetitionType={}))[r.Ring=1]="Ring",r[r.Matrix=2]="Matrix"},266:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},647:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},526:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.EBoundingType=void 0,(r=e.EBoundingType||(e.EBoundingType={}))[r.Relative=1]="Relative",r[r.Fixed=2]="Fixed"},618:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},787:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},887:(t,e,r)=>{"use strict";r.r(e),r.d(e,{glMatrix:()=>n,mat2:()=>i,mat2d:()=>s,mat3:()=>a,mat4:()=>o,quat:()=>c,quat2:()=>l,vec2:()=>f,vec3:()=>h,vec4:()=>u});var n={};r.r(n),r.d(n,{ARRAY_TYPE:()=>p,EPSILON:()=>d,RANDOM:()=>m,equals:()=>b,setMatrixArrayType:()=>g,toRadian:()=>v});var i={};r.r(i),r.d(i,{LDU:()=>B,add:()=>N,adjoint:()=>E,clone:()=>M,copy:()=>w,create:()=>x,determinant:()=>O,equals:()=>D,exactEquals:()=>z,frob:()=>j,fromRotation:()=>q,fromScaling:()=>R,fromValues:()=>A,identity:()=>_,invert:()=>C,mul:()=>Y,multiply:()=>P,multiplyScalar:()=>V,multiplyScalarAndAdd:()=>$,rotate:()=>T,scale:()=>I,set:()=>S,str:()=>F,sub:()=>G,subtract:()=>L,transpose:()=>k});var s={};r.r(s),r.d(s,{add:()=>ut,clone:()=>U,copy:()=>H,create:()=>X,determinant:()=>K,equals:()=>pt,exactEquals:()=>dt,frob:()=>ht,fromRotation:()=>it,fromScaling:()=>st,fromTranslation:()=>at,fromValues:()=>Q,identity:()=>Z,invert:()=>J,mul:()=>mt,multiply:()=>tt,multiplyScalar:()=>lt,multiplyScalarAndAdd:()=>ft,rotate:()=>et,scale:()=>rt,set:()=>W,str:()=>ot,sub:()=>gt,subtract:()=>ct,translate:()=>nt});var a={};r.r(a),r.d(a,{add:()=>Dt,adjoint:()=>kt,clone:()=>bt,copy:()=>xt,create:()=>yt,determinant:()=>Ct,equals:()=>Xt,exactEquals:()=>Gt,frob:()=>zt,fromMat2d:()=>Ft,fromMat4:()=>vt,fromQuat:()=>jt,fromRotation:()=>qt,fromScaling:()=>Rt,fromTranslation:()=>It,fromValues:()=>Mt,identity:()=>_t,invert:()=>St,mul:()=>Ut,multiply:()=>Et,multiplyScalar:()=>$t,multiplyScalarAndAdd:()=>Yt,normalFromMat4:()=>Bt,projection:()=>Nt,rotate:()=>Pt,scale:()=>Tt,set:()=>wt,str:()=>Lt,sub:()=>Ht,subtract:()=>Vt,translate:()=>Ot,transpose:()=>At});var o={};r.r(o),r.d(o,{add:()=>Re,adjoint:()=>ne,clone:()=>Qt,copy:()=>Wt,create:()=>Zt,determinant:()=>ie,equals:()=>Le,exactEquals:()=>Ne,frob:()=>qe,fromQuat:()=>Se,fromQuat2:()=>be,fromRotation:()=>pe,fromRotationTranslation:()=>ve,fromRotationTranslationScale:()=>_e,fromRotationTranslationScaleOrigin:()=>Ae,fromScaling:()=>de,fromTranslation:()=>fe,fromValues:()=>Jt,fromXRotation:()=>me,fromYRotation:()=>ge,fromZRotation:()=>ye,frustum:()=>ke,getRotation:()=>we,getScaling:()=>Me,getTranslation:()=>xe,identity:()=>te,invert:()=>re,lookAt:()=>Pe,mul:()=>ze,multiply:()=>se,multiplyScalar:()=>je,multiplyScalarAndAdd:()=>Be,ortho:()=>Oe,perspective:()=>Ce,perspectiveFromFieldOfView:()=>Ee,rotate:()=>he,rotateX:()=>ue,rotateY:()=>ce,rotateZ:()=>le,scale:()=>oe,set:()=>Kt,str:()=>Ie,sub:()=>De,subtract:()=>Fe,targetTo:()=>Te,translate:()=>ae,transpose:()=>ee});var h={};r.r(h),r.d(h,{add:()=>He,angle:()=>_r,bezier:()=>mr,ceil:()=>Je,clone:()=>$e,copy:()=>Xe,create:()=>Ve,cross:()=>fr,dist:()=>Ir,distance:()=>sr,div:()=>Tr,divide:()=>We,dot:()=>lr,equals:()=>Cr,exactEquals:()=>kr,floor:()=>Ke,forEach:()=>jr,fromValues:()=>Ge,hermite:()=>pr,inverse:()=>ur,len:()=>Rr,length:()=>Ye,lerp:()=>dr,max:()=>er,min:()=>tr,mul:()=>Pr,multiply:()=>Qe,negate:()=>hr,normalize:()=>cr,random:()=>gr,rotateX:()=>xr,rotateY:()=>Mr,rotateZ:()=>wr,round:()=>rr,scale:()=>nr,scaleAndAdd:()=>ir,set:()=>Ue,sqrDist:()=>qr,sqrLen:()=>Fr,squaredDistance:()=>ar,squaredLength:()=>or,str:()=>Sr,sub:()=>Or,subtract:()=>Ze,transformMat3:()=>vr,transformMat4:()=>yr,transformQuat:()=>br,zero:()=>Ar});var u={};r.r(u),r.d(u,{add:()=>Vr,ceil:()=>Xr,clone:()=>Nr,copy:()=>zr,create:()=>Br,cross:()=>hn,dist:()=>xn,distance:()=>Kr,div:()=>bn,divide:()=>Gr,dot:()=>on,equals:()=>gn,exactEquals:()=>mn,floor:()=>Ur,forEach:()=>An,fromValues:()=>Lr,inverse:()=>sn,len:()=>wn,length:()=>en,lerp:()=>un,max:()=>Zr,min:()=>Hr,mul:()=>vn,multiply:()=>Yr,negate:()=>nn,normalize:()=>an,random:()=>cn,round:()=>Qr,scale:()=>Wr,scaleAndAdd:()=>Jr,set:()=>Dr,sqrDist:()=>Mn,sqrLen:()=>_n,squaredDistance:()=>tn,squaredLength:()=>rn,str:()=>pn,sub:()=>yn,subtract:()=>$r,transformMat4:()=>ln,transformQuat:()=>fn,zero:()=>dn});var c={};r.r(c),r.d(c,{add:()=>ei,calculateW:()=>Rn,clone:()=>Wn,conjugate:()=>Dn,copy:()=>Kn,create:()=>Sn,dot:()=>ii,equals:()=>fi,exactEquals:()=>li,exp:()=>Fn,fromEuler:()=>$n,fromMat3:()=>Vn,fromValues:()=>Jn,getAngle:()=>On,getAxisAngle:()=>En,identity:()=>kn,invert:()=>zn,len:()=>oi,length:()=>ai,lerp:()=>si,ln:()=>jn,mul:()=>ri,multiply:()=>Pn,normalize:()=>ci,pow:()=>Bn,random:()=>Ln,rotateX:()=>Tn,rotateY:()=>In,rotateZ:()=>qn,rotationTo:()=>di,scale:()=>ni,set:()=>ti,setAxes:()=>mi,setAxisAngle:()=>Cn,slerp:()=>Nn,sqlerp:()=>pi,sqrLen:()=>ui,squaredLength:()=>hi,str:()=>Yn});var l={};r.r(l),r.d(l,{add:()=>Li,clone:()=>yi,conjugate:()=>Xi,copy:()=>Ai,create:()=>gi,dot:()=>$i,equals:()=>ts,exactEquals:()=>Ki,fromMat4:()=>_i,fromRotation:()=>wi,fromRotationTranslation:()=>xi,fromRotationTranslationValues:()=>bi,fromTranslation:()=>Mi,fromValues:()=>vi,getDual:()=>Ei,getReal:()=>Ci,getTranslation:()=>Ti,identity:()=>Si,invert:()=>Gi,len:()=>Hi,length:()=>Ui,lerp:()=>Yi,mul:()=>Di,multiply:()=>zi,normalize:()=>Wi,rotateAroundAxis:()=>Ni,rotateByQuatAppend:()=>ji,rotateByQuatPrepend:()=>Bi,rotateX:()=>qi,rotateY:()=>Ri,rotateZ:()=>Fi,scale:()=>Vi,set:()=>ki,setDual:()=>Pi,setReal:()=>Oi,sqrLen:()=>Qi,squaredLength:()=>Zi,str:()=>Ji,translate:()=>Ii});var f={};r.r(f),r.d(f,{add:()=>as,angle:()=>qs,ceil:()=>cs,clone:()=>rs,copy:()=>is,create:()=>es,cross:()=>Ss,dist:()=>Vs,distance:()=>ys,div:()=>Ds,divide:()=>us,dot:()=>As,equals:()=>Bs,exactEquals:()=>js,floor:()=>ls,forEach:()=>Gs,fromValues:()=>ns,inverse:()=>ws,len:()=>Ns,length:()=>bs,lerp:()=>ks,max:()=>ds,min:()=>fs,mul:()=>zs,multiply:()=>hs,negate:()=>Ms,normalize:()=>_s,random:()=>Cs,rotate:()=>Is,round:()=>ps,scale:()=>ms,scaleAndAdd:()=>gs,set:()=>ss,sqrDist:()=>$s,sqrLen:()=>Ys,squaredDistance:()=>vs,squaredLength:()=>xs,str:()=>Fs,sub:()=>Ls,subtract:()=>os,transformMat2:()=>Es,transformMat2d:()=>Os,transformMat3:()=>Ps,transformMat4:()=>Ts,zero:()=>Rs});var d=1e-6,p="undefined"!=typeof Float32Array?Float32Array:Array,m=Math.random;function g(t){p=t}var y=Math.PI/180;function v(t){return t*y}function b(t,e){return Math.abs(t-e)<=d*Math.max(1,Math.abs(t),Math.abs(e))}function x(){var t=new p(4);return p!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function M(t){var e=new p(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function w(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function _(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function A(t,e,r,n){var i=new p(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=n,i}function S(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function k(t,e){if(t===e){var r=e[1];t[1]=e[2],t[2]=r}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function C(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=r*s-i*n;return a?(a=1/a,t[0]=s*a,t[1]=-n*a,t[2]=-i*a,t[3]=r*a,t):null}function E(t,e){var r=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=r,t}function O(t){return t[0]*t[3]-t[2]*t[1]}function P(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3],o=r[0],h=r[1],u=r[2],c=r[3];return t[0]=n*o+s*h,t[1]=i*o+a*h,t[2]=n*u+s*c,t[3]=i*u+a*c,t}function T(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3],o=Math.sin(r),h=Math.cos(r);return t[0]=n*h+s*o,t[1]=i*h+a*o,t[2]=n*-o+s*h,t[3]=i*-o+a*h,t}function I(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3],o=r[0],h=r[1];return t[0]=n*o,t[1]=i*o,t[2]=s*h,t[3]=a*h,t}function q(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t}function R(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function F(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function j(t){return Math.hypot(t[0],t[1],t[2],t[3])}function B(t,e,r,n){return t[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-t[2]*r[1],[t,e,r]}function N(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function L(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function z(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function D(t,e){var r=t[0],n=t[1],i=t[2],s=t[3],a=e[0],o=e[1],h=e[2],u=e[3];return Math.abs(r-a)<=d*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-o)<=d*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-h)<=d*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(s-u)<=d*Math.max(1,Math.abs(s),Math.abs(u))}function V(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function $(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var Y=P,G=L;function X(){var t=new p(6);return p!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function U(t){var e=new p(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function H(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Z(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function Q(t,e,r,n,i,s){var a=new p(6);return a[0]=t,a[1]=e,a[2]=r,a[3]=n,a[4]=i,a[5]=s,a}function W(t,e,r,n,i,s,a){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=s,t[5]=a,t}function J(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=e[4],o=e[5],h=r*s-n*i;return h?(h=1/h,t[0]=s*h,t[1]=-n*h,t[2]=-i*h,t[3]=r*h,t[4]=(i*o-s*a)*h,t[5]=(n*a-r*o)*h,t):null}function K(t){return t[0]*t[3]-t[1]*t[2]}function tt(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3],o=e[4],h=e[5],u=r[0],c=r[1],l=r[2],f=r[3],d=r[4],p=r[5];return t[0]=n*u+s*c,t[1]=i*u+a*c,t[2]=n*l+s*f,t[3]=i*l+a*f,t[4]=n*d+s*p+o,t[5]=i*d+a*p+h,t}function et(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3],o=e[4],h=e[5],u=Math.sin(r),c=Math.cos(r);return t[0]=n*c+s*u,t[1]=i*c+a*u,t[2]=n*-u+s*c,t[3]=i*-u+a*c,t[4]=o,t[5]=h,t}function rt(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3],o=e[4],h=e[5],u=r[0],c=r[1];return t[0]=n*u,t[1]=i*u,t[2]=s*c,t[3]=a*c,t[4]=o,t[5]=h,t}function nt(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3],o=e[4],h=e[5],u=r[0],c=r[1];return t[0]=n,t[1]=i,t[2]=s,t[3]=a,t[4]=n*u+s*c+o,t[5]=i*u+a*c+h,t}function it(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t[4]=0,t[5]=0,t}function st(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function at(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function ot(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function ht(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)}function ut(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t}function ct(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t}function lt(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t}function ft(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t}function dt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function pt(t,e){var r=t[0],n=t[1],i=t[2],s=t[3],a=t[4],o=t[5],h=e[0],u=e[1],c=e[2],l=e[3],f=e[4],p=e[5];return Math.abs(r-h)<=d*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(n-u)<=d*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(i-c)<=d*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(s-l)<=d*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(a-f)<=d*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(o-p)<=d*Math.max(1,Math.abs(o),Math.abs(p))}var mt=tt,gt=ct;function yt(){var t=new p(9);return p!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function vt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function bt(t){var e=new p(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function xt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Mt(t,e,r,n,i,s,a,o,h){var u=new p(9);return u[0]=t,u[1]=e,u[2]=r,u[3]=n,u[4]=i,u[5]=s,u[6]=a,u[7]=o,u[8]=h,u}function wt(t,e,r,n,i,s,a,o,h,u){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=s,t[5]=a,t[6]=o,t[7]=h,t[8]=u,t}function _t(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function At(t,e){if(t===e){var r=e[1],n=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function St(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=e[4],o=e[5],h=e[6],u=e[7],c=e[8],l=c*a-o*u,f=-c*s+o*h,d=u*s-a*h,p=r*l+n*f+i*d;return p?(p=1/p,t[0]=l*p,t[1]=(-c*n+i*u)*p,t[2]=(o*n-i*a)*p,t[3]=f*p,t[4]=(c*r-i*h)*p,t[5]=(-o*r+i*s)*p,t[6]=d*p,t[7]=(-u*r+n*h)*p,t[8]=(a*r-n*s)*p,t):null}function kt(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=e[4],o=e[5],h=e[6],u=e[7],c=e[8];return t[0]=a*c-o*u,t[1]=i*u-n*c,t[2]=n*o-i*a,t[3]=o*h-s*c,t[4]=r*c-i*h,t[5]=i*s-r*o,t[6]=s*u-a*h,t[7]=n*h-r*u,t[8]=r*a-n*s,t}function Ct(t){var e=t[0],r=t[1],n=t[2],i=t[3],s=t[4],a=t[5],o=t[6],h=t[7],u=t[8];return e*(u*s-a*h)+r*(-u*i+a*o)+n*(h*i-s*o)}function Et(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3],o=e[4],h=e[5],u=e[6],c=e[7],l=e[8],f=r[0],d=r[1],p=r[2],m=r[3],g=r[4],y=r[5],v=r[6],b=r[7],x=r[8];return t[0]=f*n+d*a+p*u,t[1]=f*i+d*o+p*c,t[2]=f*s+d*h+p*l,t[3]=m*n+g*a+y*u,t[4]=m*i+g*o+y*c,t[5]=m*s+g*h+y*l,t[6]=v*n+b*a+x*u,t[7]=v*i+b*o+x*c,t[8]=v*s+b*h+x*l,t}function Ot(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3],o=e[4],h=e[5],u=e[6],c=e[7],l=e[8],f=r[0],d=r[1];return t[0]=n,t[1]=i,t[2]=s,t[3]=a,t[4]=o,t[5]=h,t[6]=f*n+d*a+u,t[7]=f*i+d*o+c,t[8]=f*s+d*h+l,t}function Pt(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3],o=e[4],h=e[5],u=e[6],c=e[7],l=e[8],f=Math.sin(r),d=Math.cos(r);return t[0]=d*n+f*a,t[1]=d*i+f*o,t[2]=d*s+f*h,t[3]=d*a-f*n,t[4]=d*o-f*i,t[5]=d*h-f*s,t[6]=u,t[7]=c,t[8]=l,t}function Tt(t,e,r){var n=r[0],i=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function It(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function qt(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Rt(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Ft(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function jt(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=r+r,o=n+n,h=i+i,u=r*a,c=n*a,l=n*o,f=i*a,d=i*o,p=i*h,m=s*a,g=s*o,y=s*h;return t[0]=1-l-p,t[3]=c-y,t[6]=f+g,t[1]=c+y,t[4]=1-u-p,t[7]=d-m,t[2]=f-g,t[5]=d+m,t[8]=1-u-l,t}function Bt(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=e[4],o=e[5],h=e[6],u=e[7],c=e[8],l=e[9],f=e[10],d=e[11],p=e[12],m=e[13],g=e[14],y=e[15],v=r*o-n*a,b=r*h-i*a,x=r*u-s*a,M=n*h-i*o,w=n*u-s*o,_=i*u-s*h,A=c*m-l*p,S=c*g-f*p,k=c*y-d*p,C=l*g-f*m,E=l*y-d*m,O=f*y-d*g,P=v*O-b*E+x*C+M*k-w*S+_*A;return P?(P=1/P,t[0]=(o*O-h*E+u*C)*P,t[1]=(h*k-a*O-u*S)*P,t[2]=(a*E-o*k+u*A)*P,t[3]=(i*E-n*O-s*C)*P,t[4]=(r*O-i*k+s*S)*P,t[5]=(n*k-r*E-s*A)*P,t[6]=(m*_-g*w+y*M)*P,t[7]=(g*x-p*_-y*b)*P,t[8]=(p*w-m*x+y*v)*P,t):null}function Nt(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Lt(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function zt(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function Dt(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t}function Vt(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}function $t(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t}function Yt(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t}function Gt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function Xt(t,e){var r=t[0],n=t[1],i=t[2],s=t[3],a=t[4],o=t[5],h=t[6],u=t[7],c=t[8],l=e[0],f=e[1],p=e[2],m=e[3],g=e[4],y=e[5],v=e[6],b=e[7],x=e[8];return Math.abs(r-l)<=d*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(n-f)<=d*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(i-p)<=d*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(s-m)<=d*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(a-g)<=d*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(o-y)<=d*Math.max(1,Math.abs(o),Math.abs(y))&&Math.abs(h-v)<=d*Math.max(1,Math.abs(h),Math.abs(v))&&Math.abs(u-b)<=d*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(c-x)<=d*Math.max(1,Math.abs(c),Math.abs(x))}var Ut=Et,Ht=Vt;function Zt(){var t=new p(16);return p!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Qt(t){var e=new p(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Wt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Jt(t,e,r,n,i,s,a,o,h,u,c,l,f,d,m,g){var y=new p(16);return y[0]=t,y[1]=e,y[2]=r,y[3]=n,y[4]=i,y[5]=s,y[6]=a,y[7]=o,y[8]=h,y[9]=u,y[10]=c,y[11]=l,y[12]=f,y[13]=d,y[14]=m,y[15]=g,y}function Kt(t,e,r,n,i,s,a,o,h,u,c,l,f,d,p,m,g){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=s,t[5]=a,t[6]=o,t[7]=h,t[8]=u,t[9]=c,t[10]=l,t[11]=f,t[12]=d,t[13]=p,t[14]=m,t[15]=g,t}function te(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ee(t,e){if(t===e){var r=e[1],n=e[2],i=e[3],s=e[6],a=e[7],o=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=s,t[11]=e[14],t[12]=i,t[13]=a,t[14]=o}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function re(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=e[4],o=e[5],h=e[6],u=e[7],c=e[8],l=e[9],f=e[10],d=e[11],p=e[12],m=e[13],g=e[14],y=e[15],v=r*o-n*a,b=r*h-i*a,x=r*u-s*a,M=n*h-i*o,w=n*u-s*o,_=i*u-s*h,A=c*m-l*p,S=c*g-f*p,k=c*y-d*p,C=l*g-f*m,E=l*y-d*m,O=f*y-d*g,P=v*O-b*E+x*C+M*k-w*S+_*A;return P?(P=1/P,t[0]=(o*O-h*E+u*C)*P,t[1]=(i*E-n*O-s*C)*P,t[2]=(m*_-g*w+y*M)*P,t[3]=(f*w-l*_-d*M)*P,t[4]=(h*k-a*O-u*S)*P,t[5]=(r*O-i*k+s*S)*P,t[6]=(g*x-p*_-y*b)*P,t[7]=(c*_-f*x+d*b)*P,t[8]=(a*E-o*k+u*A)*P,t[9]=(n*k-r*E-s*A)*P,t[10]=(p*w-m*x+y*v)*P,t[11]=(l*x-c*w-d*v)*P,t[12]=(o*S-a*C-h*A)*P,t[13]=(r*C-n*S+i*A)*P,t[14]=(m*b-p*M-g*v)*P,t[15]=(c*M-l*b+f*v)*P,t):null}function ne(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=e[4],o=e[5],h=e[6],u=e[7],c=e[8],l=e[9],f=e[10],d=e[11],p=e[12],m=e[13],g=e[14],y=e[15];return t[0]=o*(f*y-d*g)-l*(h*y-u*g)+m*(h*d-u*f),t[1]=-(n*(f*y-d*g)-l*(i*y-s*g)+m*(i*d-s*f)),t[2]=n*(h*y-u*g)-o*(i*y-s*g)+m*(i*u-s*h),t[3]=-(n*(h*d-u*f)-o*(i*d-s*f)+l*(i*u-s*h)),t[4]=-(a*(f*y-d*g)-c*(h*y-u*g)+p*(h*d-u*f)),t[5]=r*(f*y-d*g)-c*(i*y-s*g)+p*(i*d-s*f),t[6]=-(r*(h*y-u*g)-a*(i*y-s*g)+p*(i*u-s*h)),t[7]=r*(h*d-u*f)-a*(i*d-s*f)+c*(i*u-s*h),t[8]=a*(l*y-d*m)-c*(o*y-u*m)+p*(o*d-u*l),t[9]=-(r*(l*y-d*m)-c*(n*y-s*m)+p*(n*d-s*l)),t[10]=r*(o*y-u*m)-a*(n*y-s*m)+p*(n*u-s*o),t[11]=-(r*(o*d-u*l)-a*(n*d-s*l)+c*(n*u-s*o)),t[12]=-(a*(l*g-f*m)-c*(o*g-h*m)+p*(o*f-h*l)),t[13]=r*(l*g-f*m)-c*(n*g-i*m)+p*(n*f-i*l),t[14]=-(r*(o*g-h*m)-a*(n*g-i*m)+p*(n*h-i*o)),t[15]=r*(o*f-h*l)-a*(n*f-i*l)+c*(n*h-i*o),t}function ie(t){var e=t[0],r=t[1],n=t[2],i=t[3],s=t[4],a=t[5],o=t[6],h=t[7],u=t[8],c=t[9],l=t[10],f=t[11],d=t[12],p=t[13],m=t[14],g=t[15];return(e*a-r*s)*(l*g-f*m)-(e*o-n*s)*(c*g-f*p)+(e*h-i*s)*(c*m-l*p)+(r*o-n*a)*(u*g-f*d)-(r*h-i*a)*(u*m-l*d)+(n*h-i*o)*(u*p-c*d)}function se(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3],o=e[4],h=e[5],u=e[6],c=e[7],l=e[8],f=e[9],d=e[10],p=e[11],m=e[12],g=e[13],y=e[14],v=e[15],b=r[0],x=r[1],M=r[2],w=r[3];return t[0]=b*n+x*o+M*l+w*m,t[1]=b*i+x*h+M*f+w*g,t[2]=b*s+x*u+M*d+w*y,t[3]=b*a+x*c+M*p+w*v,b=r[4],x=r[5],M=r[6],w=r[7],t[4]=b*n+x*o+M*l+w*m,t[5]=b*i+x*h+M*f+w*g,t[6]=b*s+x*u+M*d+w*y,t[7]=b*a+x*c+M*p+w*v,b=r[8],x=r[9],M=r[10],w=r[11],t[8]=b*n+x*o+M*l+w*m,t[9]=b*i+x*h+M*f+w*g,t[10]=b*s+x*u+M*d+w*y,t[11]=b*a+x*c+M*p+w*v,b=r[12],x=r[13],M=r[14],w=r[15],t[12]=b*n+x*o+M*l+w*m,t[13]=b*i+x*h+M*f+w*g,t[14]=b*s+x*u+M*d+w*y,t[15]=b*a+x*c+M*p+w*v,t}function ae(t,e,r){var n,i,s,a,o,h,u,c,l,f,d,p,m=r[0],g=r[1],y=r[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*y+e[12],t[13]=e[1]*m+e[5]*g+e[9]*y+e[13],t[14]=e[2]*m+e[6]*g+e[10]*y+e[14],t[15]=e[3]*m+e[7]*g+e[11]*y+e[15]):(n=e[0],i=e[1],s=e[2],a=e[3],o=e[4],h=e[5],u=e[6],c=e[7],l=e[8],f=e[9],d=e[10],p=e[11],t[0]=n,t[1]=i,t[2]=s,t[3]=a,t[4]=o,t[5]=h,t[6]=u,t[7]=c,t[8]=l,t[9]=f,t[10]=d,t[11]=p,t[12]=n*m+o*g+l*y+e[12],t[13]=i*m+h*g+f*y+e[13],t[14]=s*m+u*g+d*y+e[14],t[15]=a*m+c*g+p*y+e[15]),t}function oe(t,e,r){var n=r[0],i=r[1],s=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function he(t,e,r,n){var i,s,a,o,h,u,c,l,f,p,m,g,y,v,b,x,M,w,_,A,S,k,C,E,O=n[0],P=n[1],T=n[2],I=Math.hypot(O,P,T);return I<d?null:(O*=I=1/I,P*=I,T*=I,i=Math.sin(r),a=1-(s=Math.cos(r)),o=e[0],h=e[1],u=e[2],c=e[3],l=e[4],f=e[5],p=e[6],m=e[7],g=e[8],y=e[9],v=e[10],b=e[11],x=O*O*a+s,M=P*O*a+T*i,w=T*O*a-P*i,_=O*P*a-T*i,A=P*P*a+s,S=T*P*a+O*i,k=O*T*a+P*i,C=P*T*a-O*i,E=T*T*a+s,t[0]=o*x+l*M+g*w,t[1]=h*x+f*M+y*w,t[2]=u*x+p*M+v*w,t[3]=c*x+m*M+b*w,t[4]=o*_+l*A+g*S,t[5]=h*_+f*A+y*S,t[6]=u*_+p*A+v*S,t[7]=c*_+m*A+b*S,t[8]=o*k+l*C+g*E,t[9]=h*k+f*C+y*E,t[10]=u*k+p*C+v*E,t[11]=c*k+m*C+b*E,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function ue(t,e,r){var n=Math.sin(r),i=Math.cos(r),s=e[4],a=e[5],o=e[6],h=e[7],u=e[8],c=e[9],l=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=s*i+u*n,t[5]=a*i+c*n,t[6]=o*i+l*n,t[7]=h*i+f*n,t[8]=u*i-s*n,t[9]=c*i-a*n,t[10]=l*i-o*n,t[11]=f*i-h*n,t}function ce(t,e,r){var n=Math.sin(r),i=Math.cos(r),s=e[0],a=e[1],o=e[2],h=e[3],u=e[8],c=e[9],l=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*i-u*n,t[1]=a*i-c*n,t[2]=o*i-l*n,t[3]=h*i-f*n,t[8]=s*n+u*i,t[9]=a*n+c*i,t[10]=o*n+l*i,t[11]=h*n+f*i,t}function le(t,e,r){var n=Math.sin(r),i=Math.cos(r),s=e[0],a=e[1],o=e[2],h=e[3],u=e[4],c=e[5],l=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*i+u*n,t[1]=a*i+c*n,t[2]=o*i+l*n,t[3]=h*i+f*n,t[4]=u*i-s*n,t[5]=c*i-a*n,t[6]=l*i-o*n,t[7]=f*i-h*n,t}function fe(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function de(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function pe(t,e,r){var n,i,s,a=r[0],o=r[1],h=r[2],u=Math.hypot(a,o,h);return u<d?null:(a*=u=1/u,o*=u,h*=u,n=Math.sin(e),s=1-(i=Math.cos(e)),t[0]=a*a*s+i,t[1]=o*a*s+h*n,t[2]=h*a*s-o*n,t[3]=0,t[4]=a*o*s-h*n,t[5]=o*o*s+i,t[6]=h*o*s+a*n,t[7]=0,t[8]=a*h*s+o*n,t[9]=o*h*s-a*n,t[10]=h*h*s+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function me(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ge(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ye(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ve(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3],o=n+n,h=i+i,u=s+s,c=n*o,l=n*h,f=n*u,d=i*h,p=i*u,m=s*u,g=a*o,y=a*h,v=a*u;return t[0]=1-(d+m),t[1]=l+v,t[2]=f-y,t[3]=0,t[4]=l-v,t[5]=1-(c+m),t[6]=p+g,t[7]=0,t[8]=f+y,t[9]=p-g,t[10]=1-(c+d),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function be(t,e){var r=new p(3),n=-e[0],i=-e[1],s=-e[2],a=e[3],o=e[4],h=e[5],u=e[6],c=e[7],l=n*n+i*i+s*s+a*a;return l>0?(r[0]=2*(o*a+c*n+h*s-u*i)/l,r[1]=2*(h*a+c*i+u*n-o*s)/l,r[2]=2*(u*a+c*s+o*i-h*n)/l):(r[0]=2*(o*a+c*n+h*s-u*i),r[1]=2*(h*a+c*i+u*n-o*s),r[2]=2*(u*a+c*s+o*i-h*n)),ve(t,e,r),t}function xe(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function Me(t,e){var r=e[0],n=e[1],i=e[2],s=e[4],a=e[5],o=e[6],h=e[8],u=e[9],c=e[10];return t[0]=Math.hypot(r,n,i),t[1]=Math.hypot(s,a,o),t[2]=Math.hypot(h,u,c),t}function we(t,e){var r=new p(3);Me(r,e);var n=1/r[0],i=1/r[1],s=1/r[2],a=e[0]*n,o=e[1]*i,h=e[2]*s,u=e[4]*n,c=e[5]*i,l=e[6]*s,f=e[8]*n,d=e[9]*i,m=e[10]*s,g=a+c+m,y=0;return g>0?(y=2*Math.sqrt(g+1),t[3]=.25*y,t[0]=(l-d)/y,t[1]=(f-h)/y,t[2]=(o-u)/y):a>c&&a>m?(y=2*Math.sqrt(1+a-c-m),t[3]=(l-d)/y,t[0]=.25*y,t[1]=(o+u)/y,t[2]=(f+h)/y):c>m?(y=2*Math.sqrt(1+c-a-m),t[3]=(f-h)/y,t[0]=(o+u)/y,t[1]=.25*y,t[2]=(l+d)/y):(y=2*Math.sqrt(1+m-a-c),t[3]=(o-u)/y,t[0]=(f+h)/y,t[1]=(l+d)/y,t[2]=.25*y),t}function _e(t,e,r,n){var i=e[0],s=e[1],a=e[2],o=e[3],h=i+i,u=s+s,c=a+a,l=i*h,f=i*u,d=i*c,p=s*u,m=s*c,g=a*c,y=o*h,v=o*u,b=o*c,x=n[0],M=n[1],w=n[2];return t[0]=(1-(p+g))*x,t[1]=(f+b)*x,t[2]=(d-v)*x,t[3]=0,t[4]=(f-b)*M,t[5]=(1-(l+g))*M,t[6]=(m+y)*M,t[7]=0,t[8]=(d+v)*w,t[9]=(m-y)*w,t[10]=(1-(l+p))*w,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function Ae(t,e,r,n,i){var s=e[0],a=e[1],o=e[2],h=e[3],u=s+s,c=a+a,l=o+o,f=s*u,d=s*c,p=s*l,m=a*c,g=a*l,y=o*l,v=h*u,b=h*c,x=h*l,M=n[0],w=n[1],_=n[2],A=i[0],S=i[1],k=i[2],C=(1-(m+y))*M,E=(d+x)*M,O=(p-b)*M,P=(d-x)*w,T=(1-(f+y))*w,I=(g+v)*w,q=(p+b)*_,R=(g-v)*_,F=(1-(f+m))*_;return t[0]=C,t[1]=E,t[2]=O,t[3]=0,t[4]=P,t[5]=T,t[6]=I,t[7]=0,t[8]=q,t[9]=R,t[10]=F,t[11]=0,t[12]=r[0]+A-(C*A+P*S+q*k),t[13]=r[1]+S-(E*A+T*S+R*k),t[14]=r[2]+k-(O*A+I*S+F*k),t[15]=1,t}function Se(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=r+r,o=n+n,h=i+i,u=r*a,c=n*a,l=n*o,f=i*a,d=i*o,p=i*h,m=s*a,g=s*o,y=s*h;return t[0]=1-l-p,t[1]=c+y,t[2]=f-g,t[3]=0,t[4]=c-y,t[5]=1-u-p,t[6]=d+m,t[7]=0,t[8]=f+g,t[9]=d-m,t[10]=1-u-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ke(t,e,r,n,i,s,a){var o=1/(r-e),h=1/(i-n),u=1/(s-a);return t[0]=2*s*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*s*h,t[6]=0,t[7]=0,t[8]=(r+e)*o,t[9]=(i+n)*h,t[10]=(a+s)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*s*2*u,t[15]=0,t}function Ce(t,e,r,n,i){var s,a=1/Math.tan(e/2);return t[0]=a/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(s=1/(n-i),t[10]=(i+n)*s,t[14]=2*i*n*s):(t[10]=-1,t[14]=-2*n),t}function Ee(t,e,r,n){var i=Math.tan(e.upDegrees*Math.PI/180),s=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),o=Math.tan(e.rightDegrees*Math.PI/180),h=2/(a+o),u=2/(i+s);return t[0]=h,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-(a-o)*h*.5,t[9]=(i-s)*u*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t}function Oe(t,e,r,n,i,s,a){var o=1/(e-r),h=1/(n-i),u=1/(s-a);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+r)*o,t[13]=(i+n)*h,t[14]=(a+s)*u,t[15]=1,t}function Pe(t,e,r,n){var i,s,a,o,h,u,c,l,f,p,m=e[0],g=e[1],y=e[2],v=n[0],b=n[1],x=n[2],M=r[0],w=r[1],_=r[2];return Math.abs(m-M)<d&&Math.abs(g-w)<d&&Math.abs(y-_)<d?te(t):(c=m-M,l=g-w,f=y-_,i=b*(f*=p=1/Math.hypot(c,l,f))-x*(l*=p),s=x*(c*=p)-v*f,a=v*l-b*c,(p=Math.hypot(i,s,a))?(i*=p=1/p,s*=p,a*=p):(i=0,s=0,a=0),o=l*a-f*s,h=f*i-c*a,u=c*s-l*i,(p=Math.hypot(o,h,u))?(o*=p=1/p,h*=p,u*=p):(o=0,h=0,u=0),t[0]=i,t[1]=o,t[2]=c,t[3]=0,t[4]=s,t[5]=h,t[6]=l,t[7]=0,t[8]=a,t[9]=u,t[10]=f,t[11]=0,t[12]=-(i*m+s*g+a*y),t[13]=-(o*m+h*g+u*y),t[14]=-(c*m+l*g+f*y),t[15]=1,t)}function Te(t,e,r,n){var i=e[0],s=e[1],a=e[2],o=n[0],h=n[1],u=n[2],c=i-r[0],l=s-r[1],f=a-r[2],d=c*c+l*l+f*f;d>0&&(c*=d=1/Math.sqrt(d),l*=d,f*=d);var p=h*f-u*l,m=u*c-o*f,g=o*l-h*c;return(d=p*p+m*m+g*g)>0&&(p*=d=1/Math.sqrt(d),m*=d,g*=d),t[0]=p,t[1]=m,t[2]=g,t[3]=0,t[4]=l*g-f*m,t[5]=f*p-c*g,t[6]=c*m-l*p,t[7]=0,t[8]=c,t[9]=l,t[10]=f,t[11]=0,t[12]=i,t[13]=s,t[14]=a,t[15]=1,t}function Ie(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function qe(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function Re(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t}function Fe(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}function je(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t}function Be(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t[9]=e[9]+r[9]*n,t[10]=e[10]+r[10]*n,t[11]=e[11]+r[11]*n,t[12]=e[12]+r[12]*n,t[13]=e[13]+r[13]*n,t[14]=e[14]+r[14]*n,t[15]=e[15]+r[15]*n,t}function Ne(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function Le(t,e){var r=t[0],n=t[1],i=t[2],s=t[3],a=t[4],o=t[5],h=t[6],u=t[7],c=t[8],l=t[9],f=t[10],p=t[11],m=t[12],g=t[13],y=t[14],v=t[15],b=e[0],x=e[1],M=e[2],w=e[3],_=e[4],A=e[5],S=e[6],k=e[7],C=e[8],E=e[9],O=e[10],P=e[11],T=e[12],I=e[13],q=e[14],R=e[15];return Math.abs(r-b)<=d*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(n-x)<=d*Math.max(1,Math.abs(n),Math.abs(x))&&Math.abs(i-M)<=d*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(s-w)<=d*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(a-_)<=d*Math.max(1,Math.abs(a),Math.abs(_))&&Math.abs(o-A)<=d*Math.max(1,Math.abs(o),Math.abs(A))&&Math.abs(h-S)<=d*Math.max(1,Math.abs(h),Math.abs(S))&&Math.abs(u-k)<=d*Math.max(1,Math.abs(u),Math.abs(k))&&Math.abs(c-C)<=d*Math.max(1,Math.abs(c),Math.abs(C))&&Math.abs(l-E)<=d*Math.max(1,Math.abs(l),Math.abs(E))&&Math.abs(f-O)<=d*Math.max(1,Math.abs(f),Math.abs(O))&&Math.abs(p-P)<=d*Math.max(1,Math.abs(p),Math.abs(P))&&Math.abs(m-T)<=d*Math.max(1,Math.abs(m),Math.abs(T))&&Math.abs(g-I)<=d*Math.max(1,Math.abs(g),Math.abs(I))&&Math.abs(y-q)<=d*Math.max(1,Math.abs(y),Math.abs(q))&&Math.abs(v-R)<=d*Math.max(1,Math.abs(v),Math.abs(R))}var ze=se,De=Fe;function Ve(){var t=new p(3);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function $e(t){var e=new p(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Ye(t){var e=t[0],r=t[1],n=t[2];return Math.hypot(e,r,n)}function Ge(t,e,r){var n=new p(3);return n[0]=t,n[1]=e,n[2]=r,n}function Xe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Ue(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}function He(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function Ze(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function Qe(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function We(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function Je(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function Ke(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function tr(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}function er(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}function rr(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function nr(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function ir(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t}function sr(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return Math.hypot(r,n,i)}function ar(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return r*r+n*n+i*i}function or(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function hr(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function ur(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function cr(t,e){var r=e[0],n=e[1],i=e[2],s=r*r+n*n+i*i;return s>0&&(s=1/Math.sqrt(s)),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t}function lr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function fr(t,e,r){var n=e[0],i=e[1],s=e[2],a=r[0],o=r[1],h=r[2];return t[0]=i*h-s*o,t[1]=s*a-n*h,t[2]=n*o-i*a,t}function dr(t,e,r,n){var i=e[0],s=e[1],a=e[2];return t[0]=i+n*(r[0]-i),t[1]=s+n*(r[1]-s),t[2]=a+n*(r[2]-a),t}function pr(t,e,r,n,i,s){var a=s*s,o=a*(2*s-3)+1,h=a*(s-2)+s,u=a*(s-1),c=a*(3-2*s);return t[0]=e[0]*o+r[0]*h+n[0]*u+i[0]*c,t[1]=e[1]*o+r[1]*h+n[1]*u+i[1]*c,t[2]=e[2]*o+r[2]*h+n[2]*u+i[2]*c,t}function mr(t,e,r,n,i,s){var a=1-s,o=a*a,h=s*s,u=o*a,c=3*s*o,l=3*h*a,f=h*s;return t[0]=e[0]*u+r[0]*c+n[0]*l+i[0]*f,t[1]=e[1]*u+r[1]*c+n[1]*l+i[1]*f,t[2]=e[2]*u+r[2]*c+n[2]*l+i[2]*f,t}function gr(t,e){e=e||1;var r=2*m()*Math.PI,n=2*m()-1,i=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(r)*i,t[1]=Math.sin(r)*i,t[2]=n*e,t}function yr(t,e,r){var n=e[0],i=e[1],s=e[2],a=r[3]*n+r[7]*i+r[11]*s+r[15];return a=a||1,t[0]=(r[0]*n+r[4]*i+r[8]*s+r[12])/a,t[1]=(r[1]*n+r[5]*i+r[9]*s+r[13])/a,t[2]=(r[2]*n+r[6]*i+r[10]*s+r[14])/a,t}function vr(t,e,r){var n=e[0],i=e[1],s=e[2];return t[0]=n*r[0]+i*r[3]+s*r[6],t[1]=n*r[1]+i*r[4]+s*r[7],t[2]=n*r[2]+i*r[5]+s*r[8],t}function br(t,e,r){var n=r[0],i=r[1],s=r[2],a=r[3],o=e[0],h=e[1],u=e[2],c=i*u-s*h,l=s*o-n*u,f=n*h-i*o,d=i*f-s*l,p=s*c-n*f,m=n*l-i*c,g=2*a;return c*=g,l*=g,f*=g,d*=2,p*=2,m*=2,t[0]=o+c+d,t[1]=h+l+p,t[2]=u+f+m,t}function xr(t,e,r,n){var i=[],s=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],s[0]=i[0],s[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),s[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),t[0]=s[0]+r[0],t[1]=s[1]+r[1],t[2]=s[2]+r[2],t}function Mr(t,e,r,n){var i=[],s=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],s[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),s[1]=i[1],s[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),t[0]=s[0]+r[0],t[1]=s[1]+r[1],t[2]=s[2]+r[2],t}function wr(t,e,r,n){var i=[],s=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],s[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),s[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),s[2]=i[2],t[0]=s[0]+r[0],t[1]=s[1]+r[1],t[2]=s[2]+r[2],t}function _r(t,e){var r=t[0],n=t[1],i=t[2],s=e[0],a=e[1],o=e[2],h=Math.sqrt(r*r+n*n+i*i)*Math.sqrt(s*s+a*a+o*o),u=h&&lr(t,e)/h;return Math.acos(Math.min(Math.max(u,-1),1))}function Ar(t){return t[0]=0,t[1]=0,t[2]=0,t}function Sr(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function kr(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function Cr(t,e){var r=t[0],n=t[1],i=t[2],s=e[0],a=e[1],o=e[2];return Math.abs(r-s)<=d*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(n-a)<=d*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-o)<=d*Math.max(1,Math.abs(i),Math.abs(o))}var Er,Or=Ze,Pr=Qe,Tr=We,Ir=sr,qr=ar,Rr=Ye,Fr=or,jr=(Er=Ve(),function(t,e,r,n,i,s){var a,o;for(e||(e=3),r||(r=0),o=n?Math.min(n*e+r,t.length):t.length,a=r;a<o;a+=e)Er[0]=t[a],Er[1]=t[a+1],Er[2]=t[a+2],i(Er,Er,s),t[a]=Er[0],t[a+1]=Er[1],t[a+2]=Er[2];return t});function Br(){var t=new p(4);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Nr(t){var e=new p(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Lr(t,e,r,n){var i=new p(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=n,i}function zr(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Dr(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function Vr(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function $r(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function Yr(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t}function Gr(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t}function Xr(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function Ur(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function Hr(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t}function Zr(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t}function Qr(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function Wr(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function Jr(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t}function Kr(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],s=e[3]-t[3];return Math.hypot(r,n,i,s)}function tn(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],s=e[3]-t[3];return r*r+n*n+i*i+s*s}function en(t){var e=t[0],r=t[1],n=t[2],i=t[3];return Math.hypot(e,r,n,i)}function rn(t){var e=t[0],r=t[1],n=t[2],i=t[3];return e*e+r*r+n*n+i*i}function nn(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function sn(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function an(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=r*r+n*n+i*i+s*s;return a>0&&(a=1/Math.sqrt(a)),t[0]=r*a,t[1]=n*a,t[2]=i*a,t[3]=s*a,t}function on(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function hn(t,e,r,n){var i=r[0]*n[1]-r[1]*n[0],s=r[0]*n[2]-r[2]*n[0],a=r[0]*n[3]-r[3]*n[0],o=r[1]*n[2]-r[2]*n[1],h=r[1]*n[3]-r[3]*n[1],u=r[2]*n[3]-r[3]*n[2],c=e[0],l=e[1],f=e[2],d=e[3];return t[0]=l*u-f*h+d*o,t[1]=-c*u+f*a-d*s,t[2]=c*h-l*a+d*i,t[3]=-c*o+l*s-f*i,t}function un(t,e,r,n){var i=e[0],s=e[1],a=e[2],o=e[3];return t[0]=i+n*(r[0]-i),t[1]=s+n*(r[1]-s),t[2]=a+n*(r[2]-a),t[3]=o+n*(r[3]-o),t}function cn(t,e){var r,n,i,s,a,o;e=e||1;do{a=(r=2*m()-1)*r+(n=2*m()-1)*n}while(a>=1);do{o=(i=2*m()-1)*i+(s=2*m()-1)*s}while(o>=1);var h=Math.sqrt((1-a)/o);return t[0]=e*r,t[1]=e*n,t[2]=e*i*h,t[3]=e*s*h,t}function ln(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*s+r[12]*a,t[1]=r[1]*n+r[5]*i+r[9]*s+r[13]*a,t[2]=r[2]*n+r[6]*i+r[10]*s+r[14]*a,t[3]=r[3]*n+r[7]*i+r[11]*s+r[15]*a,t}function fn(t,e,r){var n=e[0],i=e[1],s=e[2],a=r[0],o=r[1],h=r[2],u=r[3],c=u*n+o*s-h*i,l=u*i+h*n-a*s,f=u*s+a*i-o*n,d=-a*n-o*i-h*s;return t[0]=c*u+d*-a+l*-h-f*-o,t[1]=l*u+d*-o+f*-a-c*-h,t[2]=f*u+d*-h+c*-o-l*-a,t[3]=e[3],t}function dn(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function pn(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function mn(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function gn(t,e){var r=t[0],n=t[1],i=t[2],s=t[3],a=e[0],o=e[1],h=e[2],u=e[3];return Math.abs(r-a)<=d*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-o)<=d*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-h)<=d*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(s-u)<=d*Math.max(1,Math.abs(s),Math.abs(u))}var yn=$r,vn=Yr,bn=Gr,xn=Kr,Mn=tn,wn=en,_n=rn,An=function(){var t=Br();return function(e,r,n,i,s,a){var o,h;for(r||(r=4),n||(n=0),h=i?Math.min(i*r+n,e.length):e.length,o=n;o<h;o+=r)t[0]=e[o],t[1]=e[o+1],t[2]=e[o+2],t[3]=e[o+3],s(t,t,a),e[o]=t[0],e[o+1]=t[1],e[o+2]=t[2],e[o+3]=t[3];return e}}();function Sn(){var t=new p(4);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function kn(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Cn(t,e,r){r*=.5;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t}function En(t,e){var r=2*Math.acos(e[3]),n=Math.sin(r/2);return n>d?(t[0]=e[0]/n,t[1]=e[1]/n,t[2]=e[2]/n):(t[0]=1,t[1]=0,t[2]=0),r}function On(t,e){var r=ii(t,e);return Math.acos(2*r*r-1)}function Pn(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3],o=r[0],h=r[1],u=r[2],c=r[3];return t[0]=n*c+a*o+i*u-s*h,t[1]=i*c+a*h+s*o-n*u,t[2]=s*c+a*u+n*h-i*o,t[3]=a*c-n*o-i*h-s*u,t}function Tn(t,e,r){r*=.5;var n=e[0],i=e[1],s=e[2],a=e[3],o=Math.sin(r),h=Math.cos(r);return t[0]=n*h+a*o,t[1]=i*h+s*o,t[2]=s*h-i*o,t[3]=a*h-n*o,t}function In(t,e,r){r*=.5;var n=e[0],i=e[1],s=e[2],a=e[3],o=Math.sin(r),h=Math.cos(r);return t[0]=n*h-s*o,t[1]=i*h+a*o,t[2]=s*h+n*o,t[3]=a*h-i*o,t}function qn(t,e,r){r*=.5;var n=e[0],i=e[1],s=e[2],a=e[3],o=Math.sin(r),h=Math.cos(r);return t[0]=n*h+i*o,t[1]=i*h-n*o,t[2]=s*h+a*o,t[3]=a*h-s*o,t}function Rn(t,e){var r=e[0],n=e[1],i=e[2];return t[0]=r,t[1]=n,t[2]=i,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),t}function Fn(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=Math.sqrt(r*r+n*n+i*i),o=Math.exp(s),h=a>0?o*Math.sin(a)/a:0;return t[0]=r*h,t[1]=n*h,t[2]=i*h,t[3]=o*Math.cos(a),t}function jn(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=Math.sqrt(r*r+n*n+i*i),o=a>0?Math.atan2(a,s)/a:0;return t[0]=r*o,t[1]=n*o,t[2]=i*o,t[3]=.5*Math.log(r*r+n*n+i*i+s*s),t}function Bn(t,e,r){return jn(t,e),ni(t,t,r),Fn(t,t),t}function Nn(t,e,r,n){var i,s,a,o,h,u=e[0],c=e[1],l=e[2],f=e[3],p=r[0],m=r[1],g=r[2],y=r[3];return(s=u*p+c*m+l*g+f*y)<0&&(s=-s,p=-p,m=-m,g=-g,y=-y),1-s>d?(i=Math.acos(s),a=Math.sin(i),o=Math.sin((1-n)*i)/a,h=Math.sin(n*i)/a):(o=1-n,h=n),t[0]=o*u+h*p,t[1]=o*c+h*m,t[2]=o*l+h*g,t[3]=o*f+h*y,t}function Ln(t){var e=m(),r=m(),n=m(),i=Math.sqrt(1-e),s=Math.sqrt(e);return t[0]=i*Math.sin(2*Math.PI*r),t[1]=i*Math.cos(2*Math.PI*r),t[2]=s*Math.sin(2*Math.PI*n),t[3]=s*Math.cos(2*Math.PI*n),t}function zn(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=r*r+n*n+i*i+s*s,o=a?1/a:0;return t[0]=-r*o,t[1]=-n*o,t[2]=-i*o,t[3]=s*o,t}function Dn(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Vn(t,e){var r,n=e[0]+e[4]+e[8];if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var s=(i+1)%3,a=(i+2)%3;r=Math.sqrt(e[3*i+i]-e[3*s+s]-e[3*a+a]+1),t[i]=.5*r,r=.5/r,t[3]=(e[3*s+a]-e[3*a+s])*r,t[s]=(e[3*s+i]+e[3*i+s])*r,t[a]=(e[3*a+i]+e[3*i+a])*r}return t}function $n(t,e,r,n){var i=.5*Math.PI/180;e*=i,r*=i,n*=i;var s=Math.sin(e),a=Math.cos(e),o=Math.sin(r),h=Math.cos(r),u=Math.sin(n),c=Math.cos(n);return t[0]=s*h*c-a*o*u,t[1]=a*o*c+s*h*u,t[2]=a*h*u-s*o*c,t[3]=a*h*c+s*o*u,t}function Yn(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var Gn,Xn,Un,Hn,Zn,Qn,Wn=Nr,Jn=Lr,Kn=zr,ti=Dr,ei=Vr,ri=Pn,ni=Wr,ii=on,si=un,ai=en,oi=ai,hi=rn,ui=hi,ci=an,li=mn,fi=gn,di=(Gn=Ve(),Xn=Ge(1,0,0),Un=Ge(0,1,0),function(t,e,r){var n=lr(e,r);return n<-.999999?(fr(Gn,Xn,e),Rr(Gn)<1e-6&&fr(Gn,Un,e),cr(Gn,Gn),Cn(t,Gn,Math.PI),t):n>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(fr(Gn,e,r),t[0]=Gn[0],t[1]=Gn[1],t[2]=Gn[2],t[3]=1+n,ci(t,t))}),pi=(Hn=Sn(),Zn=Sn(),function(t,e,r,n,i,s){return Nn(Hn,e,i,s),Nn(Zn,r,n,s),Nn(t,Hn,Zn,2*s*(1-s)),t}),mi=(Qn=yt(),function(t,e,r,n){return Qn[0]=r[0],Qn[3]=r[1],Qn[6]=r[2],Qn[1]=n[0],Qn[4]=n[1],Qn[7]=n[2],Qn[2]=-e[0],Qn[5]=-e[1],Qn[8]=-e[2],ci(t,Vn(t,Qn))});function gi(){var t=new p(8);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function yi(t){var e=new p(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function vi(t,e,r,n,i,s,a,o){var h=new p(8);return h[0]=t,h[1]=e,h[2]=r,h[3]=n,h[4]=i,h[5]=s,h[6]=a,h[7]=o,h}function bi(t,e,r,n,i,s,a){var o=new p(8);o[0]=t,o[1]=e,o[2]=r,o[3]=n;var h=.5*i,u=.5*s,c=.5*a;return o[4]=h*n+u*r-c*e,o[5]=u*n+c*t-h*r,o[6]=c*n+h*e-u*t,o[7]=-h*t-u*e-c*r,o}function xi(t,e,r){var n=.5*r[0],i=.5*r[1],s=.5*r[2],a=e[0],o=e[1],h=e[2],u=e[3];return t[0]=a,t[1]=o,t[2]=h,t[3]=u,t[4]=n*u+i*h-s*o,t[5]=i*u+s*a-n*h,t[6]=s*u+n*o-i*a,t[7]=-n*a-i*o-s*h,t}function Mi(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t}function wi(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function _i(t,e){var r=Sn();we(r,e);var n=new p(3);return xe(n,e),xi(t,r,n),t}function Ai(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function Si(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function ki(t,e,r,n,i,s,a,o,h){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=s,t[5]=a,t[6]=o,t[7]=h,t}var Ci=Kn;function Ei(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t}var Oi=Kn;function Pi(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t}function Ti(t,e){var r=e[4],n=e[5],i=e[6],s=e[7],a=-e[0],o=-e[1],h=-e[2],u=e[3];return t[0]=2*(r*u+s*a+n*h-i*o),t[1]=2*(n*u+s*o+i*a-r*h),t[2]=2*(i*u+s*h+r*o-n*a),t}function Ii(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3],o=.5*r[0],h=.5*r[1],u=.5*r[2],c=e[4],l=e[5],f=e[6],d=e[7];return t[0]=n,t[1]=i,t[2]=s,t[3]=a,t[4]=a*o+i*u-s*h+c,t[5]=a*h+s*o-n*u+l,t[6]=a*u+n*h-i*o+f,t[7]=-n*o-i*h-s*u+d,t}function qi(t,e,r){var n=-e[0],i=-e[1],s=-e[2],a=e[3],o=e[4],h=e[5],u=e[6],c=e[7],l=o*a+c*n+h*s-u*i,f=h*a+c*i+u*n-o*s,d=u*a+c*s+o*i-h*n,p=c*a-o*n-h*i-u*s;return Tn(t,e,r),n=t[0],i=t[1],s=t[2],a=t[3],t[4]=l*a+p*n+f*s-d*i,t[5]=f*a+p*i+d*n-l*s,t[6]=d*a+p*s+l*i-f*n,t[7]=p*a-l*n-f*i-d*s,t}function Ri(t,e,r){var n=-e[0],i=-e[1],s=-e[2],a=e[3],o=e[4],h=e[5],u=e[6],c=e[7],l=o*a+c*n+h*s-u*i,f=h*a+c*i+u*n-o*s,d=u*a+c*s+o*i-h*n,p=c*a-o*n-h*i-u*s;return In(t,e,r),n=t[0],i=t[1],s=t[2],a=t[3],t[4]=l*a+p*n+f*s-d*i,t[5]=f*a+p*i+d*n-l*s,t[6]=d*a+p*s+l*i-f*n,t[7]=p*a-l*n-f*i-d*s,t}function Fi(t,e,r){var n=-e[0],i=-e[1],s=-e[2],a=e[3],o=e[4],h=e[5],u=e[6],c=e[7],l=o*a+c*n+h*s-u*i,f=h*a+c*i+u*n-o*s,d=u*a+c*s+o*i-h*n,p=c*a-o*n-h*i-u*s;return qn(t,e,r),n=t[0],i=t[1],s=t[2],a=t[3],t[4]=l*a+p*n+f*s-d*i,t[5]=f*a+p*i+d*n-l*s,t[6]=d*a+p*s+l*i-f*n,t[7]=p*a-l*n-f*i-d*s,t}function ji(t,e,r){var n=r[0],i=r[1],s=r[2],a=r[3],o=e[0],h=e[1],u=e[2],c=e[3];return t[0]=o*a+c*n+h*s-u*i,t[1]=h*a+c*i+u*n-o*s,t[2]=u*a+c*s+o*i-h*n,t[3]=c*a-o*n-h*i-u*s,o=e[4],h=e[5],u=e[6],c=e[7],t[4]=o*a+c*n+h*s-u*i,t[5]=h*a+c*i+u*n-o*s,t[6]=u*a+c*s+o*i-h*n,t[7]=c*a-o*n-h*i-u*s,t}function Bi(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3],o=r[0],h=r[1],u=r[2],c=r[3];return t[0]=n*c+a*o+i*u-s*h,t[1]=i*c+a*h+s*o-n*u,t[2]=s*c+a*u+n*h-i*o,t[3]=a*c-n*o-i*h-s*u,o=r[4],h=r[5],u=r[6],c=r[7],t[4]=n*c+a*o+i*u-s*h,t[5]=i*c+a*h+s*o-n*u,t[6]=s*c+a*u+n*h-i*o,t[7]=a*c-n*o-i*h-s*u,t}function Ni(t,e,r,n){if(Math.abs(n)<d)return Ai(t,e);var i=Math.hypot(r[0],r[1],r[2]);n*=.5;var s=Math.sin(n),a=s*r[0]/i,o=s*r[1]/i,h=s*r[2]/i,u=Math.cos(n),c=e[0],l=e[1],f=e[2],p=e[3];t[0]=c*u+p*a+l*h-f*o,t[1]=l*u+p*o+f*a-c*h,t[2]=f*u+p*h+c*o-l*a,t[3]=p*u-c*a-l*o-f*h;var m=e[4],g=e[5],y=e[6],v=e[7];return t[4]=m*u+v*a+g*h-y*o,t[5]=g*u+v*o+y*a-m*h,t[6]=y*u+v*h+m*o-g*a,t[7]=v*u-m*a-g*o-y*h,t}function Li(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t}function zi(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3],o=r[4],h=r[5],u=r[6],c=r[7],l=e[4],f=e[5],d=e[6],p=e[7],m=r[0],g=r[1],y=r[2],v=r[3];return t[0]=n*v+a*m+i*y-s*g,t[1]=i*v+a*g+s*m-n*y,t[2]=s*v+a*y+n*g-i*m,t[3]=a*v-n*m-i*g-s*y,t[4]=n*c+a*o+i*u-s*h+l*v+p*m+f*y-d*g,t[5]=i*c+a*h+s*o-n*u+f*v+p*g+d*m-l*y,t[6]=s*c+a*u+n*h-i*o+d*v+p*y+l*g-f*m,t[7]=a*c-n*o-i*h-s*u+p*v-l*m-f*g-d*y,t}var Di=zi;function Vi(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t}var $i=ii;function Yi(t,e,r,n){var i=1-n;return $i(e,r)<0&&(n=-n),t[0]=e[0]*i+r[0]*n,t[1]=e[1]*i+r[1]*n,t[2]=e[2]*i+r[2]*n,t[3]=e[3]*i+r[3]*n,t[4]=e[4]*i+r[4]*n,t[5]=e[5]*i+r[5]*n,t[6]=e[6]*i+r[6]*n,t[7]=e[7]*i+r[7]*n,t}function Gi(t,e){var r=Zi(e);return t[0]=-e[0]/r,t[1]=-e[1]/r,t[2]=-e[2]/r,t[3]=e[3]/r,t[4]=-e[4]/r,t[5]=-e[5]/r,t[6]=-e[6]/r,t[7]=e[7]/r,t}function Xi(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t}var Ui=ai,Hi=Ui,Zi=hi,Qi=Zi;function Wi(t,e){var r=Zi(e);if(r>0){r=Math.sqrt(r);var n=e[0]/r,i=e[1]/r,s=e[2]/r,a=e[3]/r,o=e[4],h=e[5],u=e[6],c=e[7],l=n*o+i*h+s*u+a*c;t[0]=n,t[1]=i,t[2]=s,t[3]=a,t[4]=(o-n*l)/r,t[5]=(h-i*l)/r,t[6]=(u-s*l)/r,t[7]=(c-a*l)/r}return t}function Ji(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function Ki(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]}function ts(t,e){var r=t[0],n=t[1],i=t[2],s=t[3],a=t[4],o=t[5],h=t[6],u=t[7],c=e[0],l=e[1],f=e[2],p=e[3],m=e[4],g=e[5],y=e[6],v=e[7];return Math.abs(r-c)<=d*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(n-l)<=d*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(i-f)<=d*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(s-p)<=d*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(a-m)<=d*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(o-g)<=d*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(h-y)<=d*Math.max(1,Math.abs(h),Math.abs(y))&&Math.abs(u-v)<=d*Math.max(1,Math.abs(u),Math.abs(v))}function es(){var t=new p(2);return p!=Float32Array&&(t[0]=0,t[1]=0),t}function rs(t){var e=new p(2);return e[0]=t[0],e[1]=t[1],e}function ns(t,e){var r=new p(2);return r[0]=t,r[1]=e,r}function is(t,e){return t[0]=e[0],t[1]=e[1],t}function ss(t,e,r){return t[0]=e,t[1]=r,t}function as(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function os(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function hs(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}function us(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}function cs(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function ls(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function fs(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function ds(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}function ps(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function ms(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function gs(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t}function ys(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.hypot(r,n)}function vs(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function bs(t){var e=t[0],r=t[1];return Math.hypot(e,r)}function xs(t){var e=t[0],r=t[1];return e*e+r*r}function Ms(t,e){return t[0]=-e[0],t[1]=-e[1],t}function ws(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function _s(t,e){var r=e[0],n=e[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function As(t,e){return t[0]*e[0]+t[1]*e[1]}function Ss(t,e,r){var n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t}function ks(t,e,r,n){var i=e[0],s=e[1];return t[0]=i+n*(r[0]-i),t[1]=s+n*(r[1]-s),t}function Cs(t,e){e=e||1;var r=2*m()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t}function Es(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i,t[1]=r[1]*n+r[3]*i,t}function Os(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5],t}function Ps(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[3]*i+r[6],t[1]=r[1]*n+r[4]*i+r[7],t}function Ts(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[4]*i+r[12],t[1]=r[1]*n+r[5]*i+r[13],t}function Is(t,e,r,n){var i=e[0]-r[0],s=e[1]-r[1],a=Math.sin(n),o=Math.cos(n);return t[0]=i*o-s*a+r[0],t[1]=i*a+s*o+r[1],t}function qs(t,e){var r=t[0],n=t[1],i=e[0],s=e[1],a=Math.sqrt(r*r+n*n)*Math.sqrt(i*i+s*s),o=a&&(r*i+n*s)/a;return Math.acos(Math.min(Math.max(o,-1),1))}function Rs(t){return t[0]=0,t[1]=0,t}function Fs(t){return"vec2("+t[0]+", "+t[1]+")"}function js(t,e){return t[0]===e[0]&&t[1]===e[1]}function Bs(t,e){var r=t[0],n=t[1],i=e[0],s=e[1];return Math.abs(r-i)<=d*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-s)<=d*Math.max(1,Math.abs(n),Math.abs(s))}var Ns=bs,Ls=os,zs=hs,Ds=us,Vs=ys,$s=vs,Ys=xs,Gs=function(){var t=es();return function(e,r,n,i,s,a){var o,h;for(r||(r=2),n||(n=0),h=i?Math.min(i*r+n,e.length):e.length,o=n;o<h;o+=r)t[0]=e[o],t[1]=e[o+1],s(t,t,a),e[o]=t[0],e[o+1]=t[1];return e}}()},21:(t,e,r)=>{var n;!function(){"use strict";var i=.5*(Math.sqrt(3)-1),s=(3-Math.sqrt(3))/6,a=1/6,o=(Math.sqrt(5)-1)/4,h=(5-Math.sqrt(5))/20;function u(t){var e;e="function"==typeof t?t:t?function(){var t=0,e=0,r=0,n=1,i=l();t=i(" "),e=i(" "),r=i(" ");for(var s=0;s<arguments.length;s++)(t-=i(arguments[s]))<0&&(t+=1),(e-=i(arguments[s]))<0&&(e+=1),(r-=i(arguments[s]))<0&&(r+=1);return i=null,function(){var i=2091639*t+2.3283064365386963e-10*n;return t=e,e=r,r=i-(n=0|i)}}(t):Math.random,this.p=c(e),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var r=0;r<512;r++)this.perm[r]=this.p[255&r],this.permMod12[r]=this.perm[r]%12}function c(t){var e,r=new Uint8Array(256);for(e=0;e<256;e++)r[e]=e;for(e=0;e<255;e++){var n=e+~~(t()*(256-e)),i=r[e];r[e]=r[n],r[n]=i}return r}function l(){var t=4022871197;return function(e){e=e.toString();for(var r=0;r<e.length;r++){var n=.02519603282416938*(t+=e.charCodeAt(r));n-=t=n>>>0,t=(n*=t)>>>0,t+=4294967296*(n-=t)}return 2.3283064365386963e-10*(t>>>0)}}u.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(t,e){var r,n,a=this.permMod12,o=this.perm,h=this.grad3,u=0,c=0,l=0,f=(t+e)*i,d=Math.floor(t+f),p=Math.floor(e+f),m=(d+p)*s,g=t-(d-m),y=e-(p-m);g>y?(r=1,n=0):(r=0,n=1);var v=g-r+s,b=y-n+s,x=g-1+2*s,M=y-1+2*s,w=255&d,_=255&p,A=.5-g*g-y*y;if(A>=0){var S=3*a[w+o[_]];u=(A*=A)*A*(h[S]*g+h[S+1]*y)}var k=.5-v*v-b*b;if(k>=0){var C=3*a[w+r+o[_+n]];c=(k*=k)*k*(h[C]*v+h[C+1]*b)}var E=.5-x*x-M*M;if(E>=0){var O=3*a[w+1+o[_+1]];l=(E*=E)*E*(h[O]*x+h[O+1]*M)}return 70*(u+c+l)},noise3D:function(t,e,r){var n,i,s,o,h,u,c,l,f,d,p=this.permMod12,m=this.perm,g=this.grad3,y=.3333333333333333*(t+e+r),v=Math.floor(t+y),b=Math.floor(e+y),x=Math.floor(r+y),M=(v+b+x)*a,w=t-(v-M),_=e-(b-M),A=r-(x-M);w>=_?_>=A?(h=1,u=0,c=0,l=1,f=1,d=0):w>=A?(h=1,u=0,c=0,l=1,f=0,d=1):(h=0,u=0,c=1,l=1,f=0,d=1):_<A?(h=0,u=0,c=1,l=0,f=1,d=1):w<A?(h=0,u=1,c=0,l=0,f=1,d=1):(h=0,u=1,c=0,l=1,f=1,d=0);var S=w-h+a,k=_-u+a,C=A-c+a,E=w-l+2*a,O=_-f+2*a,P=A-d+2*a,T=w-1+.5,I=_-1+.5,q=A-1+.5,R=255&v,F=255&b,j=255&x,B=.6-w*w-_*_-A*A;if(B<0)n=0;else{var N=3*p[R+m[F+m[j]]];n=(B*=B)*B*(g[N]*w+g[N+1]*_+g[N+2]*A)}var L=.6-S*S-k*k-C*C;if(L<0)i=0;else{var z=3*p[R+h+m[F+u+m[j+c]]];i=(L*=L)*L*(g[z]*S+g[z+1]*k+g[z+2]*C)}var D=.6-E*E-O*O-P*P;if(D<0)s=0;else{var V=3*p[R+l+m[F+f+m[j+d]]];s=(D*=D)*D*(g[V]*E+g[V+1]*O+g[V+2]*P)}var $=.6-T*T-I*I-q*q;if($<0)o=0;else{var Y=3*p[R+1+m[F+1+m[j+1]]];o=($*=$)*$*(g[Y]*T+g[Y+1]*I+g[Y+2]*q)}return 32*(n+i+s+o)},noise4D:function(t,e,r,n){var i,s,a,u,c,l,f,d,p,m,g,y,v,b,x,M,w,_=this.perm,A=this.grad4,S=(t+e+r+n)*o,k=Math.floor(t+S),C=Math.floor(e+S),E=Math.floor(r+S),O=Math.floor(n+S),P=(k+C+E+O)*h,T=t-(k-P),I=e-(C-P),q=r-(E-P),R=n-(O-P),F=0,j=0,B=0,N=0;T>I?F++:j++,T>q?F++:B++,T>R?F++:N++,I>q?j++:B++,I>R?j++:N++,q>R?B++:N++;var L=T-(l=F>=3?1:0)+h,z=I-(f=j>=3?1:0)+h,D=q-(d=B>=3?1:0)+h,V=R-(p=N>=3?1:0)+h,$=T-(m=F>=2?1:0)+2*h,Y=I-(g=j>=2?1:0)+2*h,G=q-(y=B>=2?1:0)+2*h,X=R-(v=N>=2?1:0)+2*h,U=T-(b=F>=1?1:0)+3*h,H=I-(x=j>=1?1:0)+3*h,Z=q-(M=B>=1?1:0)+3*h,Q=R-(w=N>=1?1:0)+3*h,W=T-1+4*h,J=I-1+4*h,K=q-1+4*h,tt=R-1+4*h,et=255&k,rt=255&C,nt=255&E,it=255&O,st=.6-T*T-I*I-q*q-R*R;if(st<0)i=0;else{var at=_[et+_[rt+_[nt+_[it]]]]%32*4;i=(st*=st)*st*(A[at]*T+A[at+1]*I+A[at+2]*q+A[at+3]*R)}var ot=.6-L*L-z*z-D*D-V*V;if(ot<0)s=0;else{var ht=_[et+l+_[rt+f+_[nt+d+_[it+p]]]]%32*4;s=(ot*=ot)*ot*(A[ht]*L+A[ht+1]*z+A[ht+2]*D+A[ht+3]*V)}var ut=.6-$*$-Y*Y-G*G-X*X;if(ut<0)a=0;else{var ct=_[et+m+_[rt+g+_[nt+y+_[it+v]]]]%32*4;a=(ut*=ut)*ut*(A[ct]*$+A[ct+1]*Y+A[ct+2]*G+A[ct+3]*X)}var lt=.6-U*U-H*H-Z*Z-Q*Q;if(lt<0)u=0;else{var ft=_[et+b+_[rt+x+_[nt+M+_[it+w]]]]%32*4;u=(lt*=lt)*lt*(A[ft]*U+A[ft+1]*H+A[ft+2]*Z+A[ft+3]*Q)}var dt=.6-W*W-J*J-K*K-tt*tt;if(dt<0)c=0;else{var pt=_[et+1+_[rt+1+_[nt+1+_[it+1]]]]%32*4;c=(dt*=dt)*dt*(A[pt]*W+A[pt+1]*J+A[pt+2]*K+A[pt+3]*tt)}return 27*(i+s+a+u+c)}},u._buildPermutationTable=c,void 0===(n=function(){return u}.call(e,r,e,t))||(t.exports=n),e.SimplexNoise=u,t.exports=u}()},479:(t,e,r)=>{var n;!function(){"use strict";function i(t,e,r){var n=e.x,i=e.y,s=r.x-n,a=r.y-i;if(0!==s||0!==a){var o=((t.x-n)*s+(t.y-i)*a)/(s*s+a*a);o>1?(n=r.x,i=r.y):o>0&&(n+=s*o,i+=a*o)}return(s=t.x-n)*s+(a=t.y-i)*a}function s(t,e,r,n,a){for(var o,h=n,u=e+1;u<r;u++){var c=i(t[u],t[e],t[r]);c>h&&(o=u,h=c)}h>n&&(o-e>1&&s(t,e,o,n,a),a.push(t[o]),r-o>1&&s(t,o,r,n,a))}function a(t,e){var r=t.length-1,n=[t[0]];return s(t,0,r,e,n),n.push(t[r]),n}function o(t,e,r){if(t.length<=2)return t;var n=void 0!==e?e*e:1;return t=r?t:function(t,e){for(var r,n,i,s,a,o=t[0],h=[o],u=1,c=t.length;u<c;u++)i=o,void 0,void 0,(s=(n=r=t[u]).x-i.x)*s+(a=n.y-i.y)*a>e&&(h.push(r),o=r);return o!==r&&h.push(r),h}(t,n),a(t,n)}void 0===(n=function(){return o}.call(e,r,e,t))||(t.exports=n)}()},222:(t,e,r)=>{"use strict";t.exports=r(192)},921:t=>{"use strict";var e=2*Math.PI;function r(t,e,r,n){var i=t*r+e*n;return i>1&&(i=1),i<-1&&(i=-1),(t*n-e*r<0?-1:1)*Math.acos(i)}function n(t,e){var r=4/3*Math.tan(e/4),n=Math.cos(t),i=Math.sin(t),s=Math.cos(t+e),a=Math.sin(t+e);return[n,i,n-i*r,i+n*r,s+a*r,a-s*r,s,a]}t.exports=function(t,i,s,a,o,h,u,c,l){var f=Math.sin(l*e/360),d=Math.cos(l*e/360),p=d*(t-s)/2+f*(i-a)/2,m=-f*(t-s)/2+d*(i-a)/2;if(0===p&&0===m)return[];if(0===u||0===c)return[];u=Math.abs(u),c=Math.abs(c);var g=p*p/(u*u)+m*m/(c*c);g>1&&(u*=Math.sqrt(g),c*=Math.sqrt(g));var y=function(t,n,i,s,a,o,h,u,c,l){var f=l*(t-i)/2+c*(n-s)/2,d=-c*(t-i)/2+l*(n-s)/2,p=h*h,m=u*u,g=f*f,y=d*d,v=p*m-p*y-m*g;v<0&&(v=0),v/=p*y+m*g;var b=(v=Math.sqrt(v)*(a===o?-1:1))*h/u*d,x=v*-u/h*f,M=l*b-c*x+(t+i)/2,w=c*b+l*x+(n+s)/2,_=(f-b)/h,A=(d-x)/u,S=(-f-b)/h,k=(-d-x)/u,C=r(1,0,_,A),E=r(_,A,S,k);return 0===o&&E>0&&(E-=e),1===o&&E<0&&(E+=e),[M,w,C,E]}(t,i,s,a,o,h,u,c,f,d),v=[],b=y[2],x=y[3],M=Math.max(Math.ceil(Math.abs(x)/(e/4)),1);x/=M;for(var w=0;w<M;w++)v.push(n(b,x)),b+=x;return v.map((function(t){for(var e=0;e<t.length;e+=2){var r=t[e+0],n=t[e+1],i=d*(r*=u)-f*(n*=c),s=f*r+d*n;t[e+0]=i+y[0],t[e+1]=s+y[1]}return t}))}},954:t=>{"use strict";var e=1e-10,r=Math.PI/180;function n(t,e,r){if(!(this instanceof n))return new n(t,e,r);this.rx=t,this.ry=e,this.ax=r}n.prototype.transform=function(t){var n=Math.cos(this.ax*r),i=Math.sin(this.ax*r),s=[this.rx*(t[0]*n+t[2]*i),this.rx*(t[1]*n+t[3]*i),this.ry*(-t[0]*i+t[2]*n),this.ry*(-t[1]*i+t[3]*n)],a=s[0]*s[0]+s[2]*s[2],o=s[1]*s[1]+s[3]*s[3],h=((s[0]-s[3])*(s[0]-s[3])+(s[2]+s[1])*(s[2]+s[1]))*((s[0]+s[3])*(s[0]+s[3])+(s[2]-s[1])*(s[2]-s[1])),u=(a+o)/2;if(h<e*u)return this.rx=this.ry=Math.sqrt(u),this.ax=0,this;var c=s[0]*s[1]+s[2]*s[3],l=u+(h=Math.sqrt(h))/2,f=u-h/2;return this.ax=Math.abs(c)<e&&Math.abs(l-o)<e?90:180*Math.atan(Math.abs(c)>Math.abs(l-o)?(l-a)/c:c/(l-o))/Math.PI,this.ax>=0?(this.rx=Math.sqrt(l),this.ry=Math.sqrt(f)):(this.ax+=90,this.rx=Math.sqrt(f),this.ry=Math.sqrt(l)),this},n.prototype.isDegenerate=function(){return this.rx<e*this.ry||this.ry<e*this.rx},t.exports=n},480:t=>{"use strict";function e(){if(!(this instanceof e))return new e;this.queue=[],this.cache=null}e.prototype.matrix=function(t){return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]||(this.cache=null,this.queue.push(t)),this},e.prototype.translate=function(t,e){return 0===t&&0===e||(this.cache=null,this.queue.push([1,0,0,1,t,e])),this},e.prototype.scale=function(t,e){return 1===t&&1===e||(this.cache=null,this.queue.push([t,0,0,e,0,0])),this},e.prototype.rotate=function(t,e,r){var n,i,s;return 0!==t&&(this.translate(e,r),n=t*Math.PI/180,i=Math.cos(n),s=Math.sin(n),this.queue.push([i,s,-s,i,0,0]),this.cache=null,this.translate(-e,-r)),this},e.prototype.skewX=function(t){return 0!==t&&(this.cache=null,this.queue.push([1,0,Math.tan(t*Math.PI/180),1,0,0])),this},e.prototype.skewY=function(t){return 0!==t&&(this.cache=null,this.queue.push([1,Math.tan(t*Math.PI/180),0,1,0,0])),this},e.prototype.toArray=function(){if(this.cache)return this.cache;if(!this.queue.length)return this.cache=[1,0,0,1,0,0],this.cache;if(this.cache=this.queue[0],1===this.queue.length)return this.cache;for(var t=1;t<this.queue.length;t++)this.cache=(e=this.cache,r=this.queue[t],[e[0]*r[0]+e[2]*r[1],e[1]*r[0]+e[3]*r[1],e[0]*r[2]+e[2]*r[3],e[1]*r[2]+e[3]*r[3],e[0]*r[4]+e[2]*r[5]+e[4],e[1]*r[4]+e[3]*r[5]+e[5]]);var e,r;return this.cache},e.prototype.calc=function(t,e,r){var n;return this.queue.length?(this.cache||(this.cache=this.toArray()),[t*(n=this.cache)[0]+e*n[2]+(r?0:n[4]),t*n[1]+e*n[3]+(r?0:n[5])]):[t,e]},t.exports=e},665:t=>{"use strict";var e={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},r=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function n(t){return t>=48&&t<=57}function i(t){this.index=0,this.path=t,this.max=t.length,this.result=[],this.param=0,this.err="",this.segmentStart=0,this.data=[]}function s(t){for(;t.index<t.max&&(10===(e=t.path.charCodeAt(t.index))||13===e||8232===e||8233===e||32===e||9===e||11===e||12===e||160===e||e>=5760&&r.indexOf(e)>=0);)t.index++;var e}function a(t){var e=t.path.charCodeAt(t.index);return 48===e?(t.param=0,void t.index++):49===e?(t.param=1,void t.index++):void(t.err="SvgPath: arc flag can be 0 or 1 only (at pos "+t.index+")")}function o(t){var e,r=t.index,i=r,s=t.max,a=!1,o=!1,h=!1,u=!1;if(i>=s)t.err="SvgPath: missed param (at pos "+i+")";else if(43!==(e=t.path.charCodeAt(i))&&45!==e||(e=++i<s?t.path.charCodeAt(i):0),n(e)||46===e){if(46!==e){if(a=48===e,e=++i<s?t.path.charCodeAt(i):0,a&&i<s&&e&&n(e))return void(t.err="SvgPath: numbers started with `0` such as `09` are illegal (at pos "+r+")");for(;i<s&&n(t.path.charCodeAt(i));)i++,o=!0;e=i<s?t.path.charCodeAt(i):0}if(46===e){for(u=!0,i++;n(t.path.charCodeAt(i));)i++,h=!0;e=i<s?t.path.charCodeAt(i):0}if(101===e||69===e){if(u&&!o&&!h)return void(t.err="SvgPath: invalid float exponent (at pos "+i+")");if(43!==(e=++i<s?t.path.charCodeAt(i):0)&&45!==e||i++,!(i<s&&n(t.path.charCodeAt(i))))return void(t.err="SvgPath: invalid float exponent (at pos "+i+")");for(;i<s&&n(t.path.charCodeAt(i));)i++}t.index=i,t.param=parseFloat(t.path.slice(r,i))+0}else t.err="SvgPath: param should start with 0..9 or `.` (at pos "+i+")"}function h(t){var r,n;n=(r=t.path[t.segmentStart]).toLowerCase();var i=t.data;if("m"===n&&i.length>2&&(t.result.push([r,i[0],i[1]]),i=i.slice(2),n="l",r="m"===r?"l":"L"),"r"===n)t.result.push([r].concat(i));else for(;i.length>=e[n]&&(t.result.push([r].concat(i.splice(0,e[n]))),e[n]););}function u(t){var r,n,i,u,c,l,f=t.max;if(t.segmentStart=t.index,n=97==(32|(r=t.path.charCodeAt(t.index))),function(t){switch(32|t){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}(r))if(u=e[t.path[t.index].toLowerCase()],t.index++,s(t),t.data=[],u){for(i=!1;;){for(c=u;c>0;c--){if(!n||3!==c&&4!==c?o(t):a(t),t.err.length)return;t.data.push(t.param),s(t),i=!1,t.index<f&&44===t.path.charCodeAt(t.index)&&(t.index++,s(t),i=!0)}if(!i){if(t.index>=t.max)break;if(!((l=t.path.charCodeAt(t.index))>=48&&l<=57||43===l||45===l||46===l))break}}h(t)}else h(t);else t.err="SvgPath: bad command "+t.path[t.index]+" (at pos "+t.index+")"}t.exports=function(t){var e=new i(t),r=e.max;for(s(e);e.index<r&&!e.err.length;)u(e);return e.err.length?e.result=[]:e.result.length&&("mM".indexOf(e.result[0][0])<0?(e.err="SvgPath: string should start with `M` or `m`",e.result=[]):e.result[0][0]="M"),{err:e.err,segments:e.result}}},192:(t,e,r)=>{"use strict";var n=r(665),i=r(94),s=r(480),a=r(921),o=r(954);function h(t){if(!(this instanceof h))return new h(t);var e=n(t);this.segments=e.segments,this.err=e.err,this.__stack=[]}h.from=function(t){if("string"==typeof t)return new h(t);if(t instanceof h){var e=new h("");return e.err=t.err,e.segments=t.segments.map((function(t){return t.slice()})),e.__stack=t.__stack.map((function(t){return s().matrix(t.toArray())})),e}throw new Error("SvgPath.from: invalid param type "+t)},h.prototype.__matrix=function(t){var e,r=this;t.queue.length&&this.iterate((function(n,i,s,a){var h,u,c,l;switch(n[0]){case"v":u=0===(h=t.calc(0,n[1],!0))[0]?["v",h[1]]:["l",h[0],h[1]];break;case"V":u=(h=t.calc(s,n[1],!1))[0]===t.calc(s,a,!1)[0]?["V",h[1]]:["L",h[0],h[1]];break;case"h":u=0===(h=t.calc(n[1],0,!0))[1]?["h",h[0]]:["l",h[0],h[1]];break;case"H":u=(h=t.calc(n[1],a,!1))[1]===t.calc(s,a,!1)[1]?["H",h[0]]:["L",h[0],h[1]];break;case"a":case"A":var f=t.toArray(),d=o(n[1],n[2],n[3]).transform(f);if(f[0]*f[3]-f[1]*f[2]<0&&(n[5]=n[5]?"0":"1"),h=t.calc(n[6],n[7],"a"===n[0]),"A"===n[0]&&n[6]===s&&n[7]===a||"a"===n[0]&&0===n[6]&&0===n[7]){u=["a"===n[0]?"l":"L",h[0],h[1]];break}u=d.isDegenerate()?["a"===n[0]?"l":"L",h[0],h[1]]:[n[0],d.rx,d.ry,d.ax,n[4],n[5],h[0],h[1]];break;case"m":l=i>0,u=["m",(h=t.calc(n[1],n[2],l))[0],h[1]];break;default:for(u=[c=n[0]],l=c.toLowerCase()===c,e=1;e<n.length;e+=2)h=t.calc(n[e],n[e+1],l),u.push(h[0],h[1])}r.segments[i]=u}),!0)},h.prototype.__evaluateStack=function(){var t,e;if(this.__stack.length){if(1===this.__stack.length)return this.__matrix(this.__stack[0]),void(this.__stack=[]);for(t=s(),e=this.__stack.length;--e>=0;)t.matrix(this.__stack[e].toArray());this.__matrix(t),this.__stack=[]}},h.prototype.toString=function(){var t,e,r=[];this.__evaluateStack();for(var n=0;n<this.segments.length;n++)e=this.segments[n][0],t=n>0&&"m"!==e&&"M"!==e&&e===this.segments[n-1][0],r=r.concat(t?this.segments[n].slice(1):this.segments[n]);return r.join(" ").replace(/ ?([achlmqrstvz]) ?/gi,"$1").replace(/ \-/g,"-").replace(/zm/g,"z m")},h.prototype.translate=function(t,e){return this.__stack.push(s().translate(t,e||0)),this},h.prototype.scale=function(t,e){return this.__stack.push(s().scale(t,e||0===e?e:t)),this},h.prototype.rotate=function(t,e,r){return this.__stack.push(s().rotate(t,e||0,r||0)),this},h.prototype.skewX=function(t){return this.__stack.push(s().skewX(t)),this},h.prototype.skewY=function(t){return this.__stack.push(s().skewY(t)),this},h.prototype.matrix=function(t){return this.__stack.push(s().matrix(t)),this},h.prototype.transform=function(t){return t.trim()?(this.__stack.push(i(t)),this):this},h.prototype.round=function(t){var e,r=0,n=0,i=0,s=0;return t=t||0,this.__evaluateStack(),this.segments.forEach((function(a){var o=a[0].toLowerCase()===a[0];switch(a[0]){case"H":case"h":return o&&(a[1]+=i),i=a[1]-a[1].toFixed(t),void(a[1]=+a[1].toFixed(t));case"V":case"v":return o&&(a[1]+=s),s=a[1]-a[1].toFixed(t),void(a[1]=+a[1].toFixed(t));case"Z":case"z":return i=r,void(s=n);case"M":case"m":return o&&(a[1]+=i,a[2]+=s),i=a[1]-a[1].toFixed(t),s=a[2]-a[2].toFixed(t),r=i,n=s,a[1]=+a[1].toFixed(t),void(a[2]=+a[2].toFixed(t));case"A":case"a":return o&&(a[6]+=i,a[7]+=s),i=a[6]-a[6].toFixed(t),s=a[7]-a[7].toFixed(t),a[1]=+a[1].toFixed(t),a[2]=+a[2].toFixed(t),a[3]=+a[3].toFixed(t+2),a[6]=+a[6].toFixed(t),void(a[7]=+a[7].toFixed(t));default:return e=a.length,o&&(a[e-2]+=i,a[e-1]+=s),i=a[e-2]-a[e-2].toFixed(t),s=a[e-1]-a[e-1].toFixed(t),void a.forEach((function(e,r){r&&(a[r]=+a[r].toFixed(t))}))}})),this},h.prototype.iterate=function(t,e){var r,n,i,s=this.segments,a={},o=!1,h=0,u=0,c=0,l=0;if(e||this.__evaluateStack(),s.forEach((function(e,r){var n=t(e,r,h,u);Array.isArray(n)&&(a[r]=n,o=!0);var i=e[0]===e[0].toLowerCase();switch(e[0]){case"m":case"M":return h=e[1]+(i?h:0),u=e[2]+(i?u:0),c=h,void(l=u);case"h":case"H":return void(h=e[1]+(i?h:0));case"v":case"V":return void(u=e[1]+(i?u:0));case"z":case"Z":return h=c,void(u=l);default:h=e[e.length-2]+(i?h:0),u=e[e.length-1]+(i?u:0)}})),!o)return this;for(i=[],r=0;r<s.length;r++)if(void 0!==a[r])for(n=0;n<a[r].length;n++)i.push(a[r][n]);else i.push(s[r]);return this.segments=i,this},h.prototype.abs=function(){return this.iterate((function(t,e,r,n){var i,s=t[0],a=s.toUpperCase();if(s!==a)switch(t[0]=a,s){case"v":return void(t[1]+=n);case"a":return t[6]+=r,void(t[7]+=n);default:for(i=1;i<t.length;i++)t[i]+=i%2?r:n}}),!0),this},h.prototype.rel=function(){return this.iterate((function(t,e,r,n){var i,s=t[0],a=s.toLowerCase();if(s!==a&&(0!==e||"M"!==s))switch(t[0]=a,s){case"V":return void(t[1]-=n);case"A":return t[6]-=r,void(t[7]-=n);default:for(i=1;i<t.length;i++)t[i]-=i%2?r:n}}),!0),this},h.prototype.unarc=function(){return this.iterate((function(t,e,r,n){var i,s,o,h=[],u=t[0];return"A"!==u&&"a"!==u?null:("a"===u?(s=r+t[6],o=n+t[7]):(s=t[6],o=t[7]),0===(i=a(r,n,s,o,t[4],t[5],t[1],t[2],t[3])).length?[["a"===t[0]?"l":"L",t[6],t[7]]]:(i.forEach((function(t){h.push(["C",t[2],t[3],t[4],t[5],t[6],t[7]])})),h))})),this},h.prototype.unshort=function(){var t,e,r,n,i,s=this.segments;return this.iterate((function(a,o,h,u){var c,l=a[0],f=l.toUpperCase();o&&("T"===f?(c="t"===l,"Q"===(r=s[o-1])[0]?(t=r[1]-h,e=r[2]-u):"q"===r[0]?(t=r[1]-r[3],e=r[2]-r[4]):(t=0,e=0),n=-t,i=-e,c||(n+=h,i+=u),s[o]=[c?"q":"Q",n,i,a[1],a[2]]):"S"===f&&(c="s"===l,"C"===(r=s[o-1])[0]?(t=r[3]-h,e=r[4]-u):"c"===r[0]?(t=r[3]-r[5],e=r[4]-r[6]):(t=0,e=0),n=-t,i=-e,c||(n+=h,i+=u),s[o]=[c?"c":"C",n,i,a[1],a[2],a[3],a[4]]))})),this},t.exports=h},94:(t,e,r)=>{"use strict";var n=r(480),i={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},s=/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/,a=/[\s,]+/;t.exports=function(t){var e,r,o=new n;return t.split(s).forEach((function(t){if(t.length)if(void 0===i[t])switch(r=t.split(a).map((function(t){return+t||0})),e){case"matrix":return void(6===r.length&&o.matrix(r));case"scale":return void(1===r.length?o.scale(r[0],r[0]):2===r.length&&o.scale(r[0],r[1]));case"rotate":return void(1===r.length?o.rotate(r[0],0,0):3===r.length&&o.rotate(r[0],r[1],r[2]));case"translate":return void(1===r.length?o.translate(r[0],0):2===r.length&&o.translate(r[0],r[1]));case"skewX":return void(1===r.length&&o.skewX(r[0]));case"skewY":return void(1===r.length&&o.skewY(r[0]))}else e=t})),o}},197:(t,e,r)=>{"use strict";function n(t,e){return Array.isArray(e)?[t.a*e[0]+t.c*e[1]+t.e,t.b*e[0]+t.d*e[1]+t.f]:{x:t.a*e.x+t.c*e.y+t.e,y:t.b*e.x+t.d*e.y+t.f}}function i(t,e){return e.map((e=>n(t,e)))}function s(t){return{a:parseFloat(t.a),b:parseFloat(t.b),c:parseFloat(t.c),d:parseFloat(t.d),e:parseFloat(t.e),f:parseFloat(t.f)}}r.r(e),r.d(e,{applyToPoint:()=>n,applyToPoints:()=>i,compose:()=>m,fromDefinition:()=>T,fromObject:()=>s,fromString:()=>o,fromTransformAttribute:()=>R,fromTriangles:()=>P,identity:()=>h,inverse:()=>u,isAffineMatrix:()=>f,rotate:()=>b,rotateDEG:()=>x,scale:()=>M,shear:()=>w,skew:()=>A,skewDEG:()=>S,smoothMatrix:()=>O,toCSS:()=>k,toSVG:()=>C,toString:()=>E,transform:()=>p,translate:()=>d});const a=/^matrix\(\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*\)$/i;function o(t){const e=t.match(a);if(null===e||e.length<7)throw new Error(`'${t}' is not a matrix`);return{a:parseFloat(e[1]),b:parseFloat(e[2]),c:parseFloat(e[3]),d:parseFloat(e[4]),e:parseFloat(e[5]),f:parseFloat(e[6])}}function h(){return{a:1,c:0,e:0,b:0,d:1,f:0}}function u(t){const{a:e,b:r,c:n,d:i,e:s,f:a}=t,o=e*i-r*n;return{a:i/o,b:r/-o,c:n/-o,d:e/o,e:(i*s-n*a)/-o,f:(r*s-e*a)/o}}function c(t){return void 0===t}function l(t){return"number"==typeof t&&!Number.isNaN(t)&&Number.isFinite(t)}function f(t){return"object"==typeof(e=t)&&null!==e&&!Array.isArray(e)&&"a"in t&&l(t.a)&&"b"in t&&l(t.b)&&"c"in t&&l(t.c)&&"d"in t&&l(t.d)&&"e"in t&&l(t.e)&&"f"in t&&l(t.f);var e}function d(t,e=0){return{a:1,c:0,e:t,b:0,d:1,f:e}}function p(...t){const e=(t,e)=>({a:t.a*e.a+t.c*e.b,c:t.a*e.c+t.c*e.d,e:t.a*e.e+t.c*e.f+t.e,b:t.b*e.a+t.d*e.b,d:t.b*e.c+t.d*e.d,f:t.b*e.e+t.d*e.f+t.f});switch((t=Array.isArray(t[0])?t[0]:t).length){case 0:throw new Error("no matrices provided");case 1:return t[0];case 2:return e(t[0],t[1]);default:{const[r,n,...i]=t;return p(e(r,n),...i)}}}function m(...t){return p(...t)}const{cos:g,sin:y,PI:v}=Math;function b(t,e,r){const n=g(t),i=y(t),s={a:n,c:-i,e:0,b:i,d:n,f:0};return c(e)||c(r)?s:p([d(e,r),s,d(-e,-r)])}function x(t,e,r){return b(t*v/180,e,r)}function M(t,e,r,n){c(e)&&(e=t);const i={a:t,c:0,e:0,b:0,d:e,f:0};return c(r)||c(n)?i:p([d(r,n),i,d(-r,-n)])}function w(t,e){return{a:1,c:t,e:0,b:e,d:1,f:0}}const{tan:_}=Math;function A(t,e){return{a:1,c:_(t),e:0,b:_(e),d:1,f:0}}function S(t,e){return A(t*Math.PI/180,e*Math.PI/180)}function k(t){return E(t)}function C(t){return E(t)}function E(t){return`matrix(${t.a},${t.b},${t.c},${t.d},${t.e},${t.f})`}function O(t,e=1e10){return{a:Math.round(t.a*e)/e,b:Math.round(t.b*e)/e,c:Math.round(t.c*e)/e,d:Math.round(t.d*e)/e,e:Math.round(t.e*e)/e,f:Math.round(t.f*e)/e}}function P(t,e){const r=null!=t[0].x?t[0].x:t[0][0],n=null!=t[0].y?t[0].y:t[0][1],i=null!=e[0].x?e[0].x:e[0][0],s=null!=e[0].y?e[0].y:e[0][1],a=null!=t[1].x?t[1].x:t[1][0],o=null!=t[1].y?t[1].y:t[1][1],h=null!=e[1].x?e[1].x:e[1][0],c=null!=e[1].y?e[1].y:e[1][1],l=null!=t[2].x?t[2].x:t[2][0],f=null!=t[2].y?t[2].y:t[2][1],d=null!=e[2].x?e[2].x:e[2][0],m=null!=e[2].y?e[2].y:e[2][1];return O(p([{a:i-d,b:s-m,c:h-d,d:c-m,e:d,f:m},u({a:r-l,b:n-f,c:a-l,d:o-f,e:l,f})]))}function T(t){return Array.isArray(t)?t.map(e):e(t);function e(t){switch(t.type){case"matrix":if("a"in t&&"b"in t&&"c"in t&&"d"in t&&"e"in t&&"f"in t)return s(t);throw new Error("MISSING_MANDATORY_PARAM");case"translate":if(!("tx"in t))throw new Error("MISSING_MANDATORY_PARAM");return"ty"in t?d(t.tx,t.ty):d(t.tx);case"scale":if(!("sx"in t))throw new Error("MISSING_MANDATORY_PARAM");return"sy"in t?M(t.sx,t.sy):M(t.sx);case"rotate":if(!("angle"in t))throw new Error("MISSING_MANDATORY_PARAM");return"cx"in t&&"cy"in t?x(t.angle,t.cx,t.cy):x(t.angle);case"skewX":if(!("angle"in t))throw new Error("MISSING_MANDATORY_PARAM");return S(t.angle,0);case"skewY":if(!("angle"in t))throw new Error("MISSING_MANDATORY_PARAM");return S(0,t.angle);case"shear":if(!("shx"in t)||!("shy"in t))throw new Error("MISSING_MANDATORY_PARAM");return w(t.shx,t.shy);default:throw new Error("UNSUPPORTED_DESCRIPTOR")}}}function I(t,e,r,n){this.message=t,this.expected=e,this.found=r,this.location=n,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,I)}function q(t,e){e=void 0!==e?e:{};var r,n={},i={transformList:G},s=G,a="matrix",o="(",h=")",u="translate",c="scale",l="rotate",f="skewX",d="skewY",p=/^[eE]/,m=/^[+\-]/,g=/^[0-9]/,y=/^[ \t\r\n]/,v=B("matrix",!1),b=B("(",!1),x=B(")",!1),M=B("translate",!1),w=B("scale",!1),_=B("rotate",!1),A=B("skewX",!1),S=B("skewY",!1),k=B(",",!1),C={type:"other",description:"fractionalConstant"},E=N(["e","E"],!1,!1),O=N(["+","-"],!1,!1),P=N([["0","9"]],!1,!1),T=N([" ","\t","\r","\n"],!1,!1),q=0,R=[{line:1,column:1}],F=[],j=0;if("startRule"in e){if(!(e.startRule in i))throw new Error("Can't start parsing from rule \""+e.startRule+'".');s=i[e.startRule]}function B(t,e){return{type:"literal",text:t,ignoreCase:e}}function N(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function L(e){var r,n=R[e];if(n)return n;for(r=e-1;!R[r];)r--;for(n={line:(n=R[r]).line,column:n.column};r<e;)10===t.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return R[e]=n,n}var z,D,V="string"==typeof e.filename&&e.filename.length>0;function $(t,r){var n={};V&&(n.filename=e.filename);var i=L(t);n.start={offset:t,line:i.line,column:i.column};var s=L(r);return n.end={offset:r,line:s.line,column:s.column},n}function Y(t){var e=F[F.length-1];q<e.pos||(q>e.pos&&(e.pos=q,e.variants=[]),e.variants.push(t))}function G(){var t,e,r,i;for(q,t=[],e=rt();e!==n;)t.push(e),e=rt();for((e=X())===n&&(e=null),r=[],i=rt();i!==n;)r.push(i),i=rt();return e}function X(){var t,e,r,i,s;if(t=q,(e=U())!==n){if(r=[],(i=Q())!==n)for(;i!==n;)r.push(i),i=Q();else r=n;r!==n&&(i=X())!==n?(s=i,t=e.concat(s)):(q=t,t=n)}else q=t,t=n;return t===n&&(t=U()),t}function U(){var e;return(e=function(){var e,r,i,s,u,c,l,f,d,p,m,g,y,M=function(t){0===j&&Y(t)};if(e=q,M(v),t.substr(q,6)===a?(r=a,q+=6):r=n,r!==n){for(i=[],s=rt();s!==n;)i.push(s),s=rt();if(M(b),40===t.charCodeAt(q)?(s=o,q++):s=n,s!==n){for(u=[],c=rt();c!==n;)u.push(c),c=rt();if((c=H())!==n)if(Q()!==n)if((l=H())!==n)if(Q()!==n)if((f=H())!==n)if(Q()!==n)if((d=H())!==n)if(Q()!==n)if((p=H())!==n)if(Q()!==n)if((m=H())!==n){for(g=[],y=rt();y!==n;)g.push(y),y=rt();M(x),41===t.charCodeAt(q)?(y=h,q++):y=n,y!==n?e=[{type:"matrix",a:c,b:l,c:f,d,e:p,f:m}]:(q=e,e=n)}else q=e,e=n;else q=e,e=n;else q=e,e=n;else q=e,e=n;else q=e,e=n;else q=e,e=n;else q=e,e=n;else q=e,e=n;else q=e,e=n;else q=e,e=n;else q=e,e=n}else q=e,e=n}else q=e,e=n;return e}())===n&&((e=function(){var e,r,i,s,a,c,l,f,d,p,m,g=function(t){0===j&&Y(t)};if(e=q,g(M),t.substr(q,9)===u?(r=u,q+=9):r=n,r!==n){for(i=[],s=rt();s!==n;)i.push(s),s=rt();if(g(b),40===t.charCodeAt(q)?(s=o,q++):s=n,s!==n){for(a=[],c=rt();c!==n;)a.push(c),c=rt();if((c=H())!==n){for((l=Z())===n&&(l=null),f=[],d=rt();d!==n;)f.push(d),d=rt();g(x),41===t.charCodeAt(q)?(d=h,q++):d=n,d!==n?(m={type:"translate",tx:c},(p=l)&&(m.ty=p),e=[m]):(q=e,e=n)}else q=e,e=n}else q=e,e=n}else q=e,e=n;return e}())===n&&((e=function(){var e,r,i,s,a,u,l,f,d,p,m,g=function(t){0===j&&Y(t)};if(e=q,g(w),t.substr(q,5)===c?(r=c,q+=5):r=n,r!==n){for(i=[],s=rt();s!==n;)i.push(s),s=rt();if(g(b),40===t.charCodeAt(q)?(s=o,q++):s=n,s!==n){for(a=[],u=rt();u!==n;)a.push(u),u=rt();if((u=H())!==n){for((l=Z())===n&&(l=null),f=[],d=rt();d!==n;)f.push(d),d=rt();g(x),41===t.charCodeAt(q)?(d=h,q++):d=n,d!==n?(m={type:"scale",sx:u},(p=l)&&(m.sy=p),e=[m]):(q=e,e=n)}else q=e,e=n}else q=e,e=n}else q=e,e=n;return e}())===n&&((e=function(){var e,r,i,s,a,u,c,f,d,p,m,g=function(t){0===j&&Y(t)};if(e=q,g(_),t.substr(q,6)===l?(r=l,q+=6):r=n,r!==n){for(i=[],s=rt();s!==n;)i.push(s),s=rt();if(g(b),40===t.charCodeAt(q)?(s=o,q++):s=n,s!==n){for(a=[],u=rt();u!==n;)a.push(u),u=rt();if((u=H())!==n){for(c=function(){var t,e,r;return t=q,Q()!==n&&(e=H())!==n&&Q()!==n&&(r=H())!==n?t=[e,r]:(q=t,t=n),t}(),c===n&&(c=null),f=[],d=rt();d!==n;)f.push(d),d=rt();g(x),41===t.charCodeAt(q)?(d=h,q++):d=n,d!==n?(m={type:"rotate",angle:u},(p=c)&&(m.cx=p[0],m.cy=p[1]),e=[m]):(q=e,e=n)}else q=e,e=n}else q=e,e=n}else q=e,e=n;return e}())===n&&((e=function(){var e,r,i,s,a,u,c,l,d=function(t){0===j&&Y(t)};if(e=q,d(A),t.substr(q,5)===f?(r=f,q+=5):r=n,r!==n){for(i=[],s=rt();s!==n;)i.push(s),s=rt();if(d(b),40===t.charCodeAt(q)?(s=o,q++):s=n,s!==n){for(a=[],u=rt();u!==n;)a.push(u),u=rt();if((u=H())!==n){for(c=[],l=rt();l!==n;)c.push(l),l=rt();d(x),41===t.charCodeAt(q)?(l=h,q++):l=n,l!==n?e=[{type:"skewX",angle:u}]:(q=e,e=n)}else q=e,e=n}else q=e,e=n}else q=e,e=n;return e}())===n&&(e=function(){var e,r,i,s,a,u,c,l,f=function(t){0===j&&Y(t)};if(e=q,f(S),t.substr(q,5)===d?(r=d,q+=5):r=n,r!==n){for(i=[],s=rt();s!==n;)i.push(s),s=rt();if(f(b),40===t.charCodeAt(q)?(s=o,q++):s=n,s!==n){for(a=[],u=rt();u!==n;)a.push(u),u=rt();if((u=H())!==n){for(c=[],l=rt();l!==n;)c.push(l),l=rt();f(x),41===t.charCodeAt(q)?(l=h,q++):l=n,l!==n?e=[{type:"skewY",angle:u}]:(q=e,e=n)}else q=e,e=n}else q=e,e=n}else q=e,e=n;return e}()))))),e}function H(){var e,r,i,s;return e=q,r=q,(i=K())===n&&(i=null),s=function(){var e,r,i;return e=q,r=function(){var e,r,i,s,a,o,h;return a=C,0===j&&Y(a),j++,e=q,(r=tt())===n&&(r=null),46===t.charCodeAt(q)?(i=".",q++):i=n,i!==n&&(s=tt())!==n?(h=s,e=[(o=r)?o.join(""):null,".",h.join("")].join("")):(q=e,e=n),e===n&&(e=q,(r=tt())!==n?(46===t.charCodeAt(q)?(i=".",q++):i=n,i!==n?e=r.join(""):(q=e,e=n)):(q=e,e=n)),j--,e}(),r!==n?((i=J())===n&&(i=null),e=[r,i||null].join("")):(q=e,e=n),e===n&&(e=q,(r=tt())!==n&&(i=J())!==n?e=[r,i].join(""):(q=e,e=n)),e}(),s!==n?r=i=[i,s]:(q=r,r=n),r!==n&&(r=parseFloat(r.join(""))),(e=r)===n&&(e=q,r=q,(i=K())===n&&(i=null),s=function(){var t;return q,(t=tt())!==n&&(t=t.join("")),t}(),s!==n?r=i=[i,s]:(q=r,r=n),r!==n&&(r=parseInt(r.join(""))),e=r),e}function Z(){var t,e;return t=q,Q()!==n&&(e=H())!==n?t=e:(q=t,t=n),t}function Q(){var t,e,r,i,s;if(t=q,e=[],(r=rt())!==n)for(;r!==n;)e.push(r),r=rt();else e=n;if(e!==n){for((r=W())===n&&(r=null),i=[],s=rt();s!==n;)i.push(s),s=rt();t=e=[e,r,i]}else q=t,t=n;if(t===n)if(t=q,(e=W())!==n){for(r=[],i=rt();i!==n;)r.push(i),i=rt();t=e=[e,r]}else q=t,t=n;return t}function W(){var e,r;return r=k,0===j&&Y(r),44===t.charCodeAt(q)?(e=",",q++):e=n,e}function J(){var e,r,i,s,a;return e=q,a=E,0===j&&Y(a),p.test(t.charAt(q))?(r=t.charAt(q),q++):r=n,r!==n?((i=K())===n&&(i=null),(s=tt())!==n?e=["e",i,s.join("")].join(""):(q=e,e=n)):(q=e,e=n),e}function K(){var e,r;return r=O,0===j&&Y(r),m.test(t.charAt(q))?(e=t.charAt(q),q++):e=n,e}function tt(){var t,e;if(t=[],(e=et())!==n)for(;e!==n;)t.push(e),e=et();else t=n;return t}function et(){var e,r;return r=P,0===j&&Y(r),g.test(t.charAt(q))?(e=t.charAt(q),q++):e=n,e}function rt(){var e,r;return r=T,0===j&&Y(r),y.test(t.charAt(q))?(e=t.charAt(q),q++):e=n,e}if(F.push({pos:q,variants:[]}),(r=s())!==n&&q===t.length)return r;throw r!==n&&q<t.length&&Y({type:"end"}),z=F[0],D=z.pos,function(t,e,r){return new I(I.buildMessage(t,e,r),t,e,r)}(z.variants,D<t.length?t.charAt(D):null,D<t.length?$(D,D+1):$(D,D))}function R(t){return q(t)}!function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(I,Error),I.buildMessage=function(t,e,r){var n={literal:function(t){return'"'+s(t.text)+'"'},class:function(t){var e=t.parts.map((function(t){return Array.isArray(t)?a(t[0])+"-"+a(t[1]):a(t)}));return"["+(t.inverted?"^":"")+e+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(t){return t.description},not:function(t){return"not "+o(t.expected)}};function i(t){return t.charCodeAt(0).toString(16).toUpperCase()}function s(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+i(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+i(t)}))}function a(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+i(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+i(t)}))}function o(t){return n[t.type](t)}return"Expected "+function(t){var e,r,n=t.map(o);if(n.sort(),n.length>0){for(e=1,r=1;e<n.length;e++)n[e-1]!==n[e]&&(n[r]=n[e],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(t)+" but "+function(t){return t?'"'+s(t)+'"':"end of input"}(e)+" found."}}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,r),s.exports}return r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r(625)})()}));